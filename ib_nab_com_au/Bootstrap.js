(function ensightenInit(){var ensightenOptions = {client: "nab", clientId: 1169, publishPath: "ib-prod", isPublic:0, serverComponentLocation: "tms.nab.com.au/nab/ib-prod/serverComponent.php", staticJavascriptPath: "tms.nab.com.au/nab/ib-prod/code/", ns: 'Bootstrapper', nexus:"tms.nab.com.au", scUseCacheBuster: "true", enableTagAuditBeacon : "false", enablePagePerfBeacon : "false", registryNs : "ensBootstraps", generatedOn : "Wed Oct 30 02:42:46 GMT 2024", beaconSamplingSeedValue: 11};
if ( !window[ensightenOptions.ns] ) {
window[ensightenOptions.registryNs]||(window[ensightenOptions.registryNs]={});
window[ensightenOptions.registryNs][ensightenOptions.ns]=window[ensightenOptions.ns]=function(l){function m(a){this.name="DependencyNotAvailableException";this.message="Dependency with id "+a+"is missing"}function n(a){this.name="BeaconException";this.message="There was an error durring beacon initialization";a=a||{};this.lineNumber=a.lineNumber||a.line;this.fileName=a.fileName}function q(){for(var a=c.dataDefinitionIds.length,b=!0,d=0;d<a;d++){var f=c.dataDefinitions[c.dataDefinitionIds[d]];if(!f||
null==f.endRegistration){b=!1;break}}b&&c.callOnDataDefintionComplete()}var e={},c={};c.ensightenOptions=ensightenOptions;c.scDataObj={};e.version="1.26.0";e.nexus=l.nexus||"nexus.ensighten.com";e.rand=-1;e.currSec=(new Date).getSeconds();e.options={interval:l.interval||100,erLoc:l.errorLocation||e.nexus+"/error/e.gif",scLoc:l.serverComponentLocation||e.nexus+"/"+l.client+"/serverComponent.php",sjPath:l.staticJavascriptPath||e.nexus+"/"+l.client+"/code/",alLoc:l.alertLocation||e.nexus+"/alerts/a.gif",
publishPath:l.publishPath,isPublic:l.isPublic,client:l.client,clientId:l.clientId,enableTagAuditBeacon:l.enableTagAuditBeacon,beaconSamplingSeedValue:l.beaconSamplingSeedValue||-1};e.ruleList=[];e.allDeploymentIds=[];e.runDeploymentIds=[];e.runRuleIds=[];e.exceptionList=[];e.ensightenVariables={};e.test=function(a){if(!(a.executionData.hasRun||a.executionData.runTime&&0<a.executionData.runTime.length)){for(var b=0;b<a.dependencies.length;b++)if(!1===a.dependencies[b]())return;a.execute()}};m.prototype=
Error();m.prototype||(m.prototype={});m.prototype.constructor=m;e.DependencyNotAvailableException=m;n.prototype=Error();n.prototype||(n.prototype={});n.prototype.constructor=n;e.BeaconException=n;e.checkForInvalidDependencies=function(a,b,d,f){for(a=0;a<d.length;a++)if("DEPENDENCYNEVERAVAILABLE"===d[a])return c.currentRuleId=this.id,c.currentDeploymentId=this.deploymentId,c.reportException(new e.DependencyNotAvailableException(f[a])),b&&-1!==b&&e.allDeploymentIds.push(b),!0;return!1};c.currentRuleId=
-1;c.currentDeploymentId=-1;c.reportedErrors=[];c.reportedAlerts=[];c.AF=[];c._serverTime="";c._clientIP="";c.sampleBeacon=function(){var a=!1;try{var b=(e.currSec||0)%20,d=e.options.beaconSamplingSeedValue;-1===d?a=!0:0!==b&&0===d%b&&(a=!0)}catch(f){}return a};c.getServerComponent=function(a){c.callOnGetServerComponent();c.insertScript(window.location.protocol+"//"+e.options.scLoc,!1,a||!0)};c.setVariable=function(a,b){e.ensightenVariables[a]=b};c.getVariable=function(a){return a in e.ensightenVariables?
e.ensightenVariables[a]:null};c.testAll=function(){for(var a=0;a<e.ruleList.length;a++)e.test(e.ruleList[a])};c.executionState={DOMParsed:!1,DOMLoaded:!1,dataDefinitionComplete:!1,conditionalRules:!1,readyForServerComponent:!1};c.reportException=function(a){a.timestamp=(new Date).getTime();e.exceptionList.push(a);a=window.location.protocol+"//"+e.options.erLoc+"?msg="+encodeURIComponent(a.message||"")+"&lnn="+encodeURIComponent(a.lineNumber||a.line||-1)+"&fn="+encodeURIComponent(a.fileName||"")+"&cid="+
encodeURIComponent(e.options.clientId||-1)+"&client="+encodeURIComponent(e.options.client||"")+"&publishPath="+encodeURIComponent(e.options.publishPath||"")+"&rid="+encodeURIComponent(c.currentRuleId||-1)+"&did="+encodeURIComponent(c.currentDeploymentId||-1)+"&errorName="+encodeURIComponent(a.name||"");a=c.imageRequest(a);a.timestamp=(new Date).getTime();this.reportedErrors.push(a)};c.Rule=function(a){this.execute=function(){this.executionData.runTime.push(new Date);c.currentRuleId=this.id;c.currentDeploymentId=
this.deploymentId;try{this.code()}catch(b){window[ensightenOptions.ns].reportException(b)}finally{this.executionData.hasRun=!0,-1!==this.deploymentId&&(e.runDeploymentIds.push(this.deploymentId),e.runRuleIds.push(this.id)),c.testAll()}};this.id=a.id;this.deploymentId=a.deploymentId;this.dependencies=a.dependencies||[];this.code=a.code;this.executionData={hasRun:!1,runTime:[]}};c.registerRule=function(a){if(c.getRule(a.id)&&-1!==a.id)return!1;e.ruleList.push(a);-1!==a.deploymentId&&e.allDeploymentIds.push(a.deploymentId);
c.testAll();return!0};c.getRule=function(a){for(var b=0;b<e.ruleList.length;b++)if(e.ruleList[b].id===a)return e.ruleList[b];return!1};c.getRuleList=function(){return e.ruleList};c.clearRuleList=function(){e.ruleList=[]};c.getAllDeploymentIds=function(){return e.allDeploymentIds};c.getRunRuleIds=function(){return e.runRuleIds};c.getRunDeploymentIds=function(){return e.runDeploymentIds};c.hasRuleRun=function(a){return(a=c.getRule(a))?a.executionData.hasRun:!1};e.toTwoChar=function(a){return(2===a.toString().length?
"":"0")+a};c.Alert=function(a){var b=new Date;b=b.getFullYear()+"-"+e.toTwoChar(b.getMonth())+"-"+e.toTwoChar(b.getDate())+" "+e.toTwoChar(b.getHours())+":"+e.toTwoChar(b.getMinutes())+":"+e.toTwoChar(b.getSeconds());this.severity=a.severity||1;this.subject=a.subject||"";this.type=a.type||1;this.ruleId=a.ruleId||-1;this.severity=encodeURIComponent(this.severity);this.date=encodeURIComponent(b);this.subject=encodeURIComponent(this.subject);this.type=encodeURIComponent(this.type)};c.generateAlert=function(a){a=
c.imageRequest(window.location.protocol+"//"+e.options.alLoc+"?d="+a.date+"&su="+a.subject+"&se="+a.severity+"&t="+a.type+"&cid="+e.options.clientId+"&client="+e.options.client+"&publishPath="+e.options.publishPath+"&rid="+c.currentRuleId+"&did="+c.currentDeploymentId);a.timestamp=(new Date).getTime();this.reportedAlerts.push(a)};c.imageRequest=function(a){var b=new Image(0,0);b.src=a;return b};c.insertScript=function(a,b,d){var f=document.getElementsByTagName("script"),g;if(void 0!==b?b:1)for(g=
0;g<f.length;g++)if(f[g].src===a&&f[g].readyState&&/loaded|complete/.test(f[g].readyState))return;if(d){d=1==d&&"object"==typeof c.scDataObj?c.scDataObj:d;e.rand=Math.random()*("1E"+(10*Math.random()).toFixed(0));b=window.location.href;"object"===typeof d&&d.PageID&&(b=d.PageID,delete d.PageID);if("object"===typeof d)for(g in d){g=~b.indexOf("#")?b.slice(b.indexOf("#"),b.length):"";b=b.slice(0,g.length?b.length-g.length:b.length);b+=~b.indexOf("?")?"&":"?";for(k in d)b+=k+"="+d[k]+"&";b=b.slice(0,
-1)+g;break}a=a+"?namespace="+(ensightenOptions.ns+"&");a+="staticJsPath="+ensightenOptions.staticJavascriptPath+"&";a+="publishedOn="+ensightenOptions.generatedOn+"&";a+="ClientID="+encodeURIComponent(e.options.clientId)+"&PageID="+encodeURIComponent(b)}(function(h,p,u){var r=p.head||p.getElementsByTagName("head");setTimeout(function(){if("item"in r){if(!r[0]){setTimeout(arguments.callee,25);return}r=r[0]}var t=p.createElement("script");t.src=u;t.onload=t.onerror=function(){this.addEventListener&&
(this.readyState="loaded")};r.insertBefore(t,r.firstChild)},0)})(window,document,a)};c.loadScriptCallback=function(a,b,d){var f=document.getElementsByTagName("script"),g;d=f[0];for(g=0;g<f.length;g++)if(f[g].src===a&&f[g].readyState&&/loaded|complete/.test(f[g].readyState))try{b()}catch(h){window[ensightenOptions.ns].reportException(h)}finally{return}f=document.createElement("script");f.type="text/javascript";f.async=!0;f.src=a;f.onerror=function(){this.addEventListener&&(this.readyState="loaded")};
f.onload=f.onreadystatechange=function(){if(!this.readyState||"complete"===this.readyState||"loaded"===this.readyState){this.onload=this.onreadystatechange=null;this.addEventListener&&(this.readyState="loaded");try{b.call(this)}catch(h){window[ensightenOptions.ns].reportException(h)}}};d.parentNode.insertBefore(f,d)};c.insertPageFiles=function(a){var b=0,d=0,f=function(){d==a.length-1&&window[ensightenOptions.ns].callOnPageSpecificCompletion();d++};for(b=0;b<a.length;++b)window[ensightenOptions.ns].loadScriptCallback(a[b],
f)};c.unobtrusiveAddEvent=function(a,b,d){try{var f=a[b]?a[b]:function(){};a[b]=function(){d.apply(this,arguments);return f.apply(this,arguments)}}catch(g){window[ensightenOptions.ns].reportException(g)}};c.anonymous=function(a,b){return function(){try{c.currentRuleId=b?b:"anonymous",a()}catch(d){window[ensightenOptions.ns].reportException(d)}}};c.setCurrentRuleId=function(a){c.currentRuleId=a};c.setCurrentDeploymentId=function(a){c.currentDeploymentId=a};c.bindImmediate=function(a,b,d){if("function"===
typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[],code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindDOMParsed=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMParsed}],code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindDOMLoaded=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMLoaded}],
code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindPageSpecificCompletion=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.conditionalRules}],code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindOnGetServerComponent=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.readyForServerComponent}],
code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindDataDefinitionComplete=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete}],code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.checkHasRun=function(a){if(0===a.length)return!0;for(var b,d=0;d<a.length;++d)if(b=c.getRule(parseInt(a[d],10)),!b||!b.executionData.hasRun)return!1;return!0};
c.bindDependencyImmediate=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.bindDependencyDOMLoaded=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.DOMLoaded});h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});
if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.bindDependencyDOMParsed=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.DOMParsed});h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==
typeof a)return!1;c.registerRule(a)}};c.bindDependencyPageSpecificCompletion=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.conditionalRules});h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.bindDependencyOnGetServerComponent=function(a,
b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.readyForServerComponent});h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.bindDependencyPageSpecificCompletion=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete});
h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.dataDefintionIds=[];c.dataDefinitions=[];c.pageSpecificDataDefinitionsSet=!1;c.setPageSpecificDataDefinitionIds=function(a){for(var b=a?a.length:0,d=0;d<b;d++){var f=a[d];if(Array.prototype.indexOf)-1==c.dataDefinitionIds.indexOf(f)&&c.dataDefinitionIds.push(f);else{for(var g=!1,h=
c.dataDefinitionIds.length,p=0;p<h;p++)if(c.dataDefinitionIds[p]===f){g=!0;break}g||c.dataDefinitionIds.push(f)}}c.pageSpecificDataDefinitionsSet=!0;q()};c.DataDefinition=function(a,b){this.id=a;this.registrationFn=b;this.endRegistrationTime=this.startRegistrationTime=null;this.startRegistration=function(){this.startRegistrationTime=new Date};this.endRegistration=function(){this.endRegistrationTime=new Date}};c.registerDataDefinition=function(a,b){var d=c.dataDefinitions[b];d||(d=new c.DataDefinition(b,
a),c.dataDefinitions[b]=d);d.startRegistrationTime||(d.startRegistration(),d.registrationFn(),d.endRegistration());c.pageSpecificDataDefinitionsSet&&q()};c.callOnDataDefintionComplete=function(){c.executionState.dataDefinitionComplete=!0;c.testAll()};c.callOnDOMParsed=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].testAll()};c.callOnDOMLoaded=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].executionState.DOMLoaded=
!0;window[ensightenOptions.ns].testAll()};c.callOnPageSpecificCompletion=function(){for(var a=document.getElementsByTagName("script"),b=0,d=a.length;b<d;b++)if(a[b].src&&a[b].src.match(/\.ensighten\.com\/(.+?)\/code\/.*/i)&&"loaded"!=a[b].readyState&&"complete"!=a[b].readyState){setTimeout(window[ensightenOptions.ns].callOnPageSpecificCompletion,50);return}setTimeout(function(){window[ensightenOptions.ns].executionState.conditionalRules=!0;window[ensightenOptions.ns].testAll()},1)};c.callOnGetServerComponent=
function(){window[ensightenOptions.ns].executionState.readyForServerComponent=!0;window[ensightenOptions.ns].testAll()};c.hasDOMParsed=function(){return window[ensightenOptions.ns].executionState.DOMParsed};c.hasDOMLoaded=function(){return window[ensightenOptions.ns].executionState.DOMLoaded};c.hasPageSpecificCompletion=function(){return window[ensightenOptions.ns].executionState.conditionalRules};var v=function(){var a=[],b=!1,d=!1;return{add:function(f){b&&!d?f():"function"==typeof f&&(a[a.length]=
f)},exec:function(){d=!0;do{var f=a;a=[];b=!0;for(var g=0;g<f.length;g++)try{f[g].call(window)}catch(h){window[ensightenOptions.ns].reportException(h)}}while(0<a.length);d=!1},haveRun:function(){return b}}};c.new_fArray=function(){return v()};e.timer=null;(function(){function a(f,g){return function(){f.apply(g,arguments)}}window.console||(window.console={});var b=window.console;if(!b.log)if(window.log4javascript){var d=log4javascript.getDefaultLogger();b.log=a(d.info,d);b.debug=a(d.debug,d);b.info=
a(d.info,d);b.warn=a(d.warn,d);b.error=a(d.error,d)}else b.log=function(){};b.debug||(b.debug=b.log);b.info||(b.info=b.log);b.warn||(b.warn=b.log);b.error||(b.error=b.log)})();document.addEventListener?(-1<navigator.userAgent.indexOf("AppleWebKit/")?e.timer=window.setInterval(function(){/loaded|interactive|complete/.test(document.readyState)&&(clearInterval(e.timer),c.callOnDOMParsed())},50):document.addEventListener("DOMContentLoaded",c.callOnDOMParsed,!1),window.addEventListener("load",c.callOnDOMLoaded,
!1)):(setTimeout(function(){var a=window.document;(function(){try{if(!document.body)throw"continue";a.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,15);return}window[ensightenOptions.ns].callOnDOMParsed()})()},1),window.attachEvent("onload",function(){window[ensightenOptions.ns].callOnDOMLoaded()}));document.readyState&&"complete"===document.readyState&&(c.executionState.DOMParsed=!0,c.executionState.DOMLoaded=!0);"true"===e.options.enableTagAuditBeacon&&c.sampleBeacon()&&
window.setTimeout(function(){if(window[ensightenOptions.ns]&&!window[ensightenOptions.ns].mobilePlatform)try{for(var a=[],b,d,f,g,h=0;h<e.ruleList.length;++h)d=e.ruleList[h],f=d.executionData.hasRun?"1":"0",g=d.deploymentId.toString()+"|"+d.id.toString()+"|"+f,a.push(g);b="["+a.join(";")+"]";var p=window.location.protocol+"//"+e.nexus+"/"+encodeURIComponent(l.client)+"/"+encodeURIComponent(l.publishPath)+"/TagAuditBeacon.rnc?cid="+encodeURIComponent(l.clientId)+"&data="+b+"&idx=0&r="+e.rand;c.imageRequest(p)}catch(u){c.currentRuleId=
-1,c.currentDeploymentId=-1,a=new e.BeaconException(u),window[ensightenOptions.ns].reportException(a)}},3E3);window.setInterval(c.testAll,e.options.interval);return c}(ensightenOptions);
"true"===ensightenOptions.enablePagePerfBeacon&&window[ensightenOptions.ns]&&window[ensightenOptions.ns].sampleBeacon()&&window[ensightenOptions.ns].bindDOMParsed(function(){if(!window[ensightenOptions.ns].mobilePlatform){var l=window.performance;if(l){l=l.timing||{};var m=l.navigationStart||0,n={connectEnd:"ce",connectStart:"cs",domComplete:"dc",domContentLoadedEventEnd:"dclee",domContentLoadedEventStart:"dcles",domInteractive:"di",domLoading:"dl",domainLookupEnd:"dle",domainLookupStart:"dls",fetchStart:"fs",
loadEventEnd:"lee",loadEventStart:"les",redirectEnd:"rede",redirectStart:"reds",requestStart:"reqs",responseStart:"resps",responseEnd:"respe",secureConnectionStart:"scs",unloadEventStart:"ues",unloadEventEnd:"uee"};var q="&ns="+encodeURIComponent(l.navigationStart);for(var e in n)if(void 0!==l[e]){var c=l[e]-m;q+="&"+n[e]+"="+(0<c?encodeURIComponent(c):0)}else q+="&"+n[e]+"=-1";window[ensightenOptions.ns].timing=q;e=ensightenOptions.nexus||"nexus.ensighten.com";l=ensightenOptions.staticJavascriptPath||
"";q=l.indexOf("/",0);m=l.indexOf("/code/");l=l.substring(q,m)+"/perf.rnc";l+="?cid="+encodeURIComponent(ensightenOptions.clientId)+window[ensightenOptions.ns].timing;window[ensightenOptions.ns].imageRequest("//"+e+l)}}});
	
    /*
     MIT License (c) copyright 2013 original author or authors */
    window[ensightenOptions.ns].data||(window[ensightenOptions.ns].when=function(){function f(a,b,d,c){return l(a).then(b,d,c)}function p(a){this.then=a}function l(a){return c(function(b){b(a)})}function c(b){function g(a){k&&(r=e(a),d(k,r),k=u)}function f(a){g(h(a))}function q(b){k&&d(k,a(b))}var r,k=[];try{b(g,f,q)}catch(E){f(E)}return new p(function(a,b,d){return c(function(c,g,e){k?k.push(function(f){f.then(a,b,d).then(c,g,e)}):n(function(){r.then(a,b,d).then(c,g,e)})})})}function e(a){return a instanceof
    p?a:a!==Object(a)?m(a):c(function(b,d,c){n(function(){try{var g=a.then;"function"===typeof g?z(g,a,b,d,c):b(m(a))}catch(y){d(y)}})})}function m(a){var b=new p(function(d){try{return"function"==typeof d?e(d(a)):b}catch(D){return h(D)}});return b}function h(a){var b=new p(function(d,c){try{return"function"==typeof c?e(c(a)):b}catch(F){return h(F)}});return b}function a(b){var d=new p(function(c,g,e){try{return"function"==typeof e?a(e(b)):d}catch(y){return a(y)}});return d}function d(a,b){n(function(){for(var d,
    c=0;d=a[c++];)d(b)})}function b(a,b,d,g,e){q(2,arguments);return f(a,function(a){return c(function(d,c,g){function e(a){h(a)}function q(a){u(a)}var k;var n=a.length>>>0;var t=Math.max(0,Math.min(b,n));var w=[];var x=n-t+1;var m=[];if(t){var h=function(a){m.push(a);--x||(u=h=r,c(m))};var u=function(a){w.push(a);--t||(u=h=r,d(w))};for(k=0;k<n;++k)k in a&&f(a[k],q,e,g)}else d(w)}).then(d,g,e)})}function t(a,b,d,c){q(1,arguments);return k(a,w).then(b,d,c)}function k(a,b){return f(a,function(a){return c(function(d,
    c,g){var e,q;var k=e=a.length>>>0;var r=[];if(k){var n=function(a,e){f(a,b).then(function(a){r[e]=a;--k||d(r)},c,g)};for(q=0;q<e;q++)q in a?n(a[q],q):--k}else d(r)})})}function n(a){1===x.push(a)&&A(g)}function g(){for(var a,b=0;a=x[b++];)a();x=[]}function q(a,b){for(var d,c=b.length;c>a;)if(d=b[--c],null!=d&&"function"!=typeof d)throw Error("arg "+c+" must be a function");}function r(){}function w(a){return a}f.defer=function(){var a,b;var d={promise:u,resolve:u,reject:u,notify:u,resolver:{resolve:u,
    reject:u,notify:u}};d.promise=a=c(function(c,g,e){d.resolve=d.resolver.resolve=function(d){if(b)return l(d);b=!0;c(d);return a};d.reject=d.resolver.reject=function(d){if(b)return l(h(d));b=!0;g(d);return a};d.notify=d.resolver.notify=function(a){e(a);return a}});return d};f.resolve=l;f.reject=function(a){return f(a,h)};f.join=function(){return k(arguments,w)};f.all=t;f.map=k;f.reduce=function(a,b){var d=z(B,arguments,1);return f(a,function(a){var c=a.length;d[0]=function(a,d,g){return f(a,function(a){return f(d,
    function(d){return b(a,d,g,c)})})};return G.apply(a,d)})};f.any=function(a,d,c,g){return b(a,1,function(a){return d?d(a[0]):a[0]},c,g)};f.some=b;f.isPromise=function(a){return a&&"function"===typeof a.then};p.prototype={otherwise:function(a){return this.then(u,a)},ensure:function(a){function b(){return l(a())}return this.then(b,b).yield(this)},yield:function(a){return this.then(function(){return a})},spread:function(a){return this.then(function(b){return t(b,function(b){return a.apply(u,b)})})},always:function(a,
    b){return this.then(a,a,b)}};var u;var x=[];var H=setTimeout;var A="function"===typeof setImmediate?"undefined"===typeof window?setImmediate:setImmediate.bind(window):"object"===typeof process&&process.nextTick?process.nextTick:function(a){H(a,0)};var v=Function.prototype;var C=v.call;var z=v.bind?C.bind(C):function(a,b){return a.apply(b,B.call(arguments,2))};v=[];var B=v.slice;var G=v.reduce||function(a){var b=0;var d=Object(this);var c=d.length>>>0;var g=arguments;if(1>=g.length)for(;;){if(b in
    d){g=d[b++];break}if(++b>=c)throw new TypeError;}else g=g[1];for(;b<c;++b)b in d&&(g=a(g,d[b],b,d));return g};return f}(),function(){function f(c,f){return l.all(f||[],function(e){return c.apply(null,e)})}function p(e){var m=c.call(arguments,1);return function(){return f(e,m.concat(c.call(arguments)))}}var l=window[ensightenOptions.ns].when;var c=[].slice;l.apply=f;l.call=function(e){return f(e,c.call(arguments,1))};l.lift=p;l.bind=p;l.compose=function(e){var m=c.call(arguments,1);return function(){var h=
    c.call(arguments);h=f(e,h);return l.reduce(m,function(a,d){return d(a)},h)}}}(),window[ensightenOptions.ns].data=function(f,p){function l(a,d){this.name="DataDefinitionException";this.message=d||"Data definitions cannot be resolved as there are invalid id(s): "+a}var c={engines:{memory:{get:function(a){if(e.utils.isArray(a)){for(var d=[],b=0;b<a.length;b++)d.push(c.data[a[b]]);return f[ensightenOptions.ns].when.resolve(d)}d=c.dataDefinitions[a]||{storage:{get:function(){}}};d=d.storage.get(d);c.data[a]=
    d;return f[ensightenOptions.ns].when.resolve(c.data[a])},set:function(a,d){if(e.utils.isArray(a))for(var b in a)c.data[a[b]]=d[b];else c.data[a]=d;return f[ensightenOptions.ns].when.resolve(!0)},remove:function(a){if(e.utils.isArray(a))for(var d in a)delete c.data[a[d]];else delete c.data[a];return f[ensightenOptions.ns].when.resolve(!0)},clear:function(a){c.data={};c.definitions={};return f[ensightenOptions.ns].when.resolve(!0)},all:function(){return f[ensightenOptions.ns].when.resolve(c.data)}}},
    normalizeInputArgs:function(a,d){var b={key:[],val:p},c;if(e.utils.isPlainObject(a))for(c in b.val=[],a)b.key.push(c),b.val.push(a[c]);else e.utils.isArray(a),b.key=a,b.val=d;return b},definitions:{},data:{}},e={utils:{isPlainObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},escapeRegEx:function(a){try{return a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}catch(d){return a}}}},m=function(){return f[ensightenOptions.ns].when.reject("Not Implemented.")};
    l.prototype=Error();l.prototype||(l.prototype={});l.prototype.constructor=l;c.DataDefinitionException=l;c.checkForInvalidDataDefinitions=function(a){e.utils.isArray(a)||(a=[a]);return a&&0<a.length&&(a=a.join(","),-1<a.indexOf("invalid_id"))?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a)),!0):!1};c.collectAvailableDataDefinitions=function(a){for(var d=[],b=0;b<a.length;b++){var t=parseInt(a[b],10),k=f[ensightenOptions.ns].dataDefinitions[t];if(null===k||k===p)if(k=e.storage.session.get({id:t}),
    null!==k&&k!==p)e.set(t,k),c.dataDefinitions[t]={id:t,load:"visitor",storage:e.storage.visitor,missingDDFromCache:!0},d.push(f[ensightenOptions.ns].data.get(""+t));else return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Invalid data definition used: "+t)),{promises:[],isInvalid:!0};else d.push(f[ensightenOptions.ns].data.get(""+a[b]))}return{promises:d,isInvalid:!1}};c.getSync=function(a){function d(a){var d=a.extract||t,c=a.transform||k,g=!1,e=null,f=null;try{e=d()}catch(v){e=
    null,g=!0}try{f=c(e)}catch(v){f=null,g=!0}g&&b.push(a.id);return f}var b=[],t=function(){return document},k=function(a){return null!==a&&a!==p?a.toString():null},n=parseInt(a);a="string"===typeof a?a.split("."):[];var g={},q="";if(!isNaN(n)&&"undefined"===typeof c.dataDefinitions[n])return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(n,"Error resolving data definition: "+n+".  Does not exist on the page.")),"Data definition specified does not exist on the page";if(isNaN(n)&&
    "undefined"===typeof c.dataDefinitionsBySourceCollName[""+a[0]+"."+a[1]+"."+a[2]])return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definition: "+a[0]+"."+a[1]+"."+a[2]+".  Does not exist on the page.")),"Data definition specified does not exist on the page";isNaN(n)?3==a.length&&(g=e.getDataDefinitionBySourceCollectionName(a[0],a[1],a[2])):g=e.getDataDefinitionById(n);q=g.load&&g.load.match(/(session|visitor)/i)&&g.storage&&g.storage.get?g.storage.get(g):
    d(g);0<b.length&&f[ensightenOptions.ns].reportException(new c.DataDefinitionException(b,"Error resolving data definitions synchronously: "+b));return q};c.dataDefinitions={};c.dataDefinitionsBySourceCollName={};e.defineEngine=function(a,d){var b,e=["get","set","remove","clear","all"];c.engines[a]=d;if(!d.returnsPromise)for(b=0;b<e.length;b++){var k=e[b];d[k]=f[ensightenOptions.ns].when.lift(d[k])}};e.storage={instance:{set:function(a,d){},get:function(a){return c.getSync(a.id)}},page:{set:function(a,
    d){},get:function(a){return c.data[a.id]}},session:{set:function(a,d){var b=e.storage.session.get({id:a}),c=new Date,k=c.getTime();c.setTime(k+18E5);null!=b&&(d=b);f[ensightenOptions.ns].data.cookie.utils.set(a,d,{expires:c.toGMTString()});b={expires:c.getTime(),value:d};f[ensightenOptions.ns].data.local.utils.set(a,b)},get:function(a){var d=f[ensightenOptions.ns].data.cookie.utils.get(a.id),b=f.JSON&&f.JSON.stringify?f.JSON:f[ensightenOptions.ns].JSON;b=b||{};var c=new Date;c=c.getTime();if(null===
    d){try{var e=b.parse(f[ensightenOptions.ns].data.local.utils.get(a.id))}catch(n){e=null}null!=e&&(e.expires=+e.expires,c<=e.expires?d=e.value:""==e.expires&&e.value!=p?d=e.value:f[ensightenOptions.ns].data.local.utils.remove(a.id))}return d}},visitor:{set:function(a,d){var b=e.storage.session.get({id:a});null!=b&&(d=b);f[ensightenOptions.ns].data.cookie.utils.set(a,d);f[ensightenOptions.ns].data.local.utils.set(a,{expires:"",value:d})},get:function(a){return e.storage.session.get(a)}}};e.getEngine=
    e.engine=function(a){return a?c.engines[a]||{get:m,set:m,remove:m,clear:m,all:m}:c.engines};e.all=function(a){return f[ensightenOptions.ns].data.engine(a||"memory").all()};e.get=function(a,d,b){d=d||"memory";b=b||{};-1<a.indexOf(",")?(a=a.split(","),a=c.normalizeInputArgs(a)):a=c.normalizeInputArgs(a);return b.wait?c.getWait(a.key,f[ensightenOptions.ns].data.engine(d),b):c.data&&c.data.hasOwnProperty(a.key)?f[ensightenOptions.ns].data.engine(d).get(a.key):c.getWaitForKey(a.key,f[ensightenOptions.ns].data.engine(d),
    b)};c.getWait=function(a,d,b){var c=+new Date,k=f[ensightenOptions.ns].when.defer(),n=function(){var c=d.get(a);if(-1===b.wait)return c;c.then(function(a){b.setCheck(a)?k.resolve(a):setTimeout(g,b.interval)},function(a){setTimeout(g,b.interval)})},g=function(){var a=+new Date-c;-1!==b.wait&&a<b.wait?n():k.reject("Timeout")};b.interval=b.interval||500;b.wait=b.wait||5E3;e.utils.isArray(a)?b.setCheck=b.setCheck||function(a){for(var b=!0,d=0;d<a.length;d++)b=b&&!!a[d];return b}:b.setCheck=b.setCheck||
    function(a){return!!a};n();return k.promise};c.getWaitForKey=function(a,d,b){var e=f[ensightenOptions.ns].when.defer(),k=function(){if(c.data&&c.data.hasOwnProperty(a)){var g=d.get(a);if(-1===b.wait)return g;g.then(function(a){e.resolve(a)},function(a){e.reject(a)})}else setTimeout(n,b.interval)},n=function(){k()};b.interval=b.interval||100;b.wait=b.wait||1;k();return e.promise};e.set=function(a,d,b){var e=c.normalizeInputArgs(a,d);Array.prototype.slice.call(arguments);return f[ensightenOptions.ns].data.engine(b||
    "memory").set(e.key,e.val)};e.remove=function(a,d){return f[ensightenOptions.ns].data.engine(d||"memory").remove(a)};e.clear=function(a){return f[ensightenOptions.ns].data.engine(a||"memory").clear()};e.define=function(a,d){d&&(a.name=d.id||d.name);if(!a.name)return f[ensightenOptions.ns].when.reject(Error("Invalid parameters: missing 'name'"));a.id=a.name;var b=a.load||"page";a.load=a.load||"javascript";a.load=-1<a.load.indexOf("javascript")?a.load:a.load+",javascript";a.trigger=a.trigger||function(){return f[ensightenOptions.ns].when.resolve()};
    a.priv=a.priv||!1;a.collection=a.collection||"Data Layer";a.persist=f[ensightenOptions.ns].data.engine("memory");a.storage=e.storage[b.toLowerCase()]||e.storage.page;var h=a.extract||function(){return document},k=a.transform||function(a){return a},n=function(b,d){var c=[];c.push(a.persist.set(b,d));a.storage.set(a.id,d);"object"==typeof f[ensightenOptions.ns].data.dataExport&&f[ensightenOptions.ns].data.dataExport(b,d,a.collection);f[ensightenOptions.ns].when.all(c).then(function(a){g.resolve(a)},
    function(a){g.reject(a)})},g=f[ensightenOptions.ns].when.defer();try{var q=a.trigger()}catch(r){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,'"'+r+'" error caught in Data Definition trigger: '+a.dataDefName+", ID:"+a.id+". Using bottom of body trigger.")),q=f[ensightenOptions.ns].data.bottomOfBodyTrigger()}q.then(function(){g.resolve(f[ensightenOptions.ns].when.reduce([function(){try{return h()}catch(r){return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,
    '"'+r+'" error caught in Data Definition extractor: '+a.dataDefName+", ID:"+a.id+".")),null}}(),function(){try{return k.apply(this,arguments)}catch(r){return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,'"'+r+'" error caught in Data Definition transformer: '+a.dataDefName+", ID "+a.id+".")),null}},n],function(b,d,c,e){if(1==c)return d(b);2==c&&d(a.name,b)}))},function(a){g.reject(a)});c.dataDefinitions[a.id]=a;c.dataDefinitionsBySourceCollName[""+a.source+"."+a.collection+
    "."+a.dataDefName]=a;return g.promise};e.checkConditions=function(a){var d,b={lt:function(a,b){var d=+a,e=+b;return isNaN(d)||isNaN(e)?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,"Value(s) cannot be converted to number: compareWith: "+a+", compareTo: "+b)),!1):d<e},gt:function(a,b){var d=+a,e=+b;return isNaN(d)||isNaN(e)?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,"Value(s) cannot be converted to number: compareWith: "+a+", compareTo: "+
    b)),!1):d>e},eql:function(a,b){return a==b},exists:function(a,b){return null==a||a==p||""==a?!1:!0},re:function(a,b,d){b=new RegExp(b,d?"i":"");try{return a.match(b)}catch(q){return!1}},starts:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,"^"+d,c)},ends:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,d+"$",c)},contains:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,".*"+d+".*",c)}};b.is=b.eql;b["starts with"]=b.starts;b["ends with"]=b.ends;b["is greater than"]=b.gt;b["is less than"]=
    b.lt;b.matches=b.re;for(d=0;d<a.values.length;d++){var h=(a.customComparator?a.customComparator[d]?a.customComparator[d]:b[a.comparators[d]]:b[a.comparators[d]])(a.values[d],a.compareTo[d],a.caseInsensitive?a.caseInsensitive[d]||!1:!1);a.not[d]&&(h=!h);if(!h)return!1}return!0};e.triggerPromise=function(a,d,b){b=b||5E3;var c=+new Date,e=f[ensightenOptions.ns].when.defer();(function(){var f=a();f!=d?e.resolve(f):+new Date-c<b?setTimeout(arguments.callee,200):e.reject("timed out")})();return e.promise};
    e.timeoutPromise=function(a,d){var b=f[ensightenOptions.ns].when.defer();d=d||800;a.then(b.resolve,b.reject);setTimeout(function(){b.reject(Error("timed out"))},d);return b.promise};e.delayTrigger=function(a){a=a||10;var d=f[ensightenOptions.ns].when.defer();setTimeout(function(){d.resolve()},a);return d.promise};e.delayUntilTrigger=function(a,d,b,c){b=b||null;c=c||200;var e=+new Date,h=f[ensightenOptions.ns].when.defer();(function(){var g=a();g!=d?h.resolve(g):b?+new Date-e<b?setTimeout(arguments.callee,
    c):h.reject("timed out"):setTimeout(arguments.callee,c)})();return h.promise};c.applyTrigger=function(a){var d=f[ensightenOptions.ns].when.defer();a(function(){d.resolve(!0)});return d.promise};e.immediateTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindImmediate)};e.bottomOfBodyTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindDOMParsed)};e.whenValueExistsTrigger=function(){return f[ensightenOptions.ns].when.resolve(this.extract())};e.afterEnsightenCompleteTrigger=
    function(){return c.applyTrigger(f[ensightenOptions.ns].bindPageSpecificCompletion)};e.afterElementsDownloadedTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindDOMLoaded)};e.getAllDataDefinitionsOnCurrentPage=function(){return c.dataDefinitions};e.getAllDataDefinitionsOnCurrentPage_S_C_N=function(){return c.dataDefinitionsBySourceCollName};e.getDataDefinitionById=function(a){return c.dataDefinitions[a||-1]||{}};e.getDataDefinitionBySourceCollectionName=function(a,d,b){return c.dataDefinitionsBySourceCollName[""+
    a+"."+d+"."+b]||{}};e.getDataDefinitionByPercentSyntax=function(a){a=(""+a).split("_");return 1>a.length?{}:c.dataDefinitions[a[1]]||{}};e.resolve=function(a,d){var b=this,h=null;if(!c.checkForInvalidDataDefinitions(a))if(d)f[ensightenOptions.ns].bindDataDefinitionComplete(function(){var e=c.collectAvailableDataDefinitions(a);e.isInvalid||f[ensightenOptions.ns].when.all(e.promises).then(function(e){try{d.apply(b,e)}catch(r){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definitions: "+
    a+". Details: "+r))}},function(b){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definitions: "+a+". Details: "+b))})});else{h=[];var k=a;e.utils.isArray(a)||(k=[a]);for(var m=0;m<k.length;m++)h.push(c.getSync(k[m]));return h=e.utils.isArray(a)?h:h[0]}};e.extract=function(a,d){var b="",c=function(a,b){var d=~b.indexOf("#")?b.split("#")[1]:"",c=d?0:~b.indexOf("[")?parseInt(b.match(/\[(\d+)\]/)[1]):0,e=(d?b.split("#")[0]:c?b.split("[")[0]:b).toLowerCase();
    if(a==document&&"html"==e&&0==c)return document.getElementsByTagName("html")[0];if(~b.indexOf("#"))return document.getElementById(b.split("#")[1]);var g=a.firstChild;if(!g)return null;var f=0;for(c=0!=c?c-1:c;g;){if(1==g.nodeType){if(g.tagName.toLowerCase()==e&&""!=d&&g.id==d||g.tagName.toLowerCase()==e&&f==c&&""==d)return g;g.tagName.toLowerCase()==e&&f++}g=g.nextSibling}},e=function(a,b){a=a.split("/");for(var d=c(b||document,a[1]),e=2;e<a.length;e++){if(null==d)return null;d=c(d,a[e])}return d},
    h=function(){for(var a={},b=f.document.getElementsByTagName("META")||[],d=0,c=b.length;d<c;d++){var e=b[d].name||b[d].getAttribute("property")||"";0!==e.length&&(a[e]=b[d].content)}return a}(),g=function(a){var b=h[a];if(b)return b;b=f.document.getElementsByTagName("META")||[];for(var d=0,c=b.length;d<c;d++){var e=b[d].name||b[d].getAttribute("property")||"";if(a==e)return b[d].content}},q=function(a){return(val=(new RegExp("&"+a+"=([^&]*)")).exec(f.location.search.replace(/^\?/,"&")))?val[0].split("=")[1]:
    ""},r=function(a){return(val=(new RegExp("^"+a+"=.*|;\\s*"+a+"=.*")).exec(f.document.cookie))?val[0].split("=")[1].split(";")[0]:""},m=function(a){(a=l(a))&&a.nodeType&&1==a.nodeType&&(a=a.value||a.innerHTML||"");return a.toString().replace(/\n|\r|\s\s+/g,"")||""},l=function(a){var b="";if(0==a.indexOf("/HTML/BODY"))b=e(a);else try{b=eval(a)}catch(A){b=""}return b};try{return d?"meta"==d?b=g(a):"cookie"==d?b=r(a):"param"==d?b=q(a):"content"==d?b=m(a):"event"==d?b=l(a):"var"==d&&(b=f[a]):b=g(a)||r(a)||
    q(a)||m(a)||l(a)||f[a]||"",b||""}catch(x){return""}};if("undefined"==typeof h)var h={exports:{}};return e}(window),window[ensightenOptions.ns].data.defineEngine("store",function(){function f(a){return function(){var d=Array.prototype.slice.call(arguments,0);d.unshift(b);k.appendChild(b);b.addBehavior("#default#userData");b.load(h);d=a.apply(store,d);k.removeChild(b);return d}}function p(a){return a.replace(l,"___")}var l=RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),c={},e=window,m=e.document,
    h="localStorage",a,d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};c.set=function(a,b){};c.get=function(a){};c.remove=function(a){};c.clear=function(){};try{if(h in e&&e[h]){var b=e[h];c.set=function(a,c){var e,g=window.JSON&&window.JSON.stringify?window.JSON:window[ensightenOptions.ns].JSON;if(d(a)){var f=0;for(e=a.length;f<e;f++)b.setItem(a[f],"string"===typeof c[f]?c[f]:g.stringify(c[f]))}else b.setItem(a,"string"===typeof c?c:g.stringify(c))};c.get=function(a){if(d(a)){var c=
    {},e;var f=0;for(e=a.length;f<e;f++)c[a[f]]=b.getItem(a[f]);return c}return b.getItem(a)};c.remove=function(a){if(d(a)){var c;var e=0;for(c=a.length;e<c;e++)b.removeItem(a[e])}else b.removeItem(a)};c.clear=function(){b.clear()};c.all=function(){return b}}else if("globalStorage"in e&&e.globalStorage)b=e.globalStorage[e.location.hostname],c.set=function(a,c){if(d(a)){var e;var f=0;for(e=a.length;f<e;f++)b[a[f]]=c[f]}else b[a]=c},c.get=function(a){if(d(a)){var c={},e;var f=0;for(e=a.length;f<e;f++)c[a[f]]=
    b[a[f]]&&b[a[f]].value;return c}return b[a]&&b[a].value},c.remove=function(a){if(d(a)){var c;var e=0;for(c=a.length;e<c;e++)delete b[a[e]]}else delete b[a]},c.clear=function(){for(var a in b)delete b[a]},c.all=function(){return b};else if(m.documentElement.addBehavior){try{var t=new ActiveXObject("htmlfile");t.open();t.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></frame>');t.close();var k=t.w.frames[0].document;b=k.createElement("div")}catch(g){b=m.createElement("div"),
    k=m.body}c.set=f(function(a,b,e){if(d(b)){var f;var g=0;for(f=b.length;g<f;g++){fixedKey=p(b[g]);if(void 0===e[g])return c.remove(fixedKey);a.setAttribute(fixedKey,e[g]);a.save(h)}}else{fixedKey=p(b);if(void 0===e)return c.remove(fixedKey);a.setAttribute(fixedKey,e);a.save(h)}});c.get=f(function(a,b){if(d(b)){var c={},e;var f=0;for(e=b.length;f<e;f++){var g=p(b[f]);c[b[f]]=a.getAttribute(g)}return c}b=p(b);return a.getAttribute(b)});c.remove=f(function(a,b){if(d(b)){var c;var e=0;for(c=b.length;e<
    c;e++)a.removeAttribute(p(b[e])),a.save(h)}else b=p(b),a.removeAttribute(b),a.save(h)});c.clear=f(function(a){var b=a.XMLDocument.documentElement.attributes;a.load(h);for(var d=0,c;c=b[d];d++)a.removeAttribute(c.name);a.save(h)});c.all=f(function(a){for(var b=a.XMLDocument.documentElement.attributes,d={},c=0,e;e=b[c];++c){var f=p(e.name);d[e.name]=a.getAttribute(f)}return d})}}catch(g){}var n={};for(a in c)n[a]=c[a];n.testStorage=function(){try{var a="tk_"+Math.ceil(5E7*Math.random());n.set(a,"test");
    if("test"===n.get(a))return n.remove(a),!0}catch(q){}return!1};c.utils=n;return window[ensightenOptions.ns].data.local=c}()),window[ensightenOptions.ns].data.defineEngine("cookie",function(f,p){var l=function(){return l.get.apply(l,arguments)},c=l.utils={isArray:Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},isPlainObject:window[ensightenOptions.ns].data.utils.isPlainObject,toArray:function(c){return Array.prototype.slice.call(c)},getKeys:Object.keys||function(c){var e=
    [],f="";for(f in c)c.hasOwnProperty(f)&&e.push(f);return e},escape:function(c){return String(c).replace(/[,;"\\=\s%]/g,function(c){return encodeURIComponent(c)})},retrieve:function(c,f){return null==c?f:c},getAllCookies:function(){if(""===f.cookie)return{};for(var c=f.cookie.split("; "),m={},h=0,a=c.length;h<a;h++){var d=c[h].split("=");m[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return m},set:function(e,m,h){h=h||-1;if(c.isPlainObject(e))for(var a in e)e.hasOwnProperty(a)&&l.set(a,e[a],
    m);else if(c.isArray(e)){var d;a=0;for(d=e.length;a<d;a++)l.set(e[a],m[a],h)}else{a=h.expires!==p?h.expires:l.defaults.expires||"";"number"===typeof a&&(a=new Date(a));a=c.isPlainObject(a)&&"toGMTString"in a?";expires="+a.toGMTString():c.isPlainObject(a)&&a instanceof Date?";expires="+a.toUTCString():";expires="+a;d=(d=h.path||l.defaults.path)?";path="+d:"";var b=h.domain||l.defaults.domain;b=b?";domain="+b:"";h=h.secure||l.defaults.secure?";secure":"";f.cookie=c.escape(e)+"="+c.escape(m)+a+d+b+h}},
    get:function(e,f){f=f||p;var h=c.getAllCookies();if(c.isArray(e)){for(var a={},d=0,b=e.length;d<b;d++)a[e[d]]=c.retrieve(h[e[d]],f),a[e[d]]===p&&(a[e[d]]=null);return a}a=c.retrieve(h[e],f);return a===p?null:a},getGMTString:function(c){var e=new Date;e.setTime(e.getTime()+864E5*c);return e.toGMTString()}};l.defaults={path:"/",expires:c.getGMTString(90)};l.set=function(e,f){c.set(e,f)};l.remove=function(e){e=c.isArray(e)?e:c.toArray(arguments);for(var f=0,h=e.length;f<h;f++)c.set(e[f],"",{expires:-1})};
    l.clear=function(){return l.remove(c.getKeys(c.getAllCookies()))};l.get=function(e,f){return c.get(e,f)};l.all=function(){return c.getAllCookies()};l.utils=c;return window[ensightenOptions.ns].data.cookie=l}(document)));
		
window[ensightenOptions.ns].ensEvent||(window[ensightenOptions.ns].ensEvent=function(p,u){var k={queue:{},pollQueue:{},pushTrigger:function(b,c){if("[object Array]"===Object.prototype.toString.call(b)){for(var g=0;g<b.length;g++)k.pushTrigger(b[g],c);return!0}if("string"!=typeof b)return!1;this.queue[b]=this.queue[b]||{fn:[]};"function"==typeof c&&this.queue[b].fn.push(c);return!0},callTrigger:function(b,c,g){if("string"!=typeof b)return!1;b=k.queue[b];if("object"==typeof b&&b.fn&&b.fn.length&&(0!=
b.fireOnFirstSet&&c==u||c!=u&&0!=b.fireOnUpdate))for(c=0;c<b.fn.length;c++)try{b.fn[c].call(this)}catch(n){p[ensightenOptions.ns].reportException(n)}},setPollOptions:function(b,c,g){this.queue[b]=this.queue[b]||{fn:[]};this.queue[b].fireOnFirstSet=c;this.queue[b].fireOnUpdate=g},callPoll:function(b,c,g,p,r){if("string"==typeof b&&c&&c.length&&!(1>c.length)){for(var n=0;n<c.length;n++)k.setPollOptions(c[n],p,r);k.pushWatch(b,c,g)}},pushWatch:function(b,c,g){this.pollQueue[b]||(this.pollQueue[b]={previousVal:u,
eventArr:[],valueFn:g});this.pollQueue[b].eventArr=this.pollQueue[b].eventArr.concat(c);this.pollQueue[b].valueFn=g},globalWatch:function(){setInterval(function(){for(var b in k.pollQueue){var c=k.pollQueue[b],g=c.valueFn(b);if(c.previousVal!==g&&null!==g&&""!==g){for(var n=0;n<c.eventArr.length;n++)k.callTrigger.call(p,c.eventArr[n],c.previousVal,g);k.pollQueue[b].previousVal=g}}},500)}};k.globalWatch();return{add:function(b,c){return k.pushTrigger(b,c)},get:function(b){return k.queue[b]},trigger:function(b,
c){return k.callTrigger.call(c||p,b)},poll:function(b,c,g,n,r){r=r||p[ensightenOptions.ns].data.resolve;return k.callPoll(b,c,r,g,n)}}}(window),function(p,u,k){u[p]=k()}("qwery",window[ensightenOptions.ns],function(){function p(){this.c={}}function u(a){return H.g(a)||H.s(a,"(^|\\s+)"+a+"(\\s+|$)",1)}function k(a,d){for(var e=0,f=a.length;e<f;e++)d(a[e])}function b(a){for(var d=[],e=0,f=a.length;e<f;++e)l(a[e])?d=d.concat(a[e]):d[d.length]=a[e];return d}function c(a){for(var d=0,e=a.length,f=[];d<
e;d++)f[d]=a[d];return f}function g(a){for(;(a=a.previousSibling)&&1!=a.nodeType;);return a}function n(a,d,e,f,b,h,l,c,g,k,y){var I,B,m;if(1!==this.nodeType||d&&"*"!==d&&this.tagName&&this.tagName.toLowerCase()!==d||e&&(I=e.match(Q))&&I[1]!==this.id)return!1;if(e&&(m=e.match(R)))for(a=m.length;a--;)if(!u(m[a].slice(1)).test(this.className))return!1;if(g&&v.pseudos[g]&&!v.pseudos[g](this,y))return!1;if(f&&!l)for(B in g=this.attributes,g)if(Object.prototype.hasOwnProperty.call(g,B)&&(g[B].name||B)==
b)return this;return f&&!x(h,S(this,b)||"",l)?!1:this}function r(a){return J.g(a)||J.s(a,a.replace(T,"\\$1"))}function x(a,d,e){switch(a){case "=":return d==e;case "^=":return d.match(w.g("^="+e)||w.s("^="+e,"^"+r(e),1));case "$=":return d.match(w.g("$="+e)||w.s("$="+e,r(e)+"$",1));case "*=":return d.match(w.g(e)||w.s(e,r(e),1));case "~=":return d.match(w.g("~="+e)||w.s("~="+e,"(?:^|\\s+)"+r(e)+"(?:\\s+|$)",1));case "|=":return d.match(w.g("|="+e)||w.s("|="+e,"^"+r(e)+"(-|$)",1))}return 0}function q(a,
d){var e=[],f=[],b,h,l=d,c=C.g(a)||C.s(a,a.split(K)),g=a.match(L);if(!c.length)return e;var m=(c=c.slice(0)).pop();c.length&&(b=c[c.length-1].match(M))&&(l=N(d,b[1]));if(!l)return e;var y=m.match(E);var v=l!==d&&9!==l.nodeType&&g&&/^[+~]$/.test(g[g.length-1])?function(a){for(;l=l.nextSibling;)1==l.nodeType&&(y[1]?y[1]==l.tagName.toLowerCase():1)&&(a[a.length]=l);return a}([]):l.getElementsByTagName(y[1]||"*");b=0;for(m=v.length;b<m;b++)if(h=n.apply(v[b],y))e[e.length]=h;if(!c.length)return e;k(e,
function(a){t(a,c,g)&&(f[f.length]=a)});return f}function t(a,d,e,b){function l(a,b,c){for(;c=U[e[b]](c,a);)if(f(c)&&n.apply(c,d[b].match(E)))if(b){if(h=l(c,b-1,c))return h}else return c}var h;return(h=l(a,d.length-1,a))&&(!b||z(h,b))}function f(a,d){return a&&"object"===typeof a&&(d=a.nodeType)&&(1==d||9==d)}function h(a){var d=[],e;var f=0;a:for(;f<a.length;++f){for(e=0;e<d.length;++e)if(d[e]==a[f])continue a;d[d.length]=a[f]}return d}function l(a){return"object"===typeof a&&isFinite(a.length)}
function N(a,d,e){return 9===a.nodeType?a.getElementById(d):a.ownerDocument&&((e=a.ownerDocument.getElementById(d))&&z(e,a)&&e||!z(a,a.ownerDocument)&&F('[id="'+d+'"]',a)[0])}function v(a,d){var e,h;var g=d?"string"==typeof d?v(d)[0]:!d.nodeType&&l(d)?d[0]:d:m;if(!g||!a)return[];if(a===window||f(a))return!d||a!==window&&f(g)&&z(a,g)?[a]:[];if(a&&l(a))return b(a);if(e=a.match(V)){if(e[1])return(h=N(g,e[1]))?[h]:[];if(e[2])return c(g.getElementsByTagName(e[2]));if(W&&e[3])return c(g.getElementsByClassName(e[3]))}return F(a,
g)}function y(a,d){return function(e){var f,b;O.test(e)?9!==a.nodeType&&((b=f=a.getAttribute("id"))||a.setAttribute("id",b="__qwerymeupscotty"),d(a.parentNode||a,'[id="'+b+'"]'+e,!0),f||a.removeAttribute("id")):e.length&&d(a,e,!1)}}var m=document,D=m.documentElement,F,Q=/#([\w\-]+)/,R=/\.[\w\-]+/g,M=/^#([\w\-]+)$/,X=/^([\w]+)?\.([\w\-]+)$/,O=/(^|,)\s*[>~+]/,Y=/^\s+|\s*([,\s\+~>]|$)\s*/g,A=/[\s>\+~]/,P=/(?![\s\w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,T=/([.*+?\^=!:${}()|\[\]\/\\])/g,
V=new RegExp(M.source+"|"+/^([\w\-]+)$/.source+"|"+/^\.([\w\-]+)$/.source),L=new RegExp("("+A.source+")"+P.source,"g"),K=new RegExp(A.source+P.source),E=new RegExp(/^(\*|[a-z0-9]+)?(?:([\.#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*~]?=)['"]?([ \w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/.source+")?"),U={" ":function(a){return a&&a!==D&&a.parentNode},">":function(a,d){return a&&a.parentNode==d.parentNode&&a.parentNode},"~":function(a){return a&&
a.previousSibling},"+":function(a,d,e,f){return a?(e=g(a))&&(f=g(d))&&e==f&&e:!1}};p.prototype={g:function(a){return this.c[a]||void 0},s:function(a,d,e){d=e?new RegExp(d):d;return this.c[a]=d}};var H=new p,J=new p,w=new p,C=new p,z="compareDocumentPosition"in D?function(a,d){return 16==(d.compareDocumentPosition(a)&16)}:"contains"in D?function(a,d){d=9===d.nodeType||d==window?D:d;return d!==a&&d.contains(a)}:function(a,d){for(;a=a.parentNode;)if(a===d)return 1;return 0},S=function(){var a=m.createElement("p");
return(a.innerHTML='<a href="#x">x</a>',"#x"!=a.firstChild.getAttribute("href"))?function(a,e){return"class"===e?a.className:"href"===e||"src"===e?a.getAttribute(e,2):a.getAttribute(e)}:function(a,e){return a.getAttribute(e)}}(),W=!!m.getElementsByClassName,Z=m.querySelector&&m.querySelectorAll,aa=function(a,d){var e=[],f,b;try{if(9===d.nodeType||!O.test(a))return c(d.querySelectorAll(a));k(f=a.split(","),y(d,function(a,d){b=a.querySelectorAll(d);1==b.length?e[e.length]=b.item(0):b.length&&(e=e.concat(c(b)))}));
return 1<f.length&&1<e.length?h(e):e}catch(ba){}return G(a,d)},G=function(a,d){var e=[],f,b;a=a.replace(Y,"$1");if(f=a.match(X)){var l=u(f[2]);f=d.getElementsByTagName(f[1]||"*");var c=0;for(b=f.length;c<b;c++)l.test(f[c].className)&&(e[e.length]=f[c]);return e}k(f=a.split(","),y(d,function(a,f,h){l=q(f,a);c=0;for(b=l.length;c<b;c++)if(9===a.nodeType||h||z(l[c],d))e[e.length]=l[c]}));return 1<f.length&&1<e.length?h(e):e};A=function(a){"undefined"!==typeof a.useNativeQSA&&(F=a.useNativeQSA?Z?aa:G:
G)};A({useNativeQSA:!0});v.configure=A;v.uniq=h;v.is=function(a,d,e){if(f(d))return a==d;if(l(d))return!!~b(d).indexOf(a);for(var c=d.split(","),h;d=c.pop();)if(h=C.g(d)||C.s(d,d.split(K)),d=d.match(L),h=h.slice(0),n.apply(a,h.pop().match(E))&&(!h.length||t(a,h,d,e)))return!0;return!1};v.pseudos={};return v}),function(){function p(f,b,c){n||(n=window[ensightenOptions.ns].qwery);var h=n;if((h=h.call(c,b,c))&&0<h.length){if("_root"==b)f=c;else if(f===c)f=void 0;else{b:{for(var l=h.length,g=0;g<l;g++)if(f===
h[g]){h=!0;break b}h=!1}h||(f.parentNode?(r++,f=p(f.parentNode,b,c)):f=void 0)}return f}return!1}function u(f,b,c,g){q[f.id]||(q[f.id]={});q[f.id][b]||(q[f.id][b]={});q[f.id][b][c]||(q[f.id][b][c]=[]);q[f.id][b][c].push(g)}function k(f,b,c,g){if(g||c)if(g)for(var h=0;h<q[f.id][b][c].length;h++){if(q[f.id][b][c][h]===g){q[f.id][b][c].pop(h,1);break}}else delete q[f.id][b][c];else q[f.id][b]={}}function b(b,c,l){if(q[b][l]){var f=c.target||c.srcElement,h,k,m={},n=k=0;r=0;for(h in q[b][l])q[b][l].hasOwnProperty(h)&&
(k=p(f,h,t[b].element))&&g.matchesEvent(l,t[b].element,k,"_root"==h,c)&&(r++,q[b][l][h].match=k,m[r]=q[b][l][h]);c.stopPropagation=function(){c.cancelBubble=!0};for(k=0;k<=r;k++)if(m[k])for(n=0;n<m[k].length;n++){if(!1===m[k][n].call(m[k].match,c)){g.cancel(c);return}if(c.cancelBubble)return}}}function c(c,h,l,n){function f(c){return function(f){b(p,f,c)}}c instanceof Array||(c=[c]);l||"function"!=typeof h||(l=h,h="_root");var p=this.id,m;for(m=0;m<c.length;m++)q[p]&&q[p][c[m]]||g.addEvent(this,c[m],
f(c[m])),n?k(this,c[m],h,l):u(this,c[m],h,l);return this}function g(b,c,l,k){if("string"==typeof b&&"function"==typeof c||"string"==typeof c)g(document).on(b,c,l,k||!1);if(!(this instanceof g)){for(var f in t)if(t[f].element===b)return t[f];x++;t[x]=new g(b,x);t[x]._on=t[x].on;t[x].on=function(b,c,f,g){var h="function"==typeof c?c:f;if("function"==typeof c?f:g)b=[b],"string"==typeof c&&b.push(c),b.push(function(b){return function(c){c.defaultPrevented||window[ensightenOptions.ns].Delegate.load(this);
if(this.nodeName&&"a"!=this.nodeName.toLowerCase())return b.call(this);"undefined"!=typeof c.preventDefault?c.preventDefault():c.returnValue=!1;b.call(this)}}(h)),this._on.apply(this,b);else return this._on.call(this,b,c,f)};return t[x]}this.element=b;this.id=c}var n,r=0,x=0,q={},t={};g.prototype.on=function(b,g,l){return c.call(this,b,g,l)};g.prototype.off=function(b,g,l){return c.call(this,b,g,l,!0)};g.cancel=function(b){b.preventDefault();b.stopPropagation()};g.addEvent=function(b,c,g){b.element.addEventListener(c,
g,"blur"==c||"focus"==c)};g.matchesEvent=function(){return!0};g.load=function(b){setTimeout(function(b,c){return function(){if(b.nodeName&&"a"==b.nodeName.toLowerCase()){if(c&&/^javascript\s*:/.test(c))return(new Function(unescape(c))).call(window);c&&(window.location.href=c)}}}(b,b.href||""),750)};window[ensightenOptions.ns].Delegate=g}(),function(p){var u=p.addEvent;p.addEvent=function(k,b,c){if(k.element.addEventListener)return u(k,b,c);"focus"==b&&(b="focusin");"blur"==b&&(b="focusout");k.element.attachEvent("on"+
b,c)};p.cancel=function(k){k.preventDefault&&k.preventDefault();k.stopPropagation&&k.stopPropagation();k.returnValue=!1;k.cancelBubble=!0}}(window[ensightenOptions.ns].Delegate),window[ensightenOptions.ns].on=window[ensightenOptions.ns].Delegate);
Bootstrapper.dataDefinitionIds = [26291,15364,24917,24887,19436,19070,5758];/*

 Adobe Visitor API for JavaScript version: 4.4.0
 Copyright 2019 Adobe, Inc. All Rights Reserved
 More info available at https://marketing.adobe.com/resources/help/en_US/mcvid/
*/
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var formAnalysis="";try{if(typeof window.digitalData!="undefined"&&typeof window.digitalData.page!="undefined"&&typeof window.digitalData.page.pageInfo!="undefined"&&typeof window.digitalData.page.pageInfo.customValues!="undefined"&&typeof window.digitalData.page.pageInfo.customValues.formAnalysis!=
"undefined"){formAnalysis=window.digitalData.page.pageInfo.customValues.formAnalysis;var formAnalysisValidValues=/true|yes|enabled|1/i;if(formAnalysisValidValues.test(formAnalysis))return"enabled";else return""}else return""}catch(err){return""}},transform:function(val){return val},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"DDL - CV - Form Analysis",collection:"Digital Data Layer",source:"Manage",priv:"false"},{id:"24887"})},24887)},-1,-1);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.AF=function(){var g={data:{},_dataConfig:{},logHistory:[],debug:!0,dataObj:function(a){var b=a?[]:"";b.finalized=!1;b.type=a;return b},validateInput:function(a){if("object"!==typeof a||"number"!==typeof a.length)return this.log("Error, input must be type Array");/set|push|call|eval|finalize|join/.test(a[0])||this.log("Error, '"+a[0]+"' is not a valid command");
return!0},storeData:function(a,b,d,c,e){e=this.getConfig(b,d,e);b=this.data[b][d];if(e.finalized)return this.log("Error, cannot modify finalized key '"+d+"'"),b;if("undefined"!==typeof b&&e.multi)return"join"==a?b=b.concat(c):b.push(c),b;e.multi?(d=[c],"join"==a&&(d=[].concat(c))):d=c;return d},getConfig:function(a,b,d,c){a=this._dataConfig[a]||{};c={};return"undefined"==typeof a[b]?(c.multi=d,c.finalized=!1,c):a[b]},store:function(a,b,d,c,e){this.data[b]=this.data[b]||{};this.data[b][d]=this.storeData(a,
b,d,c,e);return this.data[b][d]},parseCode:function(a){return((a||function(){})+"").replace(/^function\s*\(\s*\)\s*\{|\}$/g,"")},callFn:function(a,b,d,c){if("function"==typeof a)if(d)"undefined"!=typeof window.execScript?window.execScript(this.parseCode(a)):eval.call(window,this.parseCode(a));else return a.apply(window,c);else if("function"==typeof this.data[a][b])if(d)"undefined"!=typeof window.execScript?window.execScript(this.parseCode(this.data[a][b])):eval.call(window,this.parseCode(this.data[a][b]));
else return c="object"==typeof c&&"number"==typeof c.length?c:[],this.data[a][b].apply(this.data[a],c);else return this.log("Error, '"+b+"' is not a function")},parse:function(a){if(this.validateInput(a)){a=Array.prototype.slice.call(a,0);var b=a.shift(),d=a.shift(),c=a.shift(),e=a[0];if(/set|push|join/.test(b))return this.store(b,d,c,e,/push|join/.test(b));if(/call|eval/.test(b))return this.callFn(d,c,"eval"==b,a);if("finalize"==b)return a=this._dataConfig[d]=this._dataConfig[d]||{},a=a[c]||{multi:!1},
a.finalized=!0,this._dataConfig[d][c]=a}},log:function(a){this.logHistory.push(a);return this.debug&&"object"==typeof console?console.log(a)&&!1:!1}};if("object"==typeof Bootstrapper.AF&&"[object Array]"!==Object.prototype.toString.call(Bootstrapper.AF))return Bootstrapper.AF;if("[object Array]"===Object.prototype.toString.call(Bootstrapper.AF))for(var h=Bootstrapper.AF,f=0;f<h.length;f++)g.parse(h[f]);return{push:function(a){return g.parse(a)}}}();Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.log=
function(a){if(Bootstrapper._SC.logEnabled)try{console.log("AA App Log - "+a)}catch(f){}};Bootstrapper.AF.push(["set","SiteCatalyst","block",function(a){this.ignore=this.ignore||{};this.ignore[a]=1}]);Bootstrapper.AF.push(["set","SiteCatalyst","exec",function(){if(!this.ar){Bootstrapper.AF.push(["push","SiteCatalyst","ar",!0]);for(var a=this.ns||[],f={},c=0;c<a.length;c++)f[a[c]]=1,Bootstrapper.AF.push(["set",a[c],"exec",function(a){return function(){var c=this.dl||[],b=this.DMFDelay||!1;Bootstrapper._SC.log("Delay for DMF: "+
b);var f=function(c){if("object"!=typeof window[a])setTimeout.call(this,function(){f.call(this,c)},250);else{for(var g=["pre","post"],e=0;e<g.length;e++){var b=this[g[e]];if("object"==typeof b)for(var k=0;k<b.length;k++){var d=b[k],h=window[a];if("object"==typeof d[0]&&d[0].length){do h=h[d[0].shift()];while(1<d[0].length);d[0]=d[0].shift()}if(d[1]&&"function"==typeof d[1])try{h[d[0]]=d[1].call(this,c)}catch(l){}else h[d[0]]=d[1]}}window[a].t();Bootstrapper.AF.push(["set",a,"getCallbacks",function(){return this.callback||
[]}]);g=Bootstrapper.AF.push(["call",a,"getCallbacks"]);for(e=0;e<g.length;e++)"function"==typeof g[e]&&g[e].call(window)}},l=function(){Bootstrapper.data?Bootstrapper.data.resolve.call(this,c,function(){for(var a={},b=0;b<c.length;b++)a[c[b]]=arguments[b];f.call(this,a)}):f.call(this,{})},m=this;b?Bootstrapper.bindDOMParsed(function(){l.call(m)}):l.call(this)}}(a[c])]);var a=0,b;for(b in f)this.ignore&&b in this.ignore||(a?setTimeout(function(a){return function(){Bootstrapper.AF.push(["call",a,"exec"])}}(b),
250*a):Bootstrapper.AF.push(["call",b,"exec"]),a++)}}]);Bootstrapper.bindPageSpecificCompletion(function(){setTimeout(function(){Bootstrapper.AF.push(["call","SiteCatalyst","exec"])},250)});Bootstrapper.AF.push(["eval",function(){var sName="s";var s_codeVer="2.4 - NAB IB - Ensighten - App Measurement March 2022";if(/ciatesting/i.test(document.location.href))console.log("Loading Basecode: ",s_codeVer);var s_account="nab-dev";if(typeof Bootstrapper!="undefined"&&typeof Bootstrapper.ensightenOptions!=
"undefined"&&typeof Bootstrapper.ensightenOptions.publishPath!="undefined")if(/dev|stage/.test(Bootstrapper.ensightenOptions.publishPath.toLowerCase()))s_account="nab-dev";else s_account="nab-prd";else if(location.hostname==="pilot-www.nab.com.au"||/whu.nab.com.au/.test(window.location.hostname)||/localhost|nabdev.com.au|devnab.com.au|extnp.nab.com.au|nextrel-www.nab.com.au/.test(window.location.hostname))s_account="nab-dev";else if(/nab.com.au/i.test(window.location.hostname))s_account="nab-prd";
if(/ciatesting/i.test(document.location.href))console.log("Adobe Report Suite: ",s_account);var s=s_gi(s_account);if(typeof Visitor!="undefined"&&typeof Visitor.getInstance!="undefined")s.visitor=Visitor.getInstance("4986658252DDA4900A490D4D@AdobeOrg");s.charSet="UTF-8";s.cookieDomainPeriods=3;s.currencyCode="AUD";s.trackDownloadLinks=true;s.trackExternalLinks=true;s.trackInlineStats=true;s.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,doc,pdf,xls,docx,xlsx,pptx";s.linkInternalFilters="javascript:,nab.com.au,thenational.com,national.com.au,"+
window.location.host;s.linkLeaveQueryString=false;s.linkTrackVars="None";s.linkTrackEvents="None";s.prop72=typeof Visitor!="undefined"?"VisitorAPI Present":"VisitorAPI Missing";s.usePlugins=true;function s_doPlugins(s){s.eVar24="Internet Banking";if(typeof s.events=="undefined"&&typeof s.eventsListEns!="undefined"&&s.eventsListEns)s.events=s.eventsListEns;if(!s.pageType&&s.pageName){s.pageName=s.pageName.toLowerCase();pathArray=s.pageName.split(":");s.prop1=pathArray[0];if(typeof pathArray[1]!="undefined")s.channel=
pathArray.slice(0,2).join(":");if(typeof pathArray[2]!="undefined")s.prop3=pathArray.slice(0,3).join(":");if(typeof pathArray[3]!="undefined")s.prop30=pathArray.slice(0,4).join(":")}s.hier1=s.pageName?'D\x3dpageName+":index"':"Error";if(!s.server)s.server=window.location.host;if(typeof s.linkType=="undefined")s.prevPg=s.getPreviousValue(s.pageName,"gpv_pN");if(!s.eVar6)s.eVar6=s.Util.getQueryParam("mh_cid");if(!s.eVar6)s.eVar6=s.Util.getQueryParam("s_kwcid");if(!s.eVar6)s.eVar6=s.Util.getQueryParam("own_cid");
if(!s.eVar6)s.eVar6=s.getValOnce(s.eVar6,"pzn_cid",0);s.prop5=s.getVisitNum("m");if(s.eVar4){var currentPageNumberChk=false;if(typeof s.currentPageNumber!="undefined"&&s.currentPageNumber=="1")currentPageNumberChk=true;if(typeof s.currentPageNumber=="undefined"||currentPageNumberChk){s.eVar4=s.eVar4.toLowerCase();s.prop4="D\x3dv4";s.prop6=s.prevPg;s.events=s.apl(s.events,"event4",",",2)}else{s.eVar4="";s.prop7=""}}if(typeof s.linkType!="undefined"&&s.linkType=="d"){var tUrl=s.linkURL;s.linkType="o"}if(tUrl){var s_yttUrlSnip=
tUrl.indexOf("wps/wcm/connect");var s_msoUrlSnip=tUrl.indexOf("vgnmedia/downld");if(s_yttUrlSnip>-1)tUrl=tUrl.slice(s_yttUrlSnip);else if(s_msoUrlSnip>-1)tUrl=tUrl.slice(s_msoUrlSnip);s.linkTrackVars="prop9,eVar9,prop10,eVar10,prop11,eVar11,events";s.linkTrackEvents="event10";s.events="event10";s.prop9=s.pageName;s.eVar9="D\x3dc9";s.prop10=tUrl;s.eVar10="D\x3dc10";s.eVar11=s.prop11="D\x3dg"}if(s.pageName=="404 error page")s.prop12=s.prevPg;if(typeof s.getTimeParting=="function")s.eVar73=s.getTimeParting("Australia/Victoria");
s.prop13=s.getNewRepeat();if(s.prop1)s.eVar1="D\x3dc1";if(s.channel)s.prop2=s.eVar2="D\x3dch";if(s.prop3)s.eVar3="D\x3dc3";if(s.pageName&&!s.prop9)s.prop9=s.eVar9="D\x3dpageName";if(s.prop5)s.eVar5="D\x3dc5";if(s.prop7==="0")s.prop7="zero";if(s.prop8)s.eVar8="D\x3dc8";s.eVar11=s.prop11="D\x3dg";if(s.prop13)s.eVar13="D\x3dc13";if(s.prop21)s.eVar21="D\x3dc21";if(s.prop30)s.eVar30="D\x3dc30";s.prop75=s.eVar75=s_codeVer;try{if(typeof sc_ib_dl_check=="undefined"&&/logged-in/i.test(digitalData.user.userEvent)&&
/.+/i.test(digitalData.user.ssc)){s.eVar12="Logged in to desktop Internet Banking";s.eVar49=digitalData.user.ssc;var sc_ib_dl_check=true}}catch(err){}var sscid;var authstate=0;var sessionToken=SscCookieHandler.getCookie("nabibSessionToken");try{if(sessionToken!=null)authstate=1;if(typeof digitalData!="undefined")if(typeof digitalData.user!="undefined")if(digitalData.user.loggedInStatus=="logged-in")authstate=1}catch(e){}if(s&&s.eVar49&&s.eVar49.trim().length>0&&s.events){var isIBLoginEvent=function(events){var evtList=
events.split(",");for(var idx=0;idx<evtList.length;idx++)if("event9"===evtList[idx])return true;return false}(s.events);if(isIBLoginEvent){if(/ciatesting/i.test(document.location.href))console.log("CIA:SSC event \x3d login ");try{syncSsc(s.eVar49);if(typeof visitor!="undefined"&&typeof visitor.setCustomerIDs!="undefined"){sscid=s.eVar49;visitor.setCustomerIDs({"ssc":{"id":sscid,"authState":1},"sscxd":{"id":sscid,"authState":"1"}})}}catch(e){if(/ciatesting/i.test(document.location.href))console.log("CIA:SSC logged-in error \x3d ",
e)}}else{if(/ciatesting/i.test(document.location.href))console.log("CIA:SSC event \x3d non login page");try{if(typeof digitalData!="undefined"&&typeof digitalData.user!="undefined"&&typeof digitalData.user.ssc!="undefined"&&digitalData.user.ssc!=""){sscid=digitalData.user.ssc;if(typeof visitor!="undefined"&&typeof visitor.setCustomerIDs!="undefined")visitor.setCustomerIDs({"ssc":{"id":sscid,"authState":authstate},"sscxd":{"id":sscid,"authState":authstate.toString()}})}}catch(e){if(/ciatesting/i.test(document.location.href))console.log("CIA:SSC error \x3d ",
e)}}}else{if(/ciatesting/i.test(document.location.href))console.log("CIA:SSC event \x3d non login page and eVar49 does not exist");try{if(typeof digitalData!="undefined"&&typeof digitalData.user!="undefined"&&typeof digitalData.user.ssc!="undefined"&&digitalData.user.ssc!=""){sscid=digitalData.user.ssc;if(typeof visitor!="undefined"&&typeof visitor.setCustomerIDs!="undefined")visitor.setCustomerIDs({"ssc":{"id":sscid,"authState":authstate},"sscxd":{"id":sscid,"authState":authstate.toString()}})}}catch(e){if(/ciatesting/i.test(document.location.href))console.log("CIA:SSC error \x3d ",
e)}}if(s&&s.eVar49&&s.eVar49.trim().length>0&&s.events){var isEmailClickThroughEvent=function(events){var evtList=events.split(",");for(var idx=0;idx<evtList.length;idx++)if("event111"===evtList[idx])return true;return false}(s.events);if(isEmailClickThroughEvent){syncSsc(s.eVar49);if(typeof visitor!="undefined"&&typeof visitor.setCustomerIDs!="undefined")visitor.setCustomerIDs({"ssc":{"id":s.eVar49,"authState":0},"sscxd":{"id":s.eVar49,"authState":"0"}})}}if(SscCookieHandler.getCookie("sync_s_vi")==
null){syncAnalyticsVisitorCookie();SscCookieHandler.setCookie("sync_s_vi","sync")}if(typeof window.aamuuid!="undefined")s.eVar76=window.aamuuid;s.eVar74="D\x3dt";s.eVar77=window.location.href.split("?")[0];if(s.linkTrackVars!="None")s.linkTrackVars=s.apl(s.linkTrackVars,"s.eVar74",",",2);try{var ndid="";ndid=s.Util.cookieRead("ndid");if(typeof ndid=="string"&&ndid!=="")ndid="kiosk-id:"+ndid.toUpperCase();s.eVar40=ndid.substring(0,16)}catch(err){console.log("eVar40 error: "+err)}s.AudienceManagement.setup({"partner":"nab",
"disableDestinationPublishingIframe":true,"containerNSID":0,"uuidCookie":{"name":"aam_uuid","days":30},"visitorService":{"namespace":"4986658252DDA4900A490D4D@AdobeOrg"}})}s.doPlugins=s_doPlugins;s.getNewRepeat=new Function("d","cn",""+"var s\x3dthis,e\x3dnew Date(),cval,sval,ct\x3de.getTime();d\x3dd?d:30;cn\x3dcn?cn:"+"'s_nr';e.setTime(ct+d*24*60*60*1000);cval\x3ds.c_r(cn);if(cval.length\x3d"+"\x3d0){s.c_w(cn,ct+'-New',e);return'New';}sval\x3ds.split(cval,'-');if(ct"+"-sval[0]\x3c30*60*1000\x26\x26sval[1]\x3d\x3d'New'){s.c_w(cn,ct+'-New',e);return'N"+
"ew';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}");s.getPreviousValue=new Function("v","c","el",""+"var s\x3dthis,t\x3dnew Date,i,j,r\x3d'';t.setTime(t.getTime()+1800000);if(el"+"){if(s.events){i\x3ds.split(el,',');j\x3ds.split(s.events,',');for(x in i"+"){for(y in j){if(i[x]\x3d\x3dj[y]){if(s.c_r(c)) r\x3ds.c_r(c);v?s.c_w(c,v,t)"+":s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r\x3ds.c_r(c);v?"+"s.c_w(c,v,t):s.c_w(c,'no value',t);return r}");s.getValOnce=new Function("v","c","e","t",""+
"var s\x3dthis,a\x3dnew Date,v\x3dv?v:'',c\x3dc?c:'s_gvo',e\x3de?e:0,i\x3dt\x3d\x3d'm'?6000"+"0:86400000;k\x3ds.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e"+"\x3d\x3d0?0:a);}return v\x3d\x3dk?'':v");s.getVisitNum=new Function("tp","c","c2",""+"var s\x3dthis,e\x3dnew Date,cval,cvisit,ct\x3de.getTime(),d;if(!tp){tp\x3d'm';}"+"if(tp\x3d\x3d'm'||tp\x3d\x3d'w'||tp\x3d\x3d'd'){eo\x3ds.endof(tp),y\x3deo.getTime();e.setTi"+"me(y);}else {d\x3dtp*86400000;e.setTime(ct+d);}if(!c){c\x3d's_vnum';}if(!"+
"c2){c2\x3d's_invisit';}cval\x3ds.c_r(c);if(cval){var i\x3dcval.indexOf('\x26vn\x3d"+"'),str\x3dcval.substring(i+4,cval.length),k;}cvisit\x3ds.c_r(c2);if(cvisi"+"t){if(str){e.setTime(ct+1800000);s.c_w(c2,'true',e);return str;}els"+"e {return 'unknown visit number';}}else {if(str){str++;k\x3dcval.substri"+"ng(0,i);e.setTime(k);s.c_w(c,k+'\x26vn\x3d'+str,e);e.setTime(ct+1800000);"+"s.c_w(c2,'true',e);return str;}else {s.c_w(c,e.getTime()+'\x26vn\x3d1',e)"+";e.setTime(ct+1800000);s.c_w(c2,'true',e);return 1;}}");
s.dimo=new Function("m","y",""+"var d\x3dnew Date(y,m+1,0);return d.getDate();");s.endof=new Function("x",""+"var t\x3dnew Date;t.setHours(0);t.setMinutes(0);t.setSeconds(0);if(x\x3d\x3d"+"'m'){d\x3ds.dimo(t.getMonth(),t.getFullYear())-t.getDate()+1;}else if("+"x\x3d\x3d'w'){d\x3d7-t.getDay();}else {d\x3d1;}t.setDate(t.getDate()+d);return "+"t;");s.apl=new Function("l","v","d","u",""+"var s\x3dthis,m\x3d0;if(!l)l\x3d'';if(u){var i,n,a\x3ds.split(l,d);for(i\x3d0;i\x3ca."+"length;i++){n\x3da[i];m\x3dm||(u\x3d\x3d1?(n\x3d\x3dv):(n.toLowerCase()\x3d\x3dv.toLowerCas"+
"e()));}}if(!m)l\x3dl?l+d+v:v;return l");s.p_c=new Function("v","c",""+"var x\x3dv.indexOf('\x3d');return c.toLowerCase()\x3d\x3dv.substring(0,x\x3c0?v.le"+"ngth:x).toLowerCase()?v:0");s.repl=new Function("x","o","n",""+"var i\x3dx.indexOf(o),l\x3dn.length;while(x\x26\x26i\x3e\x3d0){x\x3dx.substring(0,i)+n+x."+"substring(i+o.length);i\x3dx.indexOf(o,i+l)}return x");s.split=new Function("l","d",""+"var i,x\x3d0,a\x3dnew Array;while(l){i\x3dl.indexOf(d);i\x3di\x3e-1?i:l.length;a[x"+"++]\x3dl.substring(0,i);l\x3dl.substring(i+d.length);}return a");
s.join=new Function("v","p",""+"var s \x3d this;var f,b,d,w;if(p){f\x3dp.front?p.front:'';b\x3dp.back?p.back"+":'';d\x3dp.delim?p.delim:'';w\x3dp.wrap?p.wrap:'';}var str\x3d'';for(var x\x3d0"+";x\x3cv.length;x++){if(typeof(v[x])\x3d\x3d'object' )str+\x3ds.join( v[x],p);el"+"se str+\x3dw+v[x]+w;if(x\x3cv.length-1)str+\x3dd;}return f+str+b;");s.getTimeParting=function(t){var c=t;if("-v"===t)return{plugin:"getTimeParting",version:"6.3"};a:{if("undefined"!==typeof window.s_c_il){var a=0;for(var b;a<window.s_c_il.length;a++)if(b=
window.s_c_il[a],b._c&&"s_c"===b._c){a=b;break a}}a=void 0}"undefined"!==typeof a&&(a.contextData.getTimeParting="6.3");c=document.documentMode?void 0:c||"Etc/GMT";a=(new Date).toLocaleDateString("en-US",{timeZone:c,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"});a=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(a);return a[1]+"|"+(a[6]+a[7])};s.manageVars=new Function("c","l","f",""+"var s\x3dthis,vl,la,vla;l\x3dl?l:'';f\x3df?f:1 ;if(!s[c])return false;vl\x3d'pa"+
"geName,purchaseID,channel,server,pageType,campaign,state,zip,events"+",products,transactionID';for(var n\x3d1;n\x3c76;n++){vl+\x3d',prop'+n+',eVar"+"'+n+',hier'+n;}if(l\x26\x26(f\x3d\x3d1||f\x3d\x3d2)){if(f\x3d\x3d1){vl\x3dl;}if(f\x3d\x3d2){la\x3ds.spl"+"it(l,',');vla\x3ds.split(vl,',');vl\x3d'';for(x in la){for(y in vla){if(l"+"a[x]\x3d\x3dvla[y]){vla[y]\x3d'';}}}for(y in vla){vl+\x3dvla[y]?','+vla[y]:'';}"+"}s.pt(vl,',',c,0);return true;}else if(l\x3d\x3d''\x26\x26f\x3d\x3d1){s.pt(vl,',',c,0"+
");return true;}else{return false;}");s.clearVars=new Function("t","var s\x3dthis;s[t]\x3d'';");s.lowercaseVars=new Function("t",""+"var s\x3dthis;if(s[t]\x26\x26t!\x3d'events'){s[t]\x3ds[t].toString();if(s[t].index"+"Of('D\x3d')!\x3d0){s[t]\x3ds[t].toLowerCase();}}");s.parseDataLayer=function(obj_name){if(typeof obj_name=="undefined")return false;try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined"){var lastEventObject=window.digitalData.event[window.digitalData.event.length-
1];if(lastEventObject.data[obj_name])return lastEventObject.data[obj_name];else return"unknown "+obj_name}else return"unknown "+obj_name}catch(err){return"unknown "+obj_name}};s.parseDataLayerByEventType=function(objName,eventType){if(typeof objName=="undefined"||typeof eventType=="undefined")return false;try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined")for(var i=digitalData.event.length-1;i>=0;i--)if(eventType==digitalData.event[i].eventType)return digitalData.event[i].data[objName];
else return"unknown "+objName;else return"unknown "+objName}catch(err){return"unknown "+objName}};s.addEnsEvent=function(eventNumber){if(typeof window.s.eventsListEns=="undefined")window.s.eventsListEns="";try{window.s.eventsListEns=window.s.apl(window.s.eventsListEns,eventNumber,",",1);return window.s.eventsListEns}catch(err){return window.s.eventsListEns}};s.getPageNameFromDL=function(){try{if(typeof digitalData!="undefined"&&typeof digitalData.page!="undefined"&&typeof digitalData.page.pageInfo!=
"undefined")if(digitalData.page.pageInfo.pageName!="undefined")return digitalData.page.pageInfo.pageName;else return"missing-page-name"}catch(err){return false}};function syncSsc(ssc){var img=document.createElement("img");img.src="https://dpm.demdex.net/ibs:dpid\x3d2351\x26dpuuid\x3d"+ssc}function SscCookieHandler(){}SscCookieHandler.setCookie=function(sName,sValue,sPath,nDays){var expires="";if(nDays){var d=new Date;d.setTime(d.getTime()+nDays*24*60*60*1E3);expires="; expires\x3d"+d.toGMTString()}try{var c_value=
encodeURI(sValue)+expires+(typeof sPath==="undefined"||sPath==null?"; path\x3d/":"; path\x3d"+sPath);document.cookie=sName+"\x3d"+c_value}catch(e){}};SscCookieHandler.getCookie=function(sName){var re=new RegExp("(;|^)[^;]*("+sName+")\x3d([^;]*)(;|$)");var res=re.exec(document.cookie);return res!=null?decodeURI(res[3]):null};SscCookieHandler.removeCookie=function(name){SscCookieHandler.setCookie(name,"",null,-1)};function syncAnalyticsVisitorCookie(){var cookiestring=RegExp("s_vi\x3d[^;]+").exec(document.cookie);
var analyticsID=unescape(!!cookiestring?cookiestring.toString().replace(/^[^|]+\|/,"").replace("\x3d","").replace("[CE]",""):"");if(analyticsID.length>0){var img=document.createElement("img");img.src="https://dpm.demdex.net/ibs:dpid\x3d2300\x26dpuuid\x3d"+analyticsID}}s.visitorNamespace="nab";s.trackingServer="metrics.nab.com.au";s.trackingServerSecure="smetrics.nab.com.au";s.loadModule("AudienceManagement");function AppMeasurement_Module_AudienceManagement(d){var a=this;a.s=d;var b=window;b.s_c_in||
(b.s_c_il=[],b.s_c_in=0);a._il=b.s_c_il;a._in=b.s_c_in;a._il[a._in]=a;b.s_c_in++;a._c="s_m";a.setup=function(c){b.DIL&&c&&(c.disableDefaultRequest=!0,c.disableCORS=!0,c.secureDataCollection=!1,a.instance=b.DIL.create(c),a.tools=b.DIL.tools)};a.isReady=function(){return a.instance?!0:!1};a.getEventCallConfigParams=function(){return a.instance&&a.instance.api&&a.instance.api.getEventCallConfigParams?a.instance.api.getEventCallConfigParams():{}};a.passData=function(b){a.instance&&a.instance.api&&a.instance.api.passData&&
a.instance.api.passData(b)}}!function(){var r,o,a;"function"!=typeof window.DIL&&(window.DIL=function(n){var c,e,I,r,u,h,t,o,s,i,a,d,y,l,f,g,p,m,b,v,D,O=[],C={};function S(e){return void 0===e||!0===e}n!==Object(n)&&(n={}),I=n.partner,r=n.containerNSID,u=n.mappings,h=n.uuidCookie,t=!0===n.enableErrorReporting,o=n.visitorService,s=n.declaredId,i=!0===n.delayAllUntilWindowLoad,a=S(n.secureDataCollection),d="boolean"==typeof n.isCoopSafe?n.isCoopSafe:null,y=S(n.enableHrefererParam),l=S(n.enableLogging),
f=S(n.enableUrlDestinations),g=S(n.enableCookieDestinations),p=!0===n.disableDefaultRequest,m=n.afterResultForDefaultRequest,b=n.visitorConstructor,v=!0===n.disableCORS,D=!0===n.ignoreHardDependencyOnVisitorAPI,t&&DIL.errorModule.activate(),D&&O.push("Warning: this instance is configured to ignore the hard dependency on the VisitorAPI service. This means that no URL destinations will be fired if the instance has no connection to VisitorAPI. If the VisitorAPI service is not instantiated, ID syncs will not be fired either.");
var w=!0===window._dil_unit_tests;if((c=arguments[1])&&O.push(c+""),!I||"string"!=typeof I){var _={name:"error",message:c="DIL partner is invalid or not specified in initConfig",filename:"dil.js"};return DIL.errorModule.handleError(_),new Error(c)}if(c="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0",!r&&"number"!=typeof r||(r=parseInt(r,10),!isNaN(r)&&0<=r&&(c="")),c&&(r=0,O.push(c),c=""),(e=DIL.getDil(I,r))instanceof DIL&&e.api.getPartner()===I&&e.api.getContainerNSID()===
r)return e;if(!(this instanceof DIL))return new DIL(n,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner \x3d "+I+" and containerNSID \x3d "+r);DIL.registerDil(this,I,r);var R={doesConsoleLogExist:window.console===Object(window.console)&&"function"==typeof window.console.log,logMemo:{},log:function(e){O.push(e),l&&this.doesConsoleLogExist&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,arguments)},logOnce:function(e){this.logMemo[e]||
(this.logMemo[e]=!0,R.log(e))}},E={IS_HTTPS:a||"https:"===document.location.protocol,SIX_MONTHS_IN_MINUTES:259200,IE_VERSION:function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]\x3e\x3cspan\x3e\x3c/span\x3e\x3c![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return null}()};E.IS_IE_LESS_THAN_10="number"==typeof E.IE_VERSION&&E.IE_VERSION<10;var P={stuffed:{}},L={},A={firingQueue:[],
fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},firstRequestHasFired:!1,abortRequests:!1,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,platformParams:{d_nsid:r+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:3E4,calledBack:!1,mid:null,
noVisitorAPI:null,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(e){try{if(this.admsProcessingStarted)return;this.admsProcessingStarted=!0;var t,n,s,i=o;if("function"!=typeof e||"function"!=typeof e.getInstance)throw this.noVisitorAPI=!0,new Error("Visitor does not exist.");if(i!==Object(i)||!(t=i.namespace)||"string"!=typeof t)throw this.releaseType="no namespace",new Error("DIL.create() needs the initConfig property `visitorService`:{namespace:'\x3cExperience Cloud Org ID\x3e'}");
if((n=e.getInstance(t,{idSyncContainerID:r}))!==Object(n)||"function"!=typeof n.isAllowed||"function"!=typeof n.getMarketingCloudVisitorID||"function"!=typeof n.getCustomerIDs||"function"!=typeof n.isOptedOut||"function"!=typeof n.publishDestinations)throw this.releaseType="invalid instance",s="Invalid Visitor instance.",n===Object(n)&&"function"!=typeof n.publishDestinations&&(s+=" In particular, visitorInstance.publishDestinations is not a function. This is needed to fire URL destinations in DIL v8.0+ and should be present in Visitor v3.3.0+ ."),
new Error(s);if(this.VisitorAPI=e,!n.isAllowed())return this.releaseType="VisitorAPI is not allowed to write cookies",void this.releaseRequests();this.instance=n,this.waitForMidToReleaseRequests()}catch(e){if(!D)throw new Error("Error in processing Visitor API, which is a hard dependency for DIL v8.0+: "+e.message);this.releaseRequests()}},waitForMidToReleaseRequests:function(){var t=this;this.instance&&(this.instance.getMarketingCloudVisitorID(function(e){t.mid=e,t.releaseType="VisitorAPI",t.releaseRequests()},
!0),(!N.exists||!N.isIabContext&&N.isApproved()||N.isIabContext&&B.hasGoSignal())&&setTimeout(function(){"VisitorAPI"!==t.releaseType&&(t.releaseType="timeout",t.releaseRequests())},this.getLoadTimeout()))},releaseRequests:function(){this.calledBack=!0,A.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var e=k.isPopulatedString,t=this.getMarketingCloudVisitorID();return e(this.mid)&&this.mid===
t||(this.mid=t),e(this.mid)?"d_mid\x3d"+this.mid+"\x26":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(e){if(e!==Object(e))return"";var t,n,s,i,r="",o=[],a=[];for(t in e)e.hasOwnProperty(t)&&(n=e[a[0]=t])===Object(n)&&(a[1]=n.id||"",a[2]=n.authState||0,o.push(a),a=[]);if(i=o.length)for(s=0;s<i;s++)r+="\x26d_cid_ic\x3d"+x.encodeAndBuildRequest(o[s],"%01");return r},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,
this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(e){this.isOptedOut=e,this.isOptedOutCallbackCalled=!0,A.registerRequest(),N.isIabContext()&&B.checkQueryStringObject()},getLoadTimeout:function(){var e=this.instance;if(e){if("function"==typeof e.getLoadTimeout)return e.getLoadTimeout();if(void 0!==e.loadTimeout)return e.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},declaredId:{declaredId:{init:null,
request:null},declaredIdCombos:{},setDeclaredId:function(e,t){var n=k.isPopulatedString,s=encodeURIComponent;if(e===Object(e)&&n(t)){var i=e.dpid,r=e.dpuuid,o=null;if(n(i)&&n(r))return o=s(i)+"$"+s(r),!0===this.declaredIdCombos[o]?"setDeclaredId: combo exists for type '"+t+"'":(this.declaredIdCombos[o]=!0,this.declaredId[t]={dpid:i,dpuuid:r},"setDeclaredId: succeeded for type '"+t+"'")}return"setDeclaredId: failed for type '"+t+"'"},getDeclaredIdQueryString:function(){var e=this.declaredId.request,
t=this.declaredId.init,n=encodeURIComponent,s="";return null!==e?s="\x26d_dpid\x3d"+n(e.dpid)+"\x26d_dpuuid\x3d"+n(e.dpuuid):null!==t&&(s="\x26d_dpid\x3d"+n(t.dpid)+"\x26d_dpuuid\x3d"+n(t.dpuuid)),s}},registerRequest:function(e){var t,n=this.firingQueue;e===Object(e)&&(n.push(e),e.isDefaultRequest||(p=!0)),this.firing||!n.length||i&&!DIL.windowLoaded||(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled&&(N.isApproved()||
B.hasGoSignal())&&(this.adms.isOptedOutCallbackCalled=!1,(t=n.shift()).src=t.src.replace(/&d_nsid=/,"\x26"+this.adms.getMIDQueryString()+B.getQueryString()+"d_nsid\x3d"),k.isPopulatedString(t.corsPostData)&&(t.corsPostData=t.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+B.getQueryString()+"d_nsid\x3d")),V.fireRequest(t),this.firstRequestHasFired||"script"!==t.tag&&"cors"!==t.tag||(this.firstRequestHasFired=!0)))},processVisitorAPI:function(){this.adms.process(b||window.Visitor)},getCoopQueryString:function(){var e=
"";return!0===d?e="\x26d_coop_safe\x3d1":!1===d&&(e="\x26d_coop_unsafe\x3d1"),e}};C.requestController=A;var q,j,T={sendingMessages:!1,messages:[],messagesPosted:[],destinations:[],destinationsPosted:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],publishDestinationsVersion:null,requestToProcess:function(e,t){var n,s=this;function i(){s.jsonForComparison.push(e),s.jsonWaiting.push([e,t])}if(e&&!k.isEmptyObject(e))if(n=JSON.stringify(e.dests||[]),this.jsonForComparison.length){var r,
o,a,d=!1;for(r=0,o=this.jsonForComparison.length;r<o;r++)if(a=this.jsonForComparison[r],n===JSON.stringify(a.dests||[])){d=!0;break}d?this.jsonDuplicates.push(e):i()}else i();if(this.jsonWaiting.length){var u=this.jsonWaiting.shift();this.process(u[0],u[1]),this.requestToProcess()}this.messages.length&&!this.sendingMessages&&this.sendMessages()},process:function(e){if(f){var t,n,s,i,r,o,a=encodeURIComponent,d=this.getPublishDestinationsVersion(),u=!1;if(-1!==d){if((t=e.dests)&&t instanceof Array&&
(n=t.length)){for(s=0;s<n;s++)i=t[s],o=[a("dests"),a(i.id||""),a(i.y||""),a(i.c||"")].join("|"),this.addMessage(o),r={url:i.c,hideReferrer:void 0===i.hr||!!i.hr,message:o},this.addDestination(r),void 0!==i.hr&&(u=!0);1===d&&u&&R.logOnce("Warning: visitorInstance.publishDestinations version is old (Visitor v3.3.0 to v4.0.0). URL destinations will not have the option of being fired on page, only in the iframe.")}this.jsonProcessed.push(e)}}},addMessage:function(e){this.messages.push(e)},addDestination:function(e){this.destinations.push(e)},
sendMessages:function(){this.sendingMessages||(this.sendingMessages=!0,f&&this.messages.length&&this.publishDestinations())},publishDestinations:function(){function e(e){R.log("visitor.publishDestinations() result: "+(e.error||e.message)),n.sendingMessages=!1,n.requestToProcess()}function t(){n.messages=[],n.destinations=[]}var n=this,s=A.adms.instance,i=[],r=[];return 1===this.publishDestinationsVersion?(x.extendArray(i,this.messages),x.extendArray(this.messagesPosted,this.messages),t(),s.publishDestinations(I,
i,e),"Called visitor.publishDestinations() version 1"):1<this.publishDestinationsVersion?(x.extendArray(r,this.destinations),x.extendArray(this.destinationsPosted,this.destinations),t(),s.publishDestinations({subdomain:I,callback:e,urlDestinations:r}),"Called visitor.publishDestinations() version \x3e 1"):void 0},getPublishDestinationsVersion:function(){if(null!==this.publishDestinationsVersion)return this.publishDestinationsVersion;var e=A.adms.instance,n=-1;return e.publishDestinations(null,null,
function(e){if(e===Object(e)){var t=e.error;"subdomain is not a populated string."===t?n=1:"Invalid parameters passed."===t&&(n=2)}}),this.publishDestinationsVersion=n}},M={traits:function(e){return k.isValidPdata(e)&&(L.sids instanceof Array||(L.sids=[]),x.extendArray(L.sids,e)),this},pixels:function(e){return k.isValidPdata(e)&&(L.pdata instanceof Array||(L.pdata=[]),x.extendArray(L.pdata,e)),this},logs:function(e){return k.isValidLogdata(e)&&(L.logdata!==Object(L.logdata)&&(L.logdata={}),x.extendObject(L.logdata,
e)),this},customQueryParams:function(e){return k.isEmptyObject(e)||x.extendObject(L,e,A.reservedKeys),this},signals:function(e,t){var n,s=e;if(!k.isEmptyObject(s)){if(t&&"string"==typeof t)for(n in s={},e)e.hasOwnProperty(n)&&(s[t+n]=e[n]);x.extendObject(L,s,A.reservedKeys)}return this},declaredId:function(e){return A.declaredId.setDeclaredId(e,"request"),this},result:function(e){return"function"==typeof e&&(L.callback=e),this},afterResult:function(e){return"function"==typeof e&&(L.postCallbackFn=
e),this},useImageRequest:function(){return L.useImageRequest=!0,this},clearData:function(){return L={},this},submit:function(e){return L.isDefaultRequest=!!e,V.submitRequest(L),L={},this},getPartner:function(){return I},getContainerNSID:function(){return r},getEventLog:function(){return O},getState:function(){var e={},t={};return x.extendObject(e,A,{registerRequest:!0}),x.extendObject(t,T,{requestToProcess:!0,process:!0,sendMessages:!0}),{initConfig:n,pendingRequest:L,otherRequestInfo:e,destinationPublishingInfo:t,
log:O}},idSync:function(){throw new Error("Please use the `idSyncByURL` method of the Experience Cloud ID Service (Visitor) instance");},aamIdSync:function(){throw new Error("Please use the `idSyncByDataSource` method of the Experience Cloud ID Service (Visitor) instance");},passData:function(e){return k.isEmptyObject(e)?"Error: json is empty or not an object":(V.defaultCallback(e),e)},getPlatformParams:function(){return A.platformParams},getEventCallConfigParams:function(){var e,t=A,n=t.modStatsParams,
s=t.platformParams;if(!n){for(e in n={},s)s.hasOwnProperty(e)&&!t.nonModStatsParams[e]&&(n[e.replace(/^d_/,"")]=s[e]);!0===d?n.coop_safe=1:!1===d&&(n.coop_unsafe=1),t.modStatsParams=n}return n},setAsCoopSafe:function(){return d=!0,this},setAsCoopUnsafe:function(){return d=!1,this},getEventCallIabSignals:function(e){var t;return e!==Object(e)?"Error: config is not an object":"function"!=typeof e.callback?"Error: config.callback is not a function":(t=parseInt(e.timeout,10),isNaN(t)&&(t=null),void B.getQueryStringObject(e.callback,
t))}},V={corsMetadata:(q="none","undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest&&(q="XMLHttpRequest"),{corsType:q}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(e){return A.registerRequest(V.createQueuedRequest(e)),!0},createQueuedRequest:function(e){var t,n,s,i,r,o=e.callback,a="img",d=e.isDefaultRequest;if(delete e.isDefaultRequest,!k.isEmptyObject(u))for(s in u)if(u.hasOwnProperty(s)){if(null==
(i=u[s])||""===i)continue;if(s in e&&!(i in e)&&!(i in A.reservedKeys)){if(null==(r=e[s])||""===r)continue;e[i]=r}}return k.isValidPdata(e.sids)||(e.sids=[]),k.isValidPdata(e.pdata)||(e.pdata=[]),k.isValidLogdata(e.logdata)||(e.logdata={}),e.logdataArray=x.convertObjectToKeyValuePairs(e.logdata,"\x3d",!0),e.logdataArray.push("_ts\x3d"+(new Date).getTime()),"function"!=typeof o&&(o=this.defaultCallback),t=this.makeRequestSrcData(e),(n=this.getCORSInstance())&&!0!==e.useImageRequest&&(a="cors"),{tag:a,
src:t.src,corsSrc:t.corsSrc,callbackFn:o,postCallbackFn:e.postCallbackFn,useImageRequest:!!e.useImageRequest,requestData:e,corsInstance:n,corsPostData:t.corsPostData,isDefaultRequest:d}},defaultCallback:function(e,t){var n,s,i,r,o,a,d,u,c;if(g&&(n=e.stuff)&&n instanceof Array&&(s=n.length))for(i=0;i<s;i++)(r=n[i])&&r===Object(r)&&(o=r.cn,a=r.cv,void 0!==(d=r.ttl)&&""!==d||(d=Math.floor(x.getMaxCookieExpiresInMinutes()/60/24)),u=r.dmn||"."+document.domain.replace(/^www\./,""),c=r.type,o&&(a||"number"==
typeof a)&&("var"!==c&&(d=parseInt(d,10))&&!isNaN(d)&&x.setCookie(o,a,24*d*60,"/",u,!1),P.stuffed[o]=a));var l,f,p=e.uuid;k.isPopulatedString(p)&&(k.isEmptyObject(h)||("string"==typeof(l=h.path)&&l.length||(l="/"),f=parseInt(h.days,10),isNaN(f)&&(f=100),x.setCookie(h.name||"aam_did",p,24*f*60,l,h.domain||"."+document.domain.replace(/^www\./,""),!0===h.secure))),A.abortRequests||T.requestToProcess(e,t)},makeRequestSrcData:function(r){r.sids=k.removeEmptyArrayValues(r.sids||[]),r.pdata=k.removeEmptyArrayValues(r.pdata||
[]);var o=A,e=o.platformParams,t=x.encodeAndBuildRequest(r.sids,","),n=x.encodeAndBuildRequest(r.pdata,","),s=(r.logdataArray||[]).join("\x26");delete r.logdataArray;var i,a,d=encodeURIComponent,u=E.IS_HTTPS?"https://":"http://",c=o.declaredId.getDeclaredIdQueryString(),l=o.adms.instance?o.adms.getCustomerIDsQueryString(o.adms.getCustomerIDs()):"",f=function(){var e,t,n,s,i=[];for(e in r)if(!(e in o.reservedKeys)&&r.hasOwnProperty(e))if(t=r[e],e=d(e),t instanceof Array)for(n=0,s=t.length;n<s;n++)i.push(e+
"\x3d"+d(t[n]));else i.push(e+"\x3d"+d(t));return i.length?"\x26"+i.join("\x26"):""}(),p="d_dil_ver\x3d"+d(DIL.version),h="d_nsid\x3d"+e.d_nsid+o.getCoopQueryString()+c+l+(t.length?"\x26d_sid\x3d"+t:"")+(n.length?"\x26d_px\x3d"+n:"")+(s.length?"\x26d_ld\x3d"+d(s):""),g="\x26d_rtbd\x3d"+e.d_rtbd+"\x26d_jsonv\x3d"+e.d_jsonv+"\x26d_dst\x3d"+e.d_dst,m=y?"\x26h_referer\x3d"+d(location.href):"";return a=(i=u+I+".demdex.net/event")+"?"+p+"\x26"+h+g+f+m,{corsSrc:i+"?"+p+"\x26_ts\x3d"+(new Date).getTime(),
src:a,corsPostData:h+g+f+m,isDeclaredIdCall:""!==c}},fireRequest:function(e){if("img"===e.tag)this.fireImage(e);else{var t=A.declaredId,n=t.declaredId.request||t.declaredId.init||{},s={dpid:n.dpid||"",dpuuid:n.dpuuid||""};this.fireCORS(e,s)}},fireImage:function(t){var e,n,s=A;s.abortRequests||(s.firing=!0,e=new Image(0,0),s.sent.push(t),e.onload=function(){s.firing=!1,s.fired.push(t),s.num_of_img_responses++,s.registerRequest()},n=function(e){c="imgAbortOrErrorHandler received the event of type "+
e.type,R.log(c),s.abortRequests=!0,s.firing=!1,s.errored.push(t),s.num_of_img_errors++,s.registerRequest()},e.addEventListener("error",n),e.addEventListener("abort",n),e.src=t.src)},fireCORS:function(s,i){var r=this,o=A,e=this.corsMetadata.corsType,t=s.corsSrc,n=s.corsInstance,a=s.corsPostData,d=s.postCallbackFn,u="function"==typeof d;if(!o.abortRequests&&!v){o.firing=!0;try{n.open("post",t,!0),"XMLHttpRequest"===e&&(n.withCredentials=!0,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),
n.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(e){var t;try{if((t=JSON.parse(e))!==Object(t))return r.handleCORSError(s,i,"Response is not JSON")}catch(e){return r.handleCORSError(s,i,"Error parsing response as JSON")}try{var n=s.callbackFn;o.firing=!1,o.fired.push(s),o.num_of_cors_responses++,n(t,i),u&&d(t,i)}catch(e){e.message="DIL handleCORSResponse caught error with message "+e.message,c=e.message,R.log(c),e.filename=e.filename||"dil.js",e.partner=I,DIL.errorModule.handleError(e);
try{n({error:e.name+"|"+e.message},i),u&&d({error:e.name+"|"+e.message},i)}catch(e){}}finally{o.registerRequest()}}(this.responseText)}),n.onerror=function(){r.handleCORSError(s,i,"onerror")},n.ontimeout=function(){r.handleCORSError(s,i,"ontimeout")},n.send(a)}catch(e){this.handleCORSError(s,i,"try-catch")}o.sent.push(s),o.declaredId.declaredId.request=null}},handleCORSError:function(e,t,n){A.num_of_cors_errors++,A.corsErrorSources.push(n)}},k={isValidPdata:function(e){return!!(e instanceof Array&&
this.removeEmptyArrayValues(e).length)},isValidLogdata:function(e){return!this.isEmptyObject(e)},isEmptyObject:function(e){if(e!==Object(e))return!0;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},removeEmptyArrayValues:function(e){var t,n=0,s=e.length,i=[];for(n=0;n<s;n++)null!=(t=e[n])&&""!==t&&i.push(t);return i},isPopulatedString:function(e){return"string"==typeof e&&e.length}},x={convertObjectToKeyValuePairs:function(e,t,n){var s,i,r=[];for(s in t=t||"\x3d",e)e.hasOwnProperty(s)&&
null!=(i=e[s])&&""!==i&&r.push(s+t+(n?encodeURIComponent(i):i));return r},encodeAndBuildRequest:function(e,t){return e.map(function(e){return encodeURIComponent(e)}).join(t)},getCookie:function(e){var t,n,s,i=e+"\x3d",r=document.cookie.split(";");for(t=0,n=r.length;t<n;t++){for(s=r[t];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(i))return decodeURIComponent(s.substring(i.length,s.length))}return null},setCookie:function(e,t,n,s,i,r){var o=new Date;n=n&&1E3*n*60,document.cookie=e+
"\x3d"+encodeURIComponent(t)+(n?";expires\x3d"+(new Date(o.getTime()+n)).toUTCString():"")+(s?";path\x3d"+s:"")+(i?";domain\x3d"+i:"")+(r?";secure":"")},extendArray:function(e,t){return e instanceof Array&&t instanceof Array&&(Array.prototype.push.apply(e,t),!0)},extendObject:function(e,t,n){var s;if(e!==Object(e)||t!==Object(t))return!1;for(s in t)if(t.hasOwnProperty(s)){if(!k.isEmptyObject(n)&&s in n)continue;e[s]=t[s]}return!0},getMaxCookieExpiresInMinutes:function(){return E.SIX_MONTHS_IN_MINUTES},
replaceMethodsWithFunction:function(e,t){var n;if(e===Object(e)&&"function"==typeof t)for(n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t)}},N=(j=C.requestController,{exists:null,instance:null,aamIsApproved:null,init:function(){var e=this;this.checkIfExists()?(this.exists=!0,this.instance=window.adobe.optIn,this.instance.fetchPermissions(function(){e.callback()},!0)):this.exists=!1},checkIfExists:function(){return window.adobe===Object(window.adobe)&&window.adobe.optIn===Object(window.adobe.optIn)},
callback:function(){this.aamIsApproved=this.instance.isApproved([this.instance.Categories.AAM]),j.adms.waitForMidToReleaseRequests(),j.adms.getIsOptedOut()},isApproved:function(){return!this.isIabContext()&&!j.adms.isOptedOut&&(!this.exists||this.aamIsApproved)},isIabContext:function(){return this.instance&&this.instance.isIabContext}});C.optIn=N;var F,Q,H,U,B=(Q=(F=C).requestController,H=F.optIn,U={isVendorConsented:null,doesGdprApply:null,consentString:null,queryStringObjectCallbacks:[],init:function(){this.fetchConsentData()},
hasGoSignal:function(){return!(!(H.isIabContext()&&this.isVendorConsented&&this.doesGdprApply&&"string"==typeof this.consentString&&this.consentString.length)||Q.adms.isOptedOut)},fetchConsentData:function(n,e){var s=this,t={};"function"!=typeof n&&(n=function(){}),H.instance&&H.isIabContext()?(e&&(t.timeout=e),H.instance.execute({command:"iabPlugin.fetchConsentData",params:t,callback:function(e,t){t===Object(t)?(s.doesGdprApply=!!t.gdprApplies,s.consentString=t.consentString||""):(s.doesGdprApply=
!1,s.consentString=""),s.isVendorConsented=H.instance.isApproved(H.instance.Categories.AAM),e?n({}):s.checkQueryStringObject(n),Q.adms.waitForMidToReleaseRequests()}})):n({})},getQueryString:function(){return H.isIabContext()?"gdpr\x3d"+(this.doesGdprApply?1:0)+"\x26gdpr_consent\x3d"+this.consentString+"\x26":""},getQueryStringObject:function(e,t){this.fetchConsentData(e,t)},checkQueryStringObject:function(e){U.hasGoSignal()&&"function"==typeof e&&e({gdpr:this.doesGdprApply?1:0,gdpr_consent:this.consentString})}});
C.iab=B,"error"===I&&0===r&&window.addEventListener("load",function(){DIL.windowLoaded=!0});function G(){W||(W=!0,A.registerRequest(),X())}var W=!1,X=function(){setTimeout(function(){p||A.firstRequestHasFired||("function"==typeof m?M.afterResult(m).submit(!0):M.submit(!0))},DIL.constants.TIME_TO_DEFAULT_REQUEST)},K=document;"error"!==I&&(DIL.windowLoaded?G():"complete"!==K.readyState&&"loaded"!==K.readyState?window.addEventListener("load",function(){DIL.windowLoaded=!0,G()}):(DIL.windowLoaded=!0,
G())),A.declaredId.setDeclaredId(s,"init"),N.init(),B.init(),A.processVisitorAPI();E.IS_IE_LESS_THAN_10&&x.replaceMethodsWithFunction(M,function(){return this}),this.api=M,this.getStuffedVariable=function(e){var t=P.stuffed[e];return t||"number"==typeof t||(t=x.getCookie(e))||"number"==typeof t||(t=""),t},this.validators=k,this.helpers=x,this.constants=E,this.log=O,this.pendingRequest=L,this.requestController=A,this.destinationPublishing=T,this.requestProcs=V,this.units=C,this.initConfig=n,this.logger=
R,w&&(this.variables=P,this.callWindowLoadFunctions=G)},DIL.extendStaticPropertiesAndMethods=function(e){var t;if(e===Object(e))for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},DIL.extendStaticPropertiesAndMethods({version:"9.4",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:500},variables:{scriptNodeList:document.getElementsByTagName("script")},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(){var e=arguments[0];this.windowLoaded="function"==typeof e?!!e():"boolean"!=typeof e||e},create:function(e){try{return new DIL(e)}catch(e){throw new Error("Error in attempt to create DIL instance with DIL.create(): "+
e.message);}},registerDil:function(e,t,n){var s=t+"$"+n;s in this.dils||(this.dils[s]=e)},getDil:function(e,t){var n;return"string"!=typeof e&&(e=""),(n=e+"$"+(t=t||0))in this.dils?this.dils[n]:new Error("The DIL instance with partner \x3d "+e+" and containerNSID \x3d "+t+" was not found")},dexGetQSVars:function(e,t,n){var s=this.getDil(t,n);return s instanceof this?s.getStuffedVariable(e):""}}),DIL.errorModule=(r=DIL.create({partner:"error",containerNSID:0,ignoreHardDependencyOnVisitorAPI:!0}),a=
!(o={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020}),{activate:function(){a=!0},handleError:function(e){if(!a)return"DIL error module has not been activated";e!==Object(e)&&(e={});var t=e.name?(e.name+"").toLowerCase():"",n=t in o?o[t]:o.noerrortypedefined,s=[],i={name:t,filename:e.filename?e.filename+"":"",partner:e.partner?e.partner+"":"no_partner",
site:e.site?e.site+"":document.location.href,message:e.message?e.message+"":""};return s.push(n),r.api.pixels(s).logs(i).useImageRequest().submit(),"DIL error report sent"},pixelMap:o}),DIL.tools={},DIL.modules={helpers:{}})}();function AppMeasurement(r){var a=this;a.version="2.22.4";var h=window;h.s_c_in||(h.s_c_il=[],h.s_c_in=0);a._il=h.s_c_il;a._in=h.s_c_in;a._il[a._in]=a;h.s_c_in++;a._c="s_c";var q=h.AppMeasurement.hc;q||(q=null);var p=h,m,s;try{for(m=p.parent,s=p.location;m&&m.location&&s&&""+
m.location!==""+s&&p.location&&""+m.location!==""+p.location&&m.location.host===s.host;)p=m,m=p.parent}catch(u){}a.log=function(a){try{console.log(a)}catch(b){}};a.Qa=function(a){return""+parseInt(a)==""+a};a.replace=function(a,b,d){return!a||0>a.indexOf(b)?a:a.split(b).join(d)};a.escape=function(c){var b,d;if(!c)return c;c=encodeURIComponent(c);for(b=0;7>b;b++)d="+~!*()'".substring(b,b+1),0<=c.indexOf(d)&&(c=a.replace(c,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return c};a.unescape=function(c){if(!c)return c;
c=0<=c.indexOf("+")?a.replace(c,"+"," "):c;try{return decodeURIComponent(c)}catch(b){}return unescape(c)};a.Mb=function(){var c=h.location.hostname,b=a.fpCookieDomainPeriods,d;b||(b=a.cookieDomainPeriods);if(c&&!a.Ja&&!/^[0-9.]+$/.test(c)&&(b=b?parseInt(b):2,b=2<b?b:2,d=c.lastIndexOf("."),0<=d)){for(;0<=d&&1<b;)d=c.lastIndexOf(".",d-1),b--;a.Ja=0<d?c.substring(d):c}return a.Ja};a.c_r=a.cookieRead=function(c){c=a.escape(c);var b=" "+a.d.cookie,d=b.indexOf(" "+c+"\x3d"),f=0>d?d:b.indexOf(";",d);c=0>
d?"":a.unescape(b.substring(d+2+c.length,0>f?b.length:f));return"[[B]]"!=c?c:""};a.c_w=a.cookieWrite=function(c,b,d){var f=a.Mb(),e=a.cookieLifetime,g;b=""+b;e=e?(""+e).toUpperCase():"";d&&"SESSION"!=e&&"NONE"!=e&&((g=""!=b?parseInt(e?e:0):-60)?(d=new Date,d.setTime(d.getTime()+1E3*g)):1===d&&(d=new Date,g=d.getYear(),d.setYear(g+2+(1900>g?1900:0))));return c&&"NONE"!=e?(a.d.cookie=a.escape(c)+"\x3d"+a.escape(""!=b?b:"[[B]]")+"; path\x3d/;"+(d&&"SESSION"!=e?" expires\x3d"+d.toUTCString()+";":"")+
(f?" domain\x3d"+f+";":"")+(a.writeSecureCookies?" secure;":""),a.cookieRead(c)==b):0};a.Jb=function(){var c=a.Util.getIeVersion();"number"===typeof c&&10>c&&(a.unsupportedBrowser=!0,a.wb(a,function(){}))};a.xa=function(){var a=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName||0<=a.indexOf("MSIE ")||0<=a.indexOf("Trident/")&&0<=a.indexOf("Windows NT 6")?!0:!1};a.wb=function(a,b){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&"function"===typeof a[d]&&(a[d]=b)};
a.J=[];a.ea=function(c,b,d){if(a.Ka)return 0;a.maxDelay||(a.maxDelay=250);var f=0,e=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,k=["webkitvisibilitychange","visibilitychange"];g||(g=a.d.webkitVisibilityState);if(g&&"prerender"==g){if(!a.fa)for(a.fa=1,d=0;d<k.length;d++)a.d.addEventListener(k[d],function(){var c=a.d.visibilityState;c||(c=a.d.webkitVisibilityState);"visible"==c&&(a.fa=0,a.delayReady())});f=1;e=0}else d||a.u("_d")&&(f=1);f&&(a.J.push({m:c,a:b,t:e}),a.fa||setTimeout(a.delayReady,
a.maxDelay));return f};a.delayReady=function(){var c=(new Date).getTime(),b=0,d;for(a.u("_d")?b=1:a.za();0<a.J.length;){d=a.J.shift();if(b&&!d.t&&d.t>c){a.J.unshift(d);setTimeout(a.delayReady,parseInt(a.maxDelay/2));break}a.Ka=1;a[d.m].apply(a,d.a);a.Ka=0}};a.setAccount=a.sa=function(c){var b,d;if(!a.ea("setAccount",arguments))if(a.account=c,a.allAccounts)for(b=a.allAccounts.concat(c.split(",")),a.allAccounts=[],b.sort(),d=0;d<b.length;d++)0!=d&&b[d-1]==b[d]||a.allAccounts.push(b[d]);else a.allAccounts=
c.split(",")};a.foreachVar=function(c,b){var d,f,e,g,k="";e=f="";if(a.lightProfileID)d=a.N,(k=a.lightTrackVars)&&(k=","+k+","+a.ka.join(",")+",");else{d=a.g;if(a.pe||a.linkType)k=a.linkTrackVars,f=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(k=a[e].cc,f=a[e].bc));k&&(k=","+k+","+a.D.join(",")+",");f&&k&&(k+=",events,")}b&&(b=","+b+",");for(f=0;f<d.length;f++)e=d[f],(g=a[e])&&(!k||0<=k.indexOf(","+e+","))&&(!b||0<=b.indexOf(","+e+","))&&c(e,g)};a.o=function(c,
b,d,f,e){var g="",k,l,h,n,m=0;"contextData"==c&&(c="c");if(b){for(k in b)if(!(Object.prototype[k]||e&&k.substring(0,e.length)!=e)&&b[k]&&(!d||0<=d.indexOf(","+(f?f+".":"")+k+","))){h=!1;if(m)for(l=0;l<m.length;l++)if(k.substring(0,m[l].length)==m[l]){h=!0;break}if(!h&&(""==g&&(g+="\x26"+c+"."),l=b[k],e&&(k=k.substring(e.length)),0<k.length))if(h=k.indexOf("."),0<h)l=k.substring(0,h),h=(e?e:"")+l+".",m||(m=[]),m.push(h),g+=a.o(l,b,d,f,h);else if("boolean"==typeof l&&(l=l?"true":"false"),l){if("retrieveLightData"==
f&&0>e.indexOf(".contextData."))switch(h=k.substring(0,4),n=k.substring(4),k){case "transactionID":k="xact";break;case "channel":k="ch";break;case "campaign":k="v0";break;default:a.Qa(n)&&("prop"==h?k="c"+n:"eVar"==h?k="v"+n:"list"==h?k="l"+n:"hier"==h&&(k="h"+n,l=l.substring(0,255)))}g+="\x26"+a.escape(k)+"\x3d"+a.escape(l)}}""!=g&&(g+="\x26."+c)}return g};a.usePostbacks=0;a.Pb=function(){var c="",b,d,f,e,g,k,l,h,n="",m="",p=e="",r=a.S();if(a.lightProfileID)b=a.N,(n=a.lightTrackVars)&&(n=","+n+","+
a.ka.join(",")+",");else{b=a.g;if(a.pe||a.linkType)n=a.linkTrackVars,m=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(n=a[e].cc,m=a[e].bc));n&&(n=","+n+","+a.D.join(",")+",");m&&(m=","+m+",",n&&(n+=",events,"));a.events2&&(p+=(""!=p?",":"")+a.events2)}if(r&&r.getCustomerIDs){e=q;if(g=r.getCustomerIDs())for(d in g)Object.prototype[d]||(f=g[d],"object"==typeof f&&(e||(e={}),f.id&&(e[d+".id"]=f.id),f.authState&&(e[d+".as"]=f.authState)));e&&(c+=a.o("cid",e))}a.AudienceManagement&&
a.AudienceManagement.isReady()&&(c+=a.o("d",a.AudienceManagement.getEventCallConfigParams()));for(d=0;d<b.length;d++){e=b[d];g=a[e];f=e.substring(0,4);k=e.substring(4);g||("events"==e&&p?(g=p,p=""):"marketingCloudOrgID"==e&&r&&a.U("ECID")&&(g=r.marketingCloudOrgID));if(g&&(!n||0<=n.indexOf(","+e+","))){switch(e){case "customerPerspective":e="cp";break;case "marketingCloudOrgID":e="mcorgid";break;case "supplementalDataID":e="sdid";break;case "timestamp":e="ts";break;case "dynamicVariablePrefix":e=
"D";break;case "visitorID":e="vid";break;case "marketingCloudVisitorID":e="mid";break;case "analyticsVisitorID":e="aid";break;case "audienceManagerLocationHint":e="aamlh";break;case "audienceManagerBlob":e="aamb";break;case "authState":e="as";break;case "pageURL":e="g";255<g.length&&(a.pageURLRest=g.substring(255),g=g.substring(0,255));break;case "pageURLRest":e="-g";break;case "referrer":e="r";break;case "vmk":case "visitorMigrationKey":e="vmt";break;case "visitorMigrationServer":e="vmf";a.ssl&&
a.visitorMigrationServerSecure&&(g="");break;case "visitorMigrationServerSecure":e="vmf";!a.ssl&&a.visitorMigrationServer&&(g="");break;case "charSet":e="ce";break;case "visitorNamespace":e="ns";break;case "cookieDomainPeriods":e="cdp";break;case "cookieLifetime":e="cl";break;case "variableProvider":e="vvp";break;case "currencyCode":e="cc";break;case "channel":e="ch";break;case "transactionID":e="xact";break;case "campaign":e="v0";break;case "latitude":e="lat";break;case "longitude":e="lon";break;
case "resolution":e="s";break;case "colorDepth":e="c";break;case "javascriptVersion":e="j";break;case "javaEnabled":e="v";break;case "cookiesEnabled":e="k";break;case "browserWidth":e="bw";break;case "browserHeight":e="bh";break;case "connectionType":e="ct";break;case "homepage":e="hp";break;case "events":p&&(g+=(""!=g?",":"")+p);if(m)for(k=g.split(","),g="",f=0;f<k.length;f++)l=k[f],h=l.indexOf("\x3d"),0<=h&&(l=l.substring(0,h)),h=l.indexOf(":"),0<=h&&(l=l.substring(0,h)),0<=m.indexOf(","+l+",")&&
(g+=(g?",":"")+k[f]);break;case "events2":g="";break;case "contextData":c+=a.o("c",a[e],n,e);g="";break;case "lightProfileID":e="mtp";break;case "lightStoreForSeconds":e="mtss";a.lightProfileID||(g="");break;case "lightIncrementBy":e="mti";a.lightProfileID||(g="");break;case "retrieveLightProfiles":e="mtsr";break;case "deleteLightProfiles":e="mtsd";break;case "retrieveLightData":a.retrieveLightProfiles&&(c+=a.o("mts",a[e],n,e));g="";break;default:a.Qa(k)&&("prop"==f?e="c"+k:"eVar"==f?e="v"+k:"list"==
f?e="l"+k:"hier"==f&&(e="h"+k,g=g.substring(0,255)))}g&&(c+="\x26"+e+"\x3d"+("pev"!=e.substring(0,3)?a.escape(g):g))}"pev3"==e&&a.e&&(c+=a.e)}a.ja&&(c+="\x26lrt\x3d"+a.ja,a.ja=null);return c};a.B=function(a){var b=a.tagName;if("undefined"!=""+a.kc||"undefined"!=""+a.Yb&&"HTML"!=(""+a.Yb).toUpperCase())return"";b=b&&b.toUpperCase?b.toUpperCase():"";"SHAPE"==b&&(b="");b&&(("INPUT"==b||"BUTTON"==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b="A"));return b};a.Ma=function(a){var b=
h.location,d=a.href?a.href:"",f,e,g;"string"!==typeof d&&(d="");f=d.indexOf(":");e=d.indexOf("?");g=d.indexOf("/");d&&(0>f||0<=e&&f>e||0<=g&&f>g)&&(e=a.protocol&&1<a.protocol.length?a.protocol:b.protocol?b.protocol:"",f=b.pathname.lastIndexOf("/"),d=(e?e+"//":"")+(a.host?a.host:b.host?b.host:"")+("/"!=d.substring(0,1)?b.pathname.substring(0,0>f?0:f)+"/":"")+d);return d};a.K=function(c){var b=a.B(c),d,f,e="",g=0;return b&&(d=c.protocol,f=c.onclick,!c.href||"A"!=b&&"AREA"!=b||f&&d&&!(0>d.toLowerCase().indexOf("javascript"))?
f?(e=a.replace(a.replace(a.replace(a.replace(""+f,"\r",""),"\n",""),"\t","")," ",""),g=2):"INPUT"==b||"SUBMIT"==b?(c.value?e=c.value:c.innerText?e=c.innerText:c.textContent&&(e=c.textContent),g=3):"IMAGE"==b&&c.src&&(e=c.src):e=a.Ma(c),e)?{id:e.substring(0,100),type:g}:0};a.ic=function(c){for(var b=a.B(c),d=a.K(c);c&&!d&&"BODY"!=b;)if(c=c.parentElement?c.parentElement:c.parentNode)b=a.B(c),d=a.K(c);d&&"BODY"!=b||(c=0);c&&(b=c.onclick?""+c.onclick:"",0<=b.indexOf(".tl(")||0<=b.indexOf(".trackLink("))&&
(c=0);return c};a.Xb=function(){var c,b,d=a.linkObject,f=a.linkType,e=a.linkURL,g,k;a.la=1;d||(a.la=0,d=a.clickObject);if(d){c=a.B(d);for(b=a.K(d);d&&!b&&"BODY"!=c;)if(d=d.parentElement?d.parentElement:d.parentNode)c=a.B(d),b=a.K(d);b&&"BODY"!=c||(d=0);if(d&&!a.linkObject){var l=d.onclick?""+d.onclick:"";if(0<=l.indexOf(".tl(")||0<=l.indexOf(".trackLink("))d=0}}else a.la=1;!e&&d&&(e=a.Ma(d));e&&!a.linkLeaveQueryString&&(g=e.indexOf("?"),0<=g&&(e=e.substring(0,g)));if(!f&&e){var m=0,n=0,p;if(a.trackDownloadLinks&&
a.linkDownloadFileTypes)for(l=e.toLowerCase(),g=l.indexOf("?"),k=l.indexOf("#"),0<=g?0<=k&&k<g&&(g=k):g=k,0<=g&&(l=l.substring(0,g)),g=a.linkDownloadFileTypes.toLowerCase().split(","),k=0;k<g.length;k++)(p=g[k])&&l.substring(l.length-(p.length+1))=="."+p&&(f="d");if(a.trackExternalLinks&&!f&&(l=e.toLowerCase(),a.Pa(l)&&(a.linkInternalFilters||(a.linkInternalFilters=h.location.hostname),g=0,a.linkExternalFilters?(g=a.linkExternalFilters.toLowerCase().split(","),m=1):a.linkInternalFilters&&(g=a.linkInternalFilters.toLowerCase().split(",")),
g))){for(k=0;k<g.length;k++)p=g[k],0<=l.indexOf(p)&&(n=1);n?m&&(f="e"):m||(f="e")}}a.linkObject=d;a.linkURL=e;a.linkType=f;if(a.trackClickMap||a.trackInlineStats)a.e="",d&&(f=a.pageName,e=1,d=d.sourceIndex,f||(f=a.pageURL,e=0),h.s_objectID&&(b.id=h.s_objectID,d=b.type=1),f&&b&&b.id&&c&&(a.e="\x26pid\x3d"+a.escape(f.substring(0,255))+(e?"\x26pidt\x3d"+e:"")+"\x26oid\x3d"+a.escape(b.id.substring(0,100))+(b.type?"\x26oidt\x3d"+b.type:"")+"\x26ot\x3d"+c+(d?"\x26oi\x3d"+d:"")))};a.Qb=function(){var c=
a.la,b=a.linkType,d=a.linkURL,f=a.linkName;b&&(d||f)&&(b=b.toLowerCase(),"d"!=b&&"e"!=b&&(b="o"),a.pe="lnk_"+b,a.pev1=d?a.escape(d):"",a.pev2=f?a.escape(f):"",c=1);a.abort&&(c=0);if(a.trackClickMap||a.trackInlineStats||a.Tb()){var b={},d=0,e=a.qb(),g=e?e.split("\x26"):0,k,l,h,e=0;if(g)for(k=0;k<g.length;k++)l=g[k].split("\x3d"),f=a.unescape(l[0]).split(","),l=a.unescape(l[1]),b[l]=f;f=a.account.split(",");k={};for(h in a.contextData)h&&!Object.prototype[h]&&"a.activitymap."==h.substring(0,14)&&(k[h]=
a.contextData[h],a.contextData[h]="");a.e=a.o("c",k)+(a.e?a.e:"");if(c||a.e){c&&!a.e&&(e=1);for(l in b)if(!Object.prototype[l])for(h=0;h<f.length;h++)for(e&&(g=b[l].join(","),g==a.account&&(a.e+=("\x26"!=l.charAt(0)?"\x26":"")+l,b[l]=[],d=1)),k=0;k<b[l].length;k++)g=b[l][k],g==f[h]&&(e&&(a.e+="\x26u\x3d"+a.escape(g)+("\x26"!=l.charAt(0)?"\x26":"")+l+"\x26u\x3d0"),b[l].splice(k,1),d=1);c||(d=1);if(d){e="";k=2;!c&&a.e&&(e=a.escape(f.join(","))+"\x3d"+a.escape(a.e),k=1);for(l in b)!Object.prototype[l]&&
0<k&&0<b[l].length&&(e+=(e?"\x26":"")+a.escape(b[l].join(","))+"\x3d"+a.escape(l),k--);a.yb(e)}}}return c};a.qb=function(){if(a.useLinkTrackSessionStorage){if(a.Da())return h.sessionStorage.getItem(a.O)}else return a.cookieRead(a.O)};a.Da=function(){return h.sessionStorage?!0:!1};a.yb=function(c){a.useLinkTrackSessionStorage?a.Da()&&h.sessionStorage.setItem(a.O,c):a.cookieWrite(a.O,c)};a.Rb=function(){if(!a.ac){var c=new Date,b=p.location,d,f,e=f=d="",g="",k="",l="1.2",h=a.cookieWrite("s_cc","true",
0)?"Y":"N",m="",q="";if(c.setUTCDate&&(l="1.3",(0).toPrecision&&(l="1.5",c=[],c.forEach))){l="1.6";f=0;d={};try{f=new Iterator(d),f.next&&(l="1.7",c.reduce&&(l="1.8",l.trim&&(l="1.8.1",Date.parse&&(l="1.8.2",Object.create&&(l="1.8.5")))))}catch(r){}}d=screen.width+"x"+screen.height;e=navigator.javaEnabled()?"Y":"N";f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth;g=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth;k=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;
try{a.b.addBehavior("#default#homePage"),m=a.b.jc(b)?"Y":"N"}catch(s){}try{a.b.addBehavior("#default#clientCaps"),q=a.b.connectionType}catch(t){}a.resolution=d;a.colorDepth=f;a.javascriptVersion=l;a.javaEnabled=e;a.cookiesEnabled=h;a.browserWidth=g;a.browserHeight=k;a.connectionType=q;a.homepage=m;a.ac=1}};a.P={};a.loadModule=function(c,b){var d=a.P[c];if(!d){d=h["AppMeasurement_Module_"+c]?new h["AppMeasurement_Module_"+c](a):{};a.P[c]=a[c]=d;d.jb=function(){return d.tb};d.zb=function(b){if(d.tb=
b)a[c+"_onLoad"]=b,a.ea(c+"_onLoad",[a,d],1)||b(a,d)};try{Object.defineProperty?Object.defineProperty(d,"onLoad",{get:d.jb,set:d.zb}):d._olc=1}catch(f){d._olc=1}}b&&(a[c+"_onLoad"]=b,a.ea(c+"_onLoad",[a,d],1)||b(a,d))};a.u=function(c){var b,d;for(b in a.P)if(!Object.prototype[b]&&(d=a.P[b])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[c]&&d[c]()))return 1;return 0};a.Tb=function(){return a.ActivityMap&&a.ActivityMap._c?!0:!1};a.Ub=function(){var c=Math.floor(1E13*Math.random()),b=a.visitorSampling,
d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?"_"+d:""),f=a.cookieRead(d);if(b){b*=100;f&&(f=parseInt(f));if(!f){if(!a.cookieWrite(d,c))return 0;f=c}if(f%1E4>b)return 0}return 1};a.R=function(c,b){var d,f,e,g,k,h,m;m={};for(d=0;2>d;d++)for(f=0<d?a.Fa:a.g,e=0;e<f.length;e++)if(g=f[e],(k=c[g])||c["!"+g]){if(k&&!b&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(h in a[g])k[h]||(k[h]=a[g][h]);a[g]||(m["!"+g]=1);m[g]=a[g];a[g]=k}return m};a.gc=function(c){var b,
d,f,e;for(b=0;2>b;b++)for(d=0<b?a.Fa:a.g,f=0;f<d.length;f++)e=d[f],c[e]=a[e],c[e]||"prop"!==e.substring(0,4)&&"eVar"!==e.substring(0,4)&&"hier"!==e.substring(0,4)&&"list"!==e.substring(0,4)&&"channel"!==e&&"events"!==e&&"eventList"!==e&&"products"!==e&&"productList"!==e&&"purchaseID"!==e&&"transactionID"!==e&&"state"!==e&&"zip"!==e&&"campaign"!==e&&"events2"!==e&&"latitude"!==e&&"longitude"!==e&&"ms_a"!==e&&"contextData"!==e&&"supplementalDataID"!==e&&"tnt"!==e&&"timestamp"!==e&&"abort"!==e&&"useBeacon"!==
e&&"linkObject"!==e&&"clickObject"!==e&&"linkType"!==e&&"linkName"!==e&&"linkURL"!==e&&"bodyClickTarget"!==e&&"bodyClickFunction"!==e||(c["!"+e]=1)};a.Lb=function(a){var b,d,f,e,g,k=0,h,m="",n="";if(a&&255<a.length&&(b=""+a,d=b.indexOf("?"),0<d&&(h=b.substring(d+1),b=b.substring(0,d),e=b.toLowerCase(),f=0,"http://"==e.substring(0,7)?f+=7:"https://"==e.substring(0,8)&&(f+=8),d=e.indexOf("/",f),0<d&&(e=e.substring(f,d),g=b.substring(d),b=b.substring(0,d),0<=e.indexOf("google")?k=",q,ie,start,search_key,word,kw,cd,":
0<=e.indexOf("yahoo.co")?k=",p,ei,":0<=e.indexOf("baidu.")&&(k=",wd,word,"),k&&h)))){if((a=h.split("\x26"))&&1<a.length){for(f=0;f<a.length;f++)e=a[f],d=e.indexOf("\x3d"),0<d&&0<=k.indexOf(","+e.substring(0,d)+",")?m+=(m?"\x26":"")+e:n+=(n?"\x26":"")+e;m&&n?h=m+"\x26"+n:n=""}d=253-(h.length-n.length)-b.length;a=b+(0<d?g.substring(0,d):"")+"?"+h}return a};a.cb=function(c){var b=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];b||(b=a.d.webkitVisibilityState);if(b&&"prerender"==b){if(c)for(b=
0;b<d.length;b++)a.d.addEventListener(d[b],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&c()});return!1}return!0};a.ba=!1;a.G=!1;a.Bb=function(){a.G=!0;a.p()};a.H=!1;a.Cb=function(c){a.marketingCloudVisitorID=c.MCMID;a.visitorOptedOut=c.MCOPTOUT;a.analyticsVisitorID=c.MCAID;a.audienceManagerLocationHint=c.MCAAMLH;a.audienceManagerBlob=c.MCAAMB;a.H=!1;a.p()};a.bb=function(c){a.maxDelay||(a.maxDelay=250);return a.u("_d")?(c&&setTimeout(function(){c()},a.maxDelay),
!1):!0};a.Z=!1;a.F=!1;a.za=function(){a.F=!0;a.p()};a.isReadyToTrack=function(){var c=!0;if(!a.nb()||!a.lb())return!1;a.pb()||(c=!1);a.sb()||(c=!1);return c};a.nb=function(){a.ba||a.G||(a.cb(a.Bb)?a.G=!0:a.ba=!0);return a.ba&&!a.G?!1:!0};a.lb=function(){var c=a.va();if(c)if(a.ra||a.aa)if(a.ra){if(!c.isApproved(c.Categories.ANALYTICS))return!1}else return!1;else return c.fetchPermissions(a.ub,!0),a.aa=!0,!1;return!0};a.U=function(c){var b=a.va();return b&&!b.isApproved(b.Categories[c])?!1:!0};a.va=
function(){return h.adobe&&h.adobe.optIn?h.adobe.optIn:null};a.X=!0;a.pb=function(){var c=a.S();if(!c||!c.getVisitorValues)return!0;a.X&&(a.X=!1,a.H||(a.H=!0,c.getVisitorValues(a.Cb)));return!a.H};a.S=function(){var c=a.visitor;c&&!c.isAllowed()&&(c=null);return c};a.sb=function(){a.Z||a.F||(a.bb(a.za)?a.F=!0:a.Z=!0);return a.Z&&!a.F?!1:!0};a.aa=!1;a.ub=function(){a.aa=!1;a.ra=!0};a.j=q;a.q=0;a.callbackWhenReadyToTrack=function(c,b,d){var f;f={};f.Gb=c;f.Fb=b;f.Db=d;a.j==q&&(a.j=[]);a.j.push(f);0==
a.q&&(a.q=setInterval(a.p,100))};a.p=function(){var c;if(a.isReadyToTrack()&&(a.Ab(),a.j!=q))for(;0<a.j.length;)c=a.j.shift(),c.Fb.apply(c.Gb,c.Db)};a.Ab=function(){a.q&&(clearInterval(a.q),a.q=0)};a.ta=function(c){var b,d={};a.gc(d);if(c!=q)for(b in c)d[b]=c[b];a.callbackWhenReadyToTrack(a,a.Ea,[d]);a.Ca()};a.Nb=function(){var c=a.cookieRead("s_fid"),b="",d="",f;f=8;var e=4;if(!c||0>c.indexOf("-")){for(c=0;16>c;c++)f=Math.floor(Math.random()*f),b+="0123456789ABCDEF".substring(f,f+1),f=Math.floor(Math.random()*
e),d+="0123456789ABCDEF".substring(f,f+1),f=e=16;c=b+"-"+d}a.cookieWrite("s_fid",c,1)||(c=0);return c};a.Ea=function(c){var b=new Date,d="s"+Math.floor(b.getTime()/108E5)%10+Math.floor(1E13*Math.random()),f=b.getYear(),f="t\x3d"+a.escape(b.getDate()+"/"+b.getMonth()+"/"+(1900>f?f+1900:f)+" "+b.getHours()+":"+b.getMinutes()+":"+b.getSeconds()+" "+b.getDay()+" "+b.getTimezoneOffset()),e=a.S(),g;c&&(g=a.R(c,1));a.Ub()&&!a.visitorOptedOut&&(a.wa()||(a.fid=a.Nb()),a.Xb(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),
a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(b.getTime()/1E3)),c=h.location,a.pageURL||(a.pageURL=c.href?c.href:c),a.referrer||a.Za||(c=a.Util.getQueryParam("adobe_mc_ref",null,null,!0),a.referrer=c||void 0===c?void 0===c?"":c:p.document.referrer),a.Za=1,!a.referrer&&a.Y&&(a.referrer=a.Y),a.Y=0,a.referrer=a.Lb(a.referrer),a.u("_g")),a.Qb()&&!a.abort&&(e&&a.U("TARGET")&&!a.supplementalDataID&&e.getSupplementalDataID&&(a.supplementalDataID=e.getSupplementalDataID("AppMeasurement:"+
a._in,a.expectSupplementalData?!1:!0)),a.U("AAM")||(a.contextData["cm.ssf"]=1),a.Rb(),a.vb(),f+=a.Pb(),a.rb(d,f),a.u("_t"),a.referrer="")));a.referrer&&(a.Y=a.referrer);a.Ca();g&&a.R(g,1)};a.t=a.track=function(c,b){b&&a.R(b);a.X=!0;a.isReadyToTrack()?null!=a.j&&0<a.j.length?(a.ta(c),a.p()):a.Ea(c):a.ta(c)};a.vb=function(){a.writeSecureCookies&&!a.ssl&&a.$a()};a.$a=function(){a.contextData.excCodes=a.contextData.excCodes?a.contextData.excCodes:[];a.contextData.excCodes.push(1)};a.Ca=function(){a.abort=
a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=h.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=a.useBeacon=a.referrer=0;a.contextData&&a.contextData.excCodes&&(a.contextData.excCodes=0)};a.Ba=[];a.registerPreTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.Ba.push([c,b]):a.debugTracking&&a.log("Warning, Non function type passed to registerPreTrackCallback")};a.gb=function(c){a.ua(a.Ba,
c)};a.Aa=[];a.registerPostTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.Aa.push([c,b]):a.debugTracking&&a.log("Warning, Non function type passed to registerPostTrackCallback")};a.fb=function(c){a.ua(a.Aa,c)};a.ua=function(c,b){if("object"==typeof c)for(var d=0;d<c.length;d++){var f=c[d][0],e=c[d][1].slice();e.unshift(b);if("function"==typeof f)try{f.apply(null,e)}catch(g){a.debugTracking&&a.log(g.message)}}};a.tl=a.trackLink=function(c,
b,d,f,e){a.linkObject=c;a.linkType=b;a.linkName=d;e&&(a.bodyClickTarget=c,a.bodyClickFunction=e);return a.track(f)};a.trackLight=function(c,b,d,f){a.lightProfileID=c;a.lightStoreForSeconds=b;a.lightIncrementBy=d;return a.track(f)};a.clearVars=function(){var c,b;for(c=0;c<a.g.length;c++)if(b=a.g[c],"prop"==b.substring(0,4)||"eVar"==b.substring(0,4)||"hier"==b.substring(0,4)||"list"==b.substring(0,4)||"channel"==b||"events"==b||"eventList"==b||"products"==b||"productList"==b||"purchaseID"==b||"transactionID"==
b||"state"==b||"zip"==b||"campaign"==b)a[b]=void 0};a.tagContainerMarker="";a.rb=function(c,b){var d=a.hb()+"/"+c+"?AQB\x3d1\x26ndh\x3d1\x26pf\x3d1\x26"+(a.ya()?"callback\x3ds_c_il["+a._in+"].doPostbacks\x26et\x3d1\x26":"")+b+"\x26AQE\x3d1";a.gb(d);a.eb(d);a.T()};a.hb=function(){var c=a.ib();return"http"+(a.ssl?"s":"")+"://"+c+"/b/ss/"+a.account+"/"+(a.mobile?"5.":"")+(a.ya()?"10":"1")+"/JS-"+a.version+(a.$b?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")};a.ya=function(){return a.AudienceManagement&&
a.AudienceManagement.isReady()||0!=a.usePostbacks};a.ib=function(){var c=a.dc,b=a.trackingServer;b?a.trackingServerSecure&&a.ssl&&(b=a.trackingServerSecure):(c=c?(""+c).toLowerCase():"d1","d1"==c?c="112":"d2"==c&&(c="122"),b=a.kb()+"."+c+".2o7.net");return b};a.kb=function(){var c=a.visitorNamespace;c||(c=a.account.split(",")[0],c=c.replace(/[^0-9a-z]/gi,""));return c};a.Ya=/{(%?)(.*?)(%?)}/;a.fc=RegExp(a.Ya.source,"g");a.Kb=function(c){if("object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=
c.dests[b];if("string"==typeof d.c&&"aa."==d.id.substr(0,3))for(var f=d.c.match(a.fc),e=0;e<f.length;++e){var g=f[e],k=g.match(a.Ya),h="";"%"==k[1]&&"timezone_offset"==k[2]?h=(new Date).getTimezoneOffset():"%"==k[1]&&"timestampz"==k[2]&&(h=a.Ob());d.c=d.c.replace(g,a.escape(h))}}};a.Ob=function(){var c=new Date,b=new Date(6E4*Math.abs(c.getTimezoneOffset()));return a.k(4,c.getFullYear())+"-"+a.k(2,c.getMonth()+1)+"-"+a.k(2,c.getDate())+"T"+a.k(2,c.getHours())+":"+a.k(2,c.getMinutes())+":"+a.k(2,c.getSeconds())+
(0<c.getTimezoneOffset()?"-":"+")+a.k(2,b.getUTCHours())+":"+a.k(2,b.getUTCMinutes())};a.k=function(a,b){return(Array(a+1).join(0)+b).slice(-a)};a.pa={};a.doPostbacks=function(c){if("object"==typeof c)if(a.Kb(c),"object"==typeof a.AudienceManagement&&"function"==typeof a.AudienceManagement.isReady&&a.AudienceManagement.isReady()&&"function"==typeof a.AudienceManagement.passData)a.AudienceManagement.passData(c);else if("object"==typeof c&&"object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=
c.dests[b];"object"==typeof d&&"string"==typeof d.c&&"string"==typeof d.id&&"aa."==d.id.substr(0,3)&&(a.pa[d.id]=new Image,a.pa[d.id].alt="",a.pa[d.id].src=d.c)}};a.eb=function(c){a.i||a.Sb();a.i.push(c);a.ia=a.A();a.Xa()};a.Sb=function(){a.i=a.Vb();a.i||(a.i=[])};a.Vb=function(){var c,b;if(a.oa()){try{(b=h.localStorage.getItem(a.ma()))&&(c=h.JSON.parse(b))}catch(d){}return c}};a.oa=function(){var c=!0;a.trackOffline&&a.offlineFilename&&h.localStorage&&h.JSON||(c=!1);return c};a.Na=function(){var c=
0;a.i&&(c=a.i.length);a.l&&c++;return c};a.T=function(){if(a.l&&(a.v&&a.v.complete&&a.v.C&&a.v.Q(),a.l))return;a.Oa=q;if(a.na)a.ia>a.M&&a.Va(a.i),a.qa(500);else{var c=a.Eb();if(0<c)a.qa(c);else if(c=a.La())a.l=1,a.Wb(c),a.Zb(c)}};a.qa=function(c){a.Oa||(c||(c=0),a.Oa=setTimeout(a.T,c))};a.Eb=function(){var c;if(!a.trackOffline||0>=a.offlineThrottleDelay)return 0;c=a.A()-a.Ta;return a.offlineThrottleDelay<c?0:a.offlineThrottleDelay-c};a.La=function(){if(0<a.i.length)return a.i.shift()};a.Wb=function(c){if(a.debugTracking){var b=
"AppMeasurement Debug: "+c;c=c.split("\x26");var d;for(d=0;d<c.length;d++)b+="\n\t"+a.unescape(c[d]);a.log(b)}};a.wa=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID};a.W=!1;var t;try{t=JSON.parse('{"x":"y"}')}catch(v){t=null}t&&"y"==t.x?(a.W=!0,a.V=function(a){return JSON.parse(a)}):h.$&&h.$.parseJSON?(a.V=function(a){return h.$.parseJSON(a)},a.W=!0):a.V=function(){return null};a.Zb=function(c){var b,d,f;a.mb(c)&&(d=1,b={send:function(c){a.useBeacon=!1;navigator.sendBeacon(c)?b.Q():
b.ga()}});!b&&a.wa()&&2047<c.length&&(a.ab()&&(d=2,b=new XMLHttpRequest),b&&(a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks)&&(a.W?b.Ga=!0:b=0));!b&&a.ec&&(c=c.substring(0,2047));!b&&a.d.createElement&&(0!=a.usePostbacks||a.AudienceManagement&&a.AudienceManagement.isReady())&&(b=a.d.createElement("SCRIPT"))&&"async"in b&&((f=(f=a.d.getElementsByTagName("HEAD"))&&f[0]?f[0]:a.d.body)?(b.type="text/javascript",b.setAttribute("async","async"),d=3):b=0);b||(b=new Image,b.alt="",
b.abort||"undefined"===typeof h.InstallTrigger||(b.abort=function(){b.src=q}));b.Ua=Date.now();b.Ia=function(){try{b.C&&(clearTimeout(b.C),b.C=0)}catch(a){}};b.onload=b.Q=function(){b.Ua&&(a.ja=Date.now()-b.Ua);a.fb(c);b.Ia();a.Ib();a.ca();a.l=0;a.T();if(b.Ga){b.Ga=!1;try{a.doPostbacks(a.V(b.responseText))}catch(d){}}};b.onabort=b.onerror=b.ga=function(){b.Ia();(a.trackOffline||a.na)&&a.l&&a.i.unshift(a.Hb);a.l=0;a.ia>a.M&&a.Va(a.i);a.ca();a.qa(500)};b.onreadystatechange=function(){4==b.readyState&&
(200==b.status?b.Q():b.ga())};a.Ta=a.A();if(1===d)b.send(c);else if(2===d)f=c.indexOf("?"),d=c.substring(0,f),f=c.substring(f+1),f=f.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),b.open("POST",d,!0),b.withCredentials=!0,b.send(f);else if(b.src=c,3===d){if(a.Ra)try{f.removeChild(a.Ra)}catch(e){}f.firstChild?f.insertBefore(b,f.firstChild):f.appendChild(b);a.Ra=a.v}b.C=setTimeout(function(){b.C&&(b.complete?b.Q():(a.trackOffline&&b.abort&&b.abort(),b.ga()))},5E3);a.Hb=c;a.v=h["s_i_"+a.replace(a.account,
",","_")]=b;if(a.useForcedLinkTracking&&a.I||a.bodyClickFunction)a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.da=setTimeout(a.ca,a.forcedLinkTrackingTimeout)};a.mb=function(c){var b=!1;navigator.sendBeacon&&(a.ob(c)?b=!0:a.useBeacon&&(b=!0));a.xb(c)&&(b=!1);return b};a.ob=function(a){return a&&0<a.indexOf("pe\x3dlnk_e")?!0:!1};a.xb=function(a){return 64E3<=a.length};a.ab=function(){return"undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?!0:!1};a.Ib=function(){if(a.oa()&&
!(a.Sa>a.M))try{h.localStorage.removeItem(a.ma()),a.Sa=a.A()}catch(c){}};a.Va=function(c){if(a.oa()){a.Xa();try{h.localStorage.setItem(a.ma(),h.JSON.stringify(c)),a.M=a.A()}catch(b){}}};a.Xa=function(){if(a.trackOffline){if(!a.offlineLimit||0>=a.offlineLimit)a.offlineLimit=10;for(;a.i.length>a.offlineLimit;)a.La()}};a.forceOffline=function(){a.na=!0};a.forceOnline=function(){a.na=!1};a.ma=function(){return a.offlineFilename+"-"+a.visitorNamespace+a.account};a.A=function(){return(new Date).getTime()};
a.Pa=function(a){a=a.toLowerCase();return 0!=a.indexOf("#")&&0!=a.indexOf("about:")&&0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1};a.setTagContainer=function(c){var b,d,f;a.$b=c;for(b=0;b<a._il.length;b++)if((d=a._il[b])&&"s_l"==d._c&&d.tagContainerName==c){a.R(d);if(d.lmq)for(b=0;b<d.lmq.length;b++)f=d.lmq[b],a.loadModule(f.n);if(d.ml)for(f in d.ml)if(a[f])for(b in c=a[f],f=d.ml[f],f)!Object.prototype[b]&&("function"!=typeof f[b]||0>(""+f[b]).indexOf("s_c_il"))&&(c[b]=f[b]);if(d.mmq)for(b=
0;b<d.mmq.length;b++)f=d.mmq[b],a[f.m]&&(c=a[f.m],c[f.f]&&"function"==typeof c[f.f]&&(f.a?c[f.f].apply(c,f.a):c[f.f].apply(c)));if(d.tq)for(b=0;b<d.tq.length;b++)a.track(d.tq[b]);d.s=a;break}};a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(c,b,d,f){var e,g="";b||(b=a.pageURL?a.pageURL:h.location);d=d?d:"\x26";if(!c||!b)return g;b=""+b;e=b.indexOf("?");if(0>e)return g;b=d+b.substring(e+1)+d;if(!f||!(0<=b.indexOf(d+c+d)||0<=b.indexOf(d+
c+"\x3d"+d))){e=b.indexOf("#");0<=e&&(b=b.substr(0,e)+d);e=b.indexOf(d+c+"\x3d");if(0>e)return g;b=b.substring(e+d.length+c.length+1);e=b.indexOf(d);0<=e&&(b=b.substring(0,e));0<b.length&&(g=a.unescape(b));return g}},getIeVersion:function(){return document.documentMode?document.documentMode:a.xa()?7:null}};a.D="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData contextData.cm.ssf contextData.opt.dmp contextData.opt.sell currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" ");
a.g=a.D.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" "));a.ka="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" ");a.N=a.ka.slice(0);a.Fa="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout writeSecureCookies useLinkTrackSessionStorage trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData useBeacon usePostbacks registerPreTrackCallback registerPostTrackCallback bodyClickTarget bodyClickFunction AudienceManagement".split(" ");
for(m=0;250>=m;m++)76>m&&(a.g.push("prop"+m),a.N.push("prop"+m)),a.g.push("eVar"+m),a.N.push("eVar"+m),6>m&&a.g.push("hier"+m),4>m&&a.g.push("list"+m);m="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID ms_a".split(" ");a.g=a.g.concat(m);a.D=a.D.concat(m);a.ssl=0<=h.location.protocol.toLowerCase().indexOf("https");a.charSet="UTF-8";a.contextData={};a.writeSecureCookies=
!1;a.offlineThrottleDelay=0;a.offlineFilename="AppMeasurement.offline";a.O="s_sq";a.Ta=0;a.ia=0;a.M=0;a.Sa=0;a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";a.w=h;a.d=h.document;a.ca=function(){a.da&&(h.clearTimeout(a.da),a.da=q);a.bodyClickTarget&&a.I&&a.bodyClickTarget.dispatchEvent(a.I);a.bodyClickFunction&&("function"==typeof a.bodyClickFunction?a.bodyClickFunction():a.bodyClickTarget&&a.bodyClickTarget.href&&(a.d.location=a.bodyClickTarget.href));a.bodyClickTarget=
a.I=a.bodyClickFunction=0};a.Wa=function(){a.b=a.d.body;a.b?(a.r=function(c){var b,d,f,e,g;if(!(a.d&&a.d.getElementById("cppXYctnr")||c&&c["s_fe_"+a._in])){if(a.Ha)if(a.useForcedLinkTracking)a.b.removeEventListener("click",a.r,!1);else{a.b.removeEventListener("click",a.r,!0);a.Ha=a.useForcedLinkTracking=0;return}else a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.L&&a.L==a.clickObject||!(a.clickObject.tagName||a.clickObject.parentElement||a.clickObject.parentNode))a.clickObject=
0;else{var k=a.L=a.clickObject;a.ha&&(clearTimeout(a.ha),a.ha=0);a.ha=setTimeout(function(){a.L==k&&(a.L=0)},1E4);f=a.Na();a.track();if(f<a.Na()&&a.useForcedLinkTracking&&c.target){for(e=c.target;e&&e!=a.b&&"A"!=e.tagName.toUpperCase()&&"AREA"!=e.tagName.toUpperCase();)e=e.parentNode;if(e&&(g=e.href,a.Pa(g)||(g=0),d=e.target,c.target.dispatchEvent&&g&&(!d||"_self"==d||"_top"==d||"_parent"==d||h.name&&d==h.name))){try{b=a.d.createEvent("MouseEvents")}catch(l){b=new h.MouseEvent}if(b){try{b.initMouseEvent("click",
c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}catch(m){b=0}b&&(b["s_fe_"+a._in]=b.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.bodyClickTarget=c.target,a.I=b)}}}}}catch(n){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.r):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&a.d.createEvent||
0<=navigator.userAgent.indexOf("Firefox/2")&&h.MouseEvent)&&(a.Ha=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.r,!0)),a.b.addEventListener("click",a.r,!1))):setTimeout(a.Wa,30)};a.ec=a.xa();a.Jb();a.lc||(r?a.setAccount(r):a.log("Error, missing Report Suite ID in AppMeasurement initialization"),a.Wa(),a.loadModule("ActivityMap"))}function s_gi(r){var a,h=window.s_c_il,q,p,m=r.split(","),s,u,t=0;if(h)for(q=0;!t&&q<h.length;){a=h[q];if("s_c"==a._c&&(a.account||a.oun))if(a.account&&a.account==
r)t=1;else for(p=a.account?a.account:a.oun,p=a.allAccounts?a.allAccounts:p.split(","),s=0;s<m.length;s++)for(u=0;u<p.length;u++)m[s]==p[u]&&(t=1);q++}t?a.setAccount&&a.setAccount(r):a=new AppMeasurement(r);return a}AppMeasurement.getInstance=s_gi;window.s_objectID||(window.s_objectID=0);function s_pgicq(){var r=window,a=r.s_giq,h,q,p;if(a)for(h=0;h<a.length;h++)q=a[h],p=s_gi(q.oun),p.setAccount(q.un),p.setTagContainer(q.tagContainerName);r.s_giq=0}s_pgicq()}]);Bootstrapper.AF.push(["call","SiteCatalyst",
"block","s"]);Bootstrapper.AF.push(["push","SiteCatalyst","ns","s"]);Bootstrapper.AF.push(["set","SiteCatalyst","clearData",function(){if(this.ns)for(var i=0;i<this.ns.length;i++){var sObj=this.ns[i];Bootstrapper.AF.push(["set",sObj,"clearData",function(){this.pre=[]}])}}]);Bootstrapper.AF.push(["call","SiteCatalyst","clearData"]);Bootstrapper.AF.push(["set","SiteCatalyst","clearVars",function(){if(this.ns)for(var i=0;i<this.ns.length;i++){var sObj=this.ns[i];Bootstrapper.AF.push(["set",sObj,"clearVars",
function(){this.pre=this.pre||[];for(var i=0;i<this.pre.length;i++){var adobeVar=this.pre[i][0];if(/^(channel|events|eventList|products|productList|purchaseID|transactionID|state|zip|campaign)$/.test(adobeVar)||/^(prop|eVar|hier|list)$/.test(adobeVar.substring(0,4))){this.pre.splice(this.pre.indexOf(i,1));i--}}}])}}]);Bootstrapper.AF.push(["call","SiteCatalyst","clearVars"])},4093388,[3134692],385284,[385283]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - form - entity-added",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event130";s.eVar20=function anon(){try{if(s_parseDataLayer("applicantLiability")!="unknown applicantLiability")return s_parseDataLayer("applicantLiability");else return""}catch(e){}}.call(this);s.eVar43=function anon(){if(s_parseDataLayer("directorType")!=
"unknown directorType")return s_parseDataLayer("directorType")}.call(this);s.eVar96=function anon(){if(s_parseDataLayer("processType")!="unknown processType")return s_parseDataLayer("processType")}.call(this);s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="events,eVar20,eVar43,eVar96";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event130";s.tl(this,"o","entity added");s.linkTrackVars=
s.origLTV;s.linkTrackEvents=s.origLTE})},3801379,698177);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - self-service-progressed",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event1";s.prop9="D\x3dpageName";s.eVar9="D\x3dpageName";s.list3=function anon(){try{var accountType="";accountType=digitalData.user.accountType;if(typeof accountType=="string"&&accountType!="")return accountType;else return""}catch(err){return""}}.call(this);
s.prop44=function anon(){try{var filterList="";filterList=digitalData.page.pageInfo.filter;if(typeof filterList=="string"&&filterList!="")return filterList;else return""}catch(err){return""}}.call(this);s.pageName=function anon(){var pageName="";try{if(s_parseDataLayer("pageName")!="unknown pageName")return s_parseDataLayer("pageName");if(typeof window.digitalData.page.pageInfo.pageName==="string")if(s_parseDataLayer("section")!="section name"){pageName=window.digitalData.page.pageInfo.pageName+":"+
s_parseDataLayer("section");return pageName}else if(s_parseDataLayer("name")!="unknown name"){pageName=window.digitalData.page.pageInfo.pageName+":"+s_parseDataLayer("name");return pageName}else{pageName=window.digitalData.page.pageInfo.pageName;return pageName}}catch(err){return""}}.call(this);s.prop66="D\x3dl3";s.eVar59=function anon(){try{var errorCode="";errorCode=digitalData.page.error.errorCode;if(typeof errorCode=="string"&&errorCode!="")return errorCode;else return""}catch(err){return""}}.call(this);
s.prop59="D\x3dv59";s.list2=function anon(){try{var errorText="";errorText=digitalData.page.error.errorText;var errorCode="";errorCode=digitalData.page.error.errorCode;if(typeof errorText=="string"&&errorText!="")if(typeof errorCode=="string"&&errorCode!="")errorText+=" ["+errorCode+"]";return errorText}catch(err){return""}}.call(this);s.prop19="D\x3dl2";s.eVar49=function anon(){try{if(typeof digitalData!="undefined"&&typeof digitalData.user!="undefined"&&digitalData.user.ssc!="undefined")return digitalData.user.ssc}catch(e){}}.call(this);
s.eVar67=function anon(){try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined")if(typeof digitalData.event[digitalData.event.length-1].data!="undefined"&&typeof digitalData.event[digitalData.event.length-1].data.selfServiceName!="undefined")return digitalData.event[digitalData.event.length-1].data.selfServiceName;else if(typeof digitalData.event[digitalData.event.length-1].data!="undefined"&&typeof digitalData.event[digitalData.event.length-1].data.name!="undefined")return digitalData.event[digitalData.event.length-
1].data.name;return""}catch(e){}}.call(this);s.prop67="D\x3dv67";s.eVar15=function anon(){try{var gender=s_parseDataLayerUserObj("self-service-start","gender","page-view");if(typeof gender=="string")return gender;else if(typeof window.sc_applicant_gender!="undefined")return window.sc_applicant_gender;else return""}catch(err){return""}}.call(this);s.eVar16=function anon(){try{var age=s_parseDataLayerUserObj("self-service-start","age","page-view");var dob=s_parseDataLayerUserObj("self-service-start",
"dob","page-view");if(typeof age!="undefined"&&age!==false)return age;else if(typeof dob!="undefined"&&dob!==false)return dob;else if(typeof window.sc_applicant_age!="undefined")return window.sc_applicant_age;else return""}catch(err){return""}}.call(this);s.eVar17=function anon(){try{var state=s_parseDataLayerUserObj("self-service-start","state","page-view");if(typeof state!="undefined")return state;else if(typeof window.sc_applicant_state!="undefined")return window.sc_applicant_state;else return""}catch(err){return""}}.call(this);
s.eVar18=function anon(){try{var postcode=s_parseDataLayerUserObj("self-service-start","postcode","page-view");if(typeof postcode!="undefined")return postcode;else if(typeof window.sc_applicant_postcode!="undefined")return window.sc_applicant_postcode;else return""}catch(err){return""}}.call(this);s.eVar19=function anon(){try{var type=s_parseDataLayerUserObj("self-service-start","type","page-view");if(typeof type=="string")return type.charAt(0).toUpperCase()+type.slice(1);else if(typeof window.sc_customer_type!=
"undefined")return window.sc_customer_type;else return""}catch(err){return""}}.call(this);s.eVar20=function anon(){try{var applicantLiability=s_parseDataLayerUserObj("self-service-start","applicantLiability","page-view");var applicantLiabilityDesc=s_parseDataLayerUserObj("self-service-start","applicantLiabilityDescription","page-view");if(typeof applicantLiability=="string")return applicantLiability.charAt(0).toUpperCase()+applicantLiability.slice(1);else if(typeof digitalData!="undefined"&&typeof digitalData.event!=
"undefined"){var lastEventObject=window.digitalData.event[window.digitalData.event.length-1];if(lastEventObject.data["user"].applicantLiability)return lastEventObject.data["user"].applicantLiability;else if(typeof applicantLiabilityDesc=="string")return applicantLiabilityDesc;else return""}else if(typeof window.sc_applicant_liability!="undefined")return window.sc_applicant_liability;else return""}catch(err){return""}}.call(this);s.eVar56=function anon(){try{var refNumber=s_parseDataLayer("application_id");
if(typeof refNumber=="string"&&refNumber!="unknown application_id")return refNumber;else return""}catch(err){return""}}.call(this);s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="prop9,eVar9,list3,prop44,pageName,prop66,eVar59,prop59,list2,prop19,eVar49,events,eVar67,prop67,eVar15,eVar16,eVar17,eVar18,eVar19,eVar20,eVar56";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event1";s.t();s.linkTrackVars=
s.origLTV;s.linkTrackEvents=s.origLTE})},3951797,737561);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - ib-page-view",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="";s.events+=""+function anon(){try{var eventString="event1";var errorText="";if(typeof digitalData!="undefined"&&typeof digitalData.page!="undefined"&&typeof digitalData.page.error!="undefined"&&typeof digitalData.page.error.errorText!=
"undefined")errorText=digitalData.page.error.errorText;if(typeof this!="undefined"&&typeof this.event!="undefined"&&this.event.data!="undefined"&&this.event.data.searchSuggestion!="undefined")searchText=this.event.data.searchSuggestion;if(typeof errorText=="string"&&errorText!="")eventString+=",event54";else if(typeof s_parseDataLayer=="function"&&(s_parseDataLayer("errorText")!="unknown errorText"||s_parseDataLayer("error")!="unknown error"))eventString+=",event54";if(typeof searchText=="string"&&
searchText!="")eventString+=",event4";if(typeof s_parseDataLayer=="function"&&s_parseDataLayer("internalAd")!=="unknown internalAd"&&s_parseDataLayer("internalAd").length>0)eventString+=",event19";if(typeof s_parseDataLayer=="function"&&/self-service-start/i.test(s_parseDataLayer("action")))eventString+=",event46";else if(typeof s_parseDataLayer=="function"&&/self-service-complete/i.test(s_parseDataLayer("action")))eventString+=",event47";return eventString}catch(err){return"event1"}}.call(this);
s.prop9="D\x3dpageName";s.eVar9="D\x3dpageName";s.list3=function anon(){try{var accountType="";accountType=digitalData.user.accountType;if(typeof accountType=="string"&&accountType!="")return accountType;else if(s_parseDataLayer("productsAndServices")!="unknown productsAndServices"){var product=s_parseDataLayer("productsAndServices");if(typeof product=="object"&&product.length>0){var prodString="";for(var i=0;i<product.length;i++)if(typeof product[i]["name"]!="undefined")prodString+=product[i]["name"]+
",";return prodString}}else return""}catch(err){return""}}.call(this);s.prop44=function anon(){try{var filterList="";filterList=digitalData.page.pageInfo.filter;if(typeof filterList=="string"&&filterList!="")return filterList;else return""}catch(err){return""}}.call(this);s.pageName=function anon(){var pageName="";try{if(s_parseDataLayer("pageName")!="unknown pageName")if(s_parseDataLayer("section")!="unknown section")return s_parseDataLayer("pageName")+":"+s_parseDataLayer("section");else return s_parseDataLayer("pageName");
if(typeof window.digitalData.page.pageInfo.pageName==="string")if(s_parseDataLayer("section")!="unknown section")return window.digitalData.page.pageInfo.pageName+":"+s_parseDataLayer("section");else if(s_parseDataLayer("name")!="unknown name"){pageName=window.digitalData.page.pageInfo.pageName+":"+s_parseDataLayer("name");return pageName}else{pageName=window.digitalData.page.pageInfo.pageName;return pageName}}catch(err){return""}}.call(this);s.prop66="D\x3dl3";s.eVar59=function anon(){try{var errorCode=
"";errorCode=digitalData.page.error.errorCode;if(typeof errorCode=="string"&&errorCode!="")return errorCode;else if(typeof s_parseDataLayer=="function"&&s_parseDataLayer("errorCode")!="unknown errorCode")return s_parseDataLayer("errorCode");else return""}catch(err){return""}}.call(this);s.prop59="D\x3dv59";s.list2=function anon(){try{var errorText="";errorText=typeof digitalData.page.error!="undefined"&&typeof digitalData.page.error.errorText!="undefined"?digitalData.page.error.errorText:"";var errorCode=
"";errorCode=typeof digitalData.page.error!="undefined"&&typeof digitalData.page.error.errorCode!="undefined"?digitalData.page.error.errorCode:"";if(typeof errorText=="string"&&errorText!=""){if(typeof errorCode=="string"&&errorCode!="")errorText+=" ["+errorCode+"]"}else if(typeof s_parseDataLayer=="function")if(s_parseDataLayer("errorText")!="unknown errorText")errorText=s_parseDataLayer("errorText");else if(s_parseDataLayer("error")!="unknown error")errorText=s_parseDataLayer("error");return errorText}catch(err){return""}}.call(this);
s.prop19="D\x3dl2";s.eVar49=function anon(){try{if(typeof digitalData!="undefined"&&typeof digitalData.user!="undefined"&&digitalData.user.ssc!="undefined")return digitalData.user.ssc}catch(e){}}.call(this);s.eVar4=function anon(){var search="";try{if(_NABTags.ciaDebug==="true")console.log("this.event.data.searchTerm: ",this.event.data.searchTerm);var searchTerm=this.event.data.searchTerm;var searchSuggestion=this.event.data.searchSuggestion;if(typeof searchSuggestion!=="undefined")switch(searchSuggestion){case "Suggestion Ignored":search=
searchTerm;break;case "No suggestion available":search=searchTerm;break;default:search=searchSuggestion;break}else;}catch(e){}return search}.call(this);s.prop4="D\x3dv4";s.eVar69=function anon(){var searchDetails="";try{var searchTerm=this.event.data.searchTerm;var searchSuggestion=this.event.data.searchSuggestion;searchDetails="search:"+searchTerm+":suggestion:"+searchSuggestion}catch(e){}return searchDetails}.call(this);s.prop7=function anon(){var searchResults="";try{searchResults=this.event.data.numberResults}catch(e){}return searchResults}.call(this);
s.prop69="D\x3dv69";s.eVar40=function anon(){try{var ndid="";ndid=s.Util.cookieRead("ndid");if(typeof ndid=="string"&&ndid!="")ndid="kiosk-id:"+ndid.toUpperCase();return ndid.substring(0,16)}catch(err){console.log("eVar40 error: "+err);return""}}.call(this);s.prop40="D\x3dv40";s.eVar71=function anon(){try{if(s_parseDataLayer("toAccountType")!="unknown toAccountType")return s_parseDataLayer("toAccountType");else return""}catch(err){return""}}.call(this);s.prop71="D\x3dv71";s.list1=function anon(){try{var internalAd=
s_parseDataLayer("internalAd");var internalAd_arr=[];var list="";if(s_parseDataLayer("internalAd")!=="unknown internalAd"){for(var i=0;i<internalAd.length;i++)if(typeof internalAd[i].internalPromo!=="undefined"&&typeof internalAd[i].internalPromo=="string"&&internalAd[i].internalPromo!=="")internalAd_arr.push(internalAd[i].internalPromo);if(internalAd_arr.length>0)list=""+internalAd_arr.slice()}return list}catch(err){return"unknown internalPromo"}}.call(this);s.eVar68=function anon(){return""}.call(this);
s.eVar67=function anon(){try{if(typeof s_parseDataLayer=="function"&&s_parseDataLayer("selfServiceName")!="unknown selfServiceName")return s_parseDataLayer("selfServiceName");return""}catch(e){}}.call(this);s.prop67="D\x3dv67";s.eVar96=function anon(){try{if(s_parseDataLayer("processType")!="unknown processType")return s_parseDataLayer("processType")}catch(e){}}.call(this);s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="prop9,eVar9,list3,prop44,events,pageName,prop66,eVar59,prop59,list2,prop19,eVar49,eVar4,prop4,eVar69,prop7,prop69,eVar40,prop40,eVar71,prop71,list1,eVar68,eVar67,prop67,eVar96";
s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="None";s.linkTrackEvents+=","+function anon(){try{var eventString="event1";var errorText="";if(typeof digitalData!="undefined"&&typeof digitalData.page!="undefined"&&typeof digitalData.page.error!="undefined"&&typeof digitalData.page.error.errorText!="undefined")errorText=digitalData.page.error.errorText;if(typeof this!="undefined"&&typeof this.event!="undefined"&&this.event.data!="undefined"&&
this.event.data.searchSuggestion!="undefined")searchText=this.event.data.searchSuggestion;if(typeof errorText=="string"&&errorText!="")eventString+=",event54";else if(typeof s_parseDataLayer=="function"&&(s_parseDataLayer("errorText")!="unknown errorText"||s_parseDataLayer("error")!="unknown error"))eventString+=",event54";if(typeof searchText=="string"&&searchText!="")eventString+=",event4";if(typeof s_parseDataLayer=="function"&&s_parseDataLayer("internalAd")!=="unknown internalAd"&&s_parseDataLayer("internalAd").length>
0)eventString+=",event19";if(typeof s_parseDataLayer=="function"&&/self-service-start/i.test(s_parseDataLayer("action")))eventString+=",event46";else if(typeof s_parseDataLayer=="function"&&/self-service-complete/i.test(s_parseDataLayer("action")))eventString+=",event47";return eventString}catch(err){return"event1"}}.call(this).replace(/(=.*?,|=.*?$)/g,",").replace(/,+$/,"");s.t();s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},4004990,[4093388,4093331],610004,[385284,639227]);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - self-service-start",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event1,event46";s.prop9="D\x3dpageName";s.eVar9="D\x3dpageName";s.list3=function anon(){try{var accountType="";accountType=typeof digitalData.user!="undefined"&&typeof digitalData.user.accountType!="undefined"?digitalData.user.accountType:
"";if(typeof accountType=="string"&&accountType!="")return accountType;else if(s_parseDataLayer("productsAndServices")!="unknown productsAndServices"){var product=s_parseDataLayer("productsAndServices");if(typeof product=="object"&&product.length>0){var prodString="";for(var i=0;i<product.length;i++)if(typeof product[i]["name"]!="undefined")prodString+=product[i]["name"]+",";return prodString}}else return""}catch(err){return""}}.call(this);s.prop44=function anon(){try{var filterList="";filterList=
digitalData.page.pageInfo.filter;if(typeof filterList=="string"&&filterList!="")return filterList;else return""}catch(err){return""}}.call(this);s.pageName=function anon(){var pageName="";try{if(s_parseDataLayer("pageName")!="unknown pageName")return s_parseDataLayer("pageName");if(typeof window.digitalData.page.pageInfo.pageName==="string")if(s_parseDataLayer("section")!="unknown section"){pageName=window.digitalData.page.pageInfo.pageName+":"+s_parseDataLayer("section");return pageName}else if(s_parseDataLayer("name")!=
"unknown name"){pageName=window.digitalData.page.pageInfo.pageName+":"+s_parseDataLayer("name");return pageName}else{pageName=window.digitalData.page.pageInfo.pageName;return pageName}}catch(err){return""}}.call(this);s.prop66="D\x3dl3";s.eVar59=function anon(){try{var errorCode="";errorCode=digitalData.page.error.errorCode;if(typeof errorCode=="string"&&errorCode!="")return errorCode;else return""}catch(err){return""}}.call(this);s.prop59="D\x3dv59";s.list2=function anon(){try{var errorText="";errorText=
digitalData.page.error.errorText;var errorCode="";errorCode=digitalData.page.error.errorCode;if(typeof errorText=="string"&&errorText!="")if(typeof errorCode=="string"&&errorCode!="")errorText+=" ["+errorCode+"]";return errorText}catch(err){return""}}.call(this);s.prop19="D\x3dl2";s.eVar49=function anon(){try{if(typeof digitalData!="undefined"&&typeof digitalData.user!="undefined"&&digitalData.user.ssc!="undefined")return digitalData.user.ssc}catch(e){}}.call(this);s.eVar67=function anon(){try{if(typeof digitalData!=
"undefined"&&typeof digitalData.event!="undefined")if(typeof digitalData.event[digitalData.event.length-1].data!="undefined"&&typeof digitalData.event[digitalData.event.length-1].data.selfServiceName!="undefined")return digitalData.event[digitalData.event.length-1].data.selfServiceName;else if(typeof digitalData.event[digitalData.event.length-1].data!="undefined"&&typeof digitalData.event[digitalData.event.length-1].data.name!="undefined")return digitalData.event[digitalData.event.length-1].data.name;
return""}catch(e){}}.call(this);s.prop67="D\x3dv67";s.eVar15=function anon(){try{var gender=s_parseDataLayerUserObj("self-service-start","gender","page-view");if(typeof gender=="string")return gender;else if(typeof window.sc_applicant_gender!="undefined")return window.sc_applicant_gender;else return""}catch(err){return""}}.call(this);s.eVar16=function anon(){try{var age=s_parseDataLayerUserObj("self-service-start","age","page-view");var dob=s_parseDataLayerUserObj("self-service-start","dob","page-view");
if(typeof age!="undefined"&&age!==false)return age;else if(typeof dob!="undefined"&&dob!==false)return dob;else if(typeof window.sc_applicant_age!="undefined")return window.sc_applicant_age;else return""}catch(err){return""}}.call(this);s.eVar17=function anon(){try{var state=s_parseDataLayerUserObj("self-service-start","state","page-view");if(typeof state!="undefined")return state;else if(typeof window.sc_applicant_state!="undefined")return window.sc_applicant_state;else return""}catch(err){return""}}.call(this);
s.eVar18=function anon(){try{var postcode=s_parseDataLayerUserObj("self-service-start","postcode","page-view");if(typeof postcode!="undefined")return postcode;else if(typeof window.sc_applicant_postcode!="undefined")return window.sc_applicant_postcode;else return""}catch(err){return""}}.call(this);s.eVar19=function anon(){try{var type=s_parseDataLayerUserObj("self-service-start","type","page-view");if(typeof type=="string")return type.charAt(0).toUpperCase()+type.slice(1);else if(typeof window.sc_customer_type!=
"undefined")return window.sc_customer_type;else return""}catch(err){return""}}.call(this);s.eVar20=function anon(){try{var applicantLiability=s_parseDataLayerUserObj("self-service-start","applicantLiability","page-view");var applicantLiabilityDesc=s_parseDataLayerUserObj("self-service-start","applicantLiabilityDescription","page-view");if(typeof applicantLiability=="string")return applicantLiability.charAt(0).toUpperCase()+applicantLiability.slice(1);else if(typeof digitalData!="undefined"&&typeof digitalData.event!=
"undefined"){var lastEventObject=window.digitalData.event[window.digitalData.event.length-1];if(lastEventObject.data["user"].applicantLiability)return lastEventObject.data["user"].applicantLiability;else if(typeof applicantLiabilityDesc=="string")return applicantLiabilityDesc;else return""}else if(typeof window.sc_applicant_liability!="undefined")return window.sc_applicant_liability;else return""}catch(err){return""}}.call(this);s.eVar56=function anon(){try{var refNumber=s_parseDataLayer("application_id");
if(typeof refNumber=="string"&&refNumber!="unknown application_id")return refNumber;else return""}catch(err){return""}}.call(this);s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="prop9,eVar9,list3,prop44,pageName,prop66,eVar59,prop59,list2,prop19,eVar49,events,eVar67,prop67,eVar15,eVar16,eVar17,eVar18,eVar19,eVar20,eVar56";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event1,event46";
s.t();s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},4005165,[4093388,4093331],697779,[385284,639227]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - eidv-decision",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event94";s.eVar98=function anon(){try{return s_parseDataLayer("eidv-result")}catch(e){}}.call(this);s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="events,eVar98";s.linkTrackEvents=s.linkTrackEvents&&
s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event94";s.tl(this,"o","eidv decision");s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},3903960,746370);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{if(typeof digitalData!="undefined"&&typeof digitalData.page!="undefined"&&typeof digitalData.page.pageInfo!="undefined"&&typeof digitalData.page.pageInfo.customValues!="undefined"&&typeof digitalData.page.pageInfo.customValues["siteTypeOverride"]!="undefined")return digitalData.page.pageInfo.customValues["siteTypeOverride"];
else return""}catch(err){return""}},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"DDL - siteTypeOverride",collection:"Digital Data Layer",source:"Manage",priv:"false"},{id:"19070"})},19070)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - form - form-progressed",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event1";s.pageName=function anon(){if(s.parseDataLayer("section")!="unknown section"&&s.parseDataLayer("pageName")!="unknown pageName")return s.parseDataLayer("pageName")+":"+s.parseDataLayer("section").replace(/\s+/g,"-").toLowerCase();
else if(typeof s.parseDataLayer("section")=="string"&&s.parseDataLayer("section")!="unknown section"){var section=s.parseDataLayer("section").replace(/\s+/g,"-");window.scFormDebug="Form Progessed - Senario 1: section is set";if(typeof window.digitalData.page.pageInfo.pageName!="undefined")return window.digitalData.page.pageInfo.pageName.replace(/:start$/,"").replace(/:privacy$/,"")+":"+section}else if(typeof s.parseDataLayer("page")!="undefined"&&s.parseDataLayer("page")!="unknown page")if(s.parseDataLayer("page").substring(0,
4)==="nab:"){window.scFormDebug="Form Progessed - Scenario 2: page is set - full path";return s.parseDataLayer("page").replace(/\s+/g,"-")}else{window.scFormDebug="Form Progessed - Scenario 2: page is set - append";return digitalData.page.pageInfo.pageName.replace(/:start$/,"")+":"+s.parseDataLayer("page").replace(/\s+/g,"-").replace(/39/g,"")}else if(typeof s.parseDataLayer("pageName")!="undefined"&&s.parseDataLayer("pageName")!="unknown pageName")if(s.parseDataLayer("pageName").substring(0,4)===
"nab:"){window.scFormDebug="Form Progessed - Scenario 3: pageName is set - full path";return s.parseDataLayer("pageName").replace(/\s+/g,"-")}else{window.scFormDebug="Form Progessed - Scenario 3: pageName is set - append";return digitalData.page.pageInfo.pageName.replace(/:start$/,"")+":"+s.parseDataLayer("pageName").replace(/\s+/g,"-")}else{window.scFormDebug="Form Progessed - Scenario 4: no match";return false}}.call(this);s.eVar72=function anon(){return window.scFormDebug}.call(this);s.eVar65=
function anon(){try{if(/small business lending (broker )?online application/i.test(s_parseDataLayer("name"))){var customAction="";var quoteId=s_parseDataLayer("quote_id");if(typeof quoteId=="string"&&quoteId!="unknown quote_id"&&quoteId!="")customAction=s_parseDataLayer("name")+" : Retrieved Quote";return customAction}else return""}catch(err){return""}}.call(this);s.eVar19=function anon(){if(typeof window.sc_customer_type!="undefined")return window.sc_customer_type;else return""}.call(this);s.eVar56=
function anon(){try{var refNumber=s.parseDataLayer("application_id");var formName=s.parseDataLayer("name");if(typeof refNumber=="string"&&refNumber!="unknown application_id")return refNumber;else if(typeof formName=="string"&&/upgrade(.*)visa/i.test(formName)){var serialisedId=s.parseDataLayer("serialised_id");if(typeof serialisedId=="string"&&serialisedId!="unknown serialised_id")return serialisedId.replace(/(\D)*(0)*/i,"");else return""}else return""}catch(err){return""}}.call(this);s.eVar43=function anon(){if(s_parseDataLayer("directorType")!=
"unknown directorType")return s_parseDataLayer("directorType")}.call(this);s.eVar96=function anon(){if(s_parseDataLayer("processType")!="unknown processType")return s_parseDataLayer("processType")}.call(this);s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="pageName,events,eVar72,eVar65,eVar19,eVar56,eVar43,eVar96";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event1";s.t();s.linkTrackVars=
s.origLTV;s.linkTrackEvents=s.origLTE})},3801378,374257);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - section-progressed",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.pageName=function anon(){var section=s.parseDataLayer("section");if(section!="unknown section")return section}.call(this);s.events="event1";s.linkTrackVars+=s.linkTrackVars.slice(-1)!=","?",":"";s.linkTrackVars+="pageName,events";s.linkTrackEvents+=
s.linkTrackEvents.slice(-1)!=","?",":"";s.linkTrackEvents+="event1";s.t();s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},2735105,423228);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var isBrowserCompatible=function(userAgent){userAgent=userAgent||navigator.userAgent;if(/MSIE ([6-8]{1,}[\.0-9]{0,})/.test(userAgent))return false;else if(/Trident.*MSN/.test(userAgent))return false;else if(/QQBrowser/.test(userAgent))return false;return true};try{if(isBrowserCompatible()!==
true)window.s_evar47="";return window.s_evar47}catch(err){return""}},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"DDL - eVar47 - PZN Tracking",collection:"Digital Data Layer",source:"Manage",priv:"false"},{id:"19436"})},19436)},-1,-1);
Bootstrapper.bindImmediate(function(){var ddConditions={"not":[null],"caseInsensitive":["ignore case"],"compareTo":["Online Credit Card Application"],"requiredData":["26291"],"comparators":["is"]};Bootstrapper.data.resolve(ddConditions.requiredData,function(){ddConditions.values=Array.prototype.slice.call(arguments,0);var Bootstrapper=window["Bootstrapper"];if(Bootstrapper.data.checkConditions(ddConditions))Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=
Bootstrapper.ensightenOptions;function initialiseDetailedFormTracking(){if(_NABTags.ciaDebug=="true")console.log("Start initialiseDetailedFormTracking()");try{s_formInteracted=false;var currentTime=Math.round((new Date).getTime()/1E3);if(currentTime)s_parseDataLayerSetCustomValue("formStartTime",currentTime);var formAbandonFormName=s_parseDataLayer("name");if(formAbandonFormName.toLowerCase()=="unknown name")if(typeof digitalData!="undefined"&&typeof digitalData.form!="undefined"&&typeof digitalData.form.name!=
"undefined"&&digitalData.form.name)formAbandonFormName=digitalData.form.name;if(formAbandonFormName.toLowerCase()!="unknown name")s_parseDataLayerSetCustomValue("formAbandonStartedFormName",formAbandonFormName);s_parseDataLayerSetCustomValue("fieldSequence",["No fields entered"]);s_parseDataLayerSetCustomValue("fieldSequenceFull",["No fields entered"]);var fieldSequenceSectionName=s_parseDataLayer("pageId");if(fieldSequenceSectionName.toLowerCase()=="unknown pageid")fieldSequenceSectionName=s_parseDataLayer("sectionId");
if(fieldSequenceSectionName.toLowerCase()=="unknown sectionid")fieldSequenceSectionName=s_parseDataLayer("section");s_parseDataLayerSetCustomValue("fieldSequenceSection",fieldSequenceSectionName);Bootstrapper.unobtrusiveAddEvent(window,"onbeforeunload",function(){var formAbandonStartedFormName=s_parseDataLayerCustomValue("formAbandonStartedFormName");if(formAbandonStartedFormName!==false){var formAbandonCompletedFormName=s_parseDataLayerCustomValue("formAbandonCompletedFormName");if(formAbandonCompletedFormName===
false||formAbandonStartedFormName!=formAbandonCompletedFormName){var fieldSequenceFormName=s_parseDataLayer("name");if(typeof fieldSequenceFormName!="undefined"&&fieldSequenceFormName=="unknown name")fieldSequenceFormName=formAbandonStartedFormName;var fieldSequenceSection=s_parseDataLayerCustomValue("fieldSequenceSection");if(fieldSequenceSection===false)fieldSequenceSection="unknown section";var fieldSequenceArray=s_parseDataLayerCustomValue("fieldSequence");var formAbandonFieldSequence="unknown field sequence";
var lastFieldUsed="No fields entered";if(fieldSequenceArray!==false&&fieldSequenceArray!==""){formAbandonFieldSequence=fieldSequenceArray.join("\x3e");if(typeof fieldSequenceArray=="object"&&fieldSequenceArray.length!="undefined")lastFieldUsed=fieldSequenceArray[fieldSequenceArray.length-1]}var s=s_gi(s_account);s.linkTrackVars="prop9,prop34,eVar7,eVar9,eVar23,eVar42,eVar51,events";s.linkTrackEvents="event7";s.events="event7";s.eVar7=lastFieldUsed+" ["+fieldSequenceSection+"|"+fieldSequenceFormName+
"]";s.eVar42=formAbandonFieldSequence+" ["+fieldSequenceSection+"|"+fieldSequenceFormName+"]";s.prop34="D\x3dv42";s.tl(this,"o","Form Abandon");s.prop34=s.eVar7=s.eVar42=""}}})}catch(err){if(_NABTags.ciaDebug=="true")console.log("initialiseDetailedFormTracking() error:"+err);return""}}Bootstrapper.ensEvent.add("ensEvent - application-form2-start",function(){initialiseDetailedFormTracking()});Bootstrapper.ensEvent.add("ensEvent - prospect-form-start",function(){initialiseDetailedFormTracking()});var digitalDataFormName=
"";try{if(typeof digitalData!="undefined"&&typeof digitalData.form!="undefined"&&typeof digitalData.form.name!="undefined"&&digitalData.form.name)digitalDataFormName=digitalData.form.name;if(/Online Credit Card Application/i.test(digitalDataFormName))initialiseDetailedFormTracking()}catch(err){digitalDataFormName=""}Bootstrapper.ensEvent.add("ensEvent - form - field-started",function(){try{s_formInteracted=true;var fieldLabel=s_parseDataLayer("fieldId");if(fieldLabel.toLowerCase()=="unknown fieldid")fieldLabel=
s_parseDataLayer("field");fieldLabel=fieldLabel.replace(/^income/i,"inc");var fieldLabelShort=fieldLabel.substring(0,5).toLowerCase();if(s_parseDataLayerCustomValue("formFieldLength")){var field_length=s_parseDataLayerCustomValue("formFieldLength");fieldLabelShort=fieldLabel.substring(0,field_length).toLowerCase()}fieldLabelShort=fieldLabelShort.replace(/[^\w\s]|_/g,"").trim();if(/upgrade(.*)visa/i.test(s_parseDataLayer("name"))||/cc application|online credit card application/i.test(s_parseDataLayer("name"))){var iteration=
s_parseDataLayer("iteration");if(typeof iteration!="undefined"&&parseInt(iteration)>1){fieldLabel=fieldLabel+"-"+iteration;fieldLabelShort=fieldLabelShort+"-"+iteration}}var fieldSequenceArray=s_parseDataLayerCustomValue("fieldSequence");var fieldSequenceArrayFull=s_parseDataLayerCustomValue("fieldSequenceFull");if(typeof fieldSequenceArray=="undefined"||fieldSequenceArray===false||fieldSequenceArray===""||typeof fieldSequenceArray=="object"&&typeof fieldSequenceArray[0]!="undefined"&&fieldSequenceArray[0].toLowerCase()==
"no fields entered")fieldSequenceArray=[];if(typeof fieldSequenceArrayFull=="undefined"||fieldSequenceArrayFull===false||fieldSequenceArrayFull===""||typeof fieldSequenceArrayFull=="object"&&typeof fieldSequenceArrayFull[0]!="undefined"&&fieldSequenceArrayFull[0].toLowerCase()=="no fields entered")fieldSequenceArrayFull=[];if(fieldLabelShort!==""){var addNewFormElement=true;if(typeof fieldSequenceArrayFull=="object"&&fieldSequenceArrayFull.length>0&&fieldSequenceArrayFull[fieldSequenceArrayFull.length-
1]==fieldLabel)addNewFormElement=false;if(typeof addNewFormElement!="undefined"&&addNewFormElement===true){fieldSequenceArray.push(fieldLabelShort);fieldSequenceArrayFull.push(fieldLabel);if(typeof s_parseDataLayerSetCustomValue!="undefined")s_parseDataLayerSetCustomValue("fieldSequence",fieldSequenceArray);if(typeof s_parseDataLayerSetCustomValue!="undefined")s_parseDataLayerSetCustomValue("fieldSequenceFull",fieldSequenceArrayFull)}}var fieldLabelSection=s_parseDataLayer("pageId");if(fieldLabelSection.toLowerCase()==
"unknown pageid")fieldLabelSection=s_parseDataLayer("sectionId");if(fieldLabelSection.toLowerCase()=="unknown sectionid")fieldLabelSection=s_parseDataLayer("section");if(fieldLabelSection!=="")if(typeof s_parseDataLayerSetCustomValue!="undefined")s_parseDataLayerSetCustomValue("fieldSequenceSection",fieldLabelSection);var formFieldPathing=s_parseDataLayerCustomValue("formFieldPathing");var digitalDataFormName="";if(typeof digitalData!="undefined"&&typeof digitalData.form!="undefined"&&typeof digitalData.form.name!=
"undefined"&&digitalData.form.name)digitalDataFormName=digitalData.form.name;if(/true|yes|enabled|1/i.test(formFieldPathing)||/ciatesting/i.test(document.location.href)||/Online Credit Card Application/i.test(digitalDataFormName))if(fieldLabelShort!==""&&typeof addNewFormElement!="undefined"&&addNewFormElement===true){var fieldSequenceFormName=s_parseDataLayer("name");var fieldSequenceSection=s_parseDataLayerCustomValue("fieldSequenceSection");if(fieldSequenceSection===false)fieldSequenceSection=
"unknown section";var s=s_gi(s_account);s.linkTrackVars="prop9,prop35,eVar9,eVar23,eVar51,events";s.linkTrackEvents="";s.events="";s.prop35=fieldLabelShort+" ["+fieldSequenceSection+"|"+fieldSequenceFormName+"]";s.tl(this,"o","Form Field Used");s.prop35=""}}catch(err){return""}});function processFormSectionStep(){try{var fieldSequenceArray=s_parseDataLayerCustomValue("fieldSequence");var fieldSequenceFormName=s_parseDataLayer("name");var fieldSequenceSectionName=s_parseDataLayer("pageId");if(fieldSequenceSectionName.toLowerCase()==
"unknown pageid")fieldSequenceSectionName=s_parseDataLayer("sectionId");if(fieldSequenceSectionName.toLowerCase()=="unknown sectionid")fieldSequenceSectionName=s_parseDataLayer("section");var fieldSequenceString="";if(fieldSequenceArray!==false&&fieldSequenceArray!==""){fieldSequenceString=fieldSequenceArray.join("\x3e");var fieldSequenceSection=s_parseDataLayerCustomValue("fieldSequenceSection");if(fieldSequenceArray===false)fieldSequenceSection="unknown section";if(typeof s_formInteracted!="undefined"&&
s_formInteracted===true){var s=s_gi(s_account);s.linkTrackVars="prop9,prop34,eVar9,eVar23,eVar42,eVar51,events";s.linkTrackEvents="event59";s.events="event59";s.eVar42=fieldSequenceString+" ["+fieldSequenceSection+"|"+fieldSequenceFormName+"]";s.prop34="D\x3dv42";s.tl(this,"o","Form Field Sequence");s.prop34=s.eVar42=""}}s_parseDataLayerSetCustomValue("fieldSequence",["No fields entered"]);s_parseDataLayerSetCustomValue("fieldSequenceFull",["No fields entered"]);s_parseDataLayerSetCustomValue("fieldSequenceSection",
fieldSequenceSectionName)}catch(err){return""}}Bootstrapper.ensEvent.add("ensEvent - form - form-progressed",function(){var runFormSectionProcessing=true;try{var formNameCheck=s_parseDataLayer("name");var formActionCheck=s_parseDataLayer("action");if(/(business|financial) snapshot|migrant banking|REA Home Loan Conditional Approval|NAB Home Loan Conditional Approval/i.test(formNameCheck)){runFormSectionProcessing=false;if(/form-page-loaded/i.test(formActionCheck))runFormSectionProcessing=true}}catch(err){runFormSectionProcessing=
true}if(runFormSectionProcessing===true)setTimeout(processFormSectionStep,2E3)});Bootstrapper.ensEvent.add("ensEvent - form - form-page-loaded",function(){var waitTime=500;if(typeof s_formInteracted!="undefined"&&s_formInteracted===true)waitTime=2E3;setTimeout(processFormSectionStep,waitTime)});function processFormCompletedStep(){try{processFormSectionStep();var formAbandonFormName=s_parseDataLayer("name");if(formAbandonFormName.toLowerCase()!="unknown name")s_parseDataLayerSetCustomValue("formAbandonCompletedFormName",
formAbandonFormName)}catch(err){return""}}Bootstrapper.ensEvent.add("ensEvent - application-form2-complete",function(){processFormCompletedStep()});Bootstrapper.ensEvent.add("ensEvent - prospect-form-complete",function(){processFormCompletedStep()});Bootstrapper.ensEvent.add("ensEvent - lead-submitted",function(){processFormCompletedStep()})},3801376,419388)})},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - internal-ad-click",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event20";s.list1=function anon(){try{var internalPromo=s.parseDataLayerByEventType("internalPromo","internal-ad-click");if(internalPromo===false||internalPromo=="unknown internalPromo"){console.log("Have to get internalPromo via old method");
internalPromo=s.parseDataLayer("internalPromo")}if(typeof internalPromo=="string"&&internalPromo.toLowerCase().indexOf("-p")==internalPromo.length-2)return internalPromo;else if(typeof internalPromo!="undefined")return internalPromo.toString();return internalPromo}catch(err){return"unknown internalPromo"}}.call(this);s.prop9=function anon(){if(typeof digitalData.page.pageInfo.pageName!="undefined")return digitalData.page.pageInfo.pageName}.call(this);s.eVar6=function anon(){try{var internalPromo=
s.parseDataLayerByEventType("internalPromo","internal-ad-click");if(internalPromo===false||internalPromo=="unknown internalPromo"){console.log("Have to get internalPromo via old method");internalPromo=s.parseDataLayer("internalPromo")}if(typeof internalPromo=="string"&&internalPromo.toLowerCase().indexOf("-p")==internalPromo.length-2)return internalPromo;else if(typeof internalPromo!="undefined")return internalPromo.toString();return internalPromo}catch(err){return"unknown internalPromo"}}.call(this);
s.eVar9="D\x3dc9";s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="list1,events,prop9,eVar6,eVar9";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event20";s.tl(this,"o",function anon(){try{var mastheadCustomLinkVal="";mastheadCustomLinkVal=s.parseDataLayerByEventType("heading","internal-ad-click");if(mastheadCustomLinkVal===false||mastheadCustomLinkVal=="")mastheadCustomLinkVal=s.parseDataLayer("heading");
return mastheadCustomLinkVal}catch(err){return"unknown heading"}}.call(this));s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},3863836,708909);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - internal-ad-managed",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event38";s.prop9=function anon(){if(typeof digitalData.page.pageInfo.pageName!="undefined")return digitalData.page.pageInfo.pageName}.call(this);s.eVar9="D\x3dc9";s.list1=function anon(){try{var internalPromo=s.parseDataLayerByEventType("internalPromo",
"internal-ad-managed");if(internalPromo===false||internalPromo=="unknown internalPromo"){console.log("Have to get internalPromo via old method");internalPromo=s.parseDataLayer("internalPromo")}if(typeof internalPromo=="string"&&internalPromo.toLowerCase().indexOf("-p")==internalPromo.length-2)return internalPromo;else if(typeof internalPromo!="undefined")return internalPromo.toString();return internalPromo}catch(err){return"unknown internalPromo"}}.call(this);s.eVar6=function anon(){try{var internalPromo=
s.parseDataLayerByEventType("internalPromo","internal-ad-managed");if(internalPromo===false||internalPromo=="unknown internalPromo"){console.log("Have to get internalPromo via old method");internalPromo=s.parseDataLayer("internalPromo")}if(typeof internalPromo=="string"&&internalPromo.toLowerCase().indexOf("-p")==internalPromo.length-2)return internalPromo;else if(typeof internalPromo!="undefined")return internalPromo.toString();return internalPromo}catch(err){return"unknown internalPromo"}}.call(this);
s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="events,prop9,eVar9,list1,eVar6";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event38";s.tl(this,"o",function anon(){try{var mastheadCustomLinkVal="";mastheadCustomLinkVal=s.parseDataLayerByEventType("heading","internal-ad-managed");if(mastheadCustomLinkVal===false||mastheadCustomLinkVal=="")mastheadCustomLinkVal=s.parseDataLayer("heading");
return mastheadCustomLinkVal}catch(err){return"unknown heading"}}.call(this));s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},3863834,732369);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - document-downloaded",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event10";s.eVar10=function anon(){return s_parseDataLayer("section")}.call(this);s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="events,eVar10";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!==
"None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event10";s.tl(this,"o","");s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},3801380,725210);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - self-service-complete",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="";s.events+=""+function anon(){try{var d=new Date;var serial_append=d.getDate().toString()+d.getMonth().toString()+1+d.getFullYear().toString();var serialised_id="";var transferAmount="";var eventString="event1,event47";serialised_id=
s_parseDataLayer("selfServiceId");transferAmount=s_parseDataLayer("transferAmount");if(typeof transferAmount!="undefined"&&transferAmount!="unknown transferAmount"&&parseInt(transferAmount)>0)if(serialised_id!="unknown selfServiceId")eventString="event1,event47,event51\x3d"+parseInt(transferAmount)+":"+serial_append+serialised_id;if(typeof s_parseDataLayer=="function"&&(s_parseDataLayer("errorText")!="unknown errorText"||s_parseDataLayer("error")!="unknown error"))eventString+=",event54";return eventString}catch(err){return"event1,event47"}}.call(this);
s.prop9="D\x3dpageName";s.eVar9="D\x3dpageName";s.list3=function anon(){try{var accountType="";accountType=typeof digitalData.user!="undefined"&&typeof digitalData.user.accountType!="undefined"?digitalData.user.accountType:"";if(typeof accountType=="string"&&accountType!="")return accountType;else if(s_parseDataLayer("productsAndServices")!="unknown productsAndServices"){var product=s_parseDataLayer("productsAndServices");if(typeof product=="object"&&product.length>0){var prodString="";for(var i=
0;i<product.length;i++)if(typeof product[i]["name"]!="undefined")prodString+=product[i]["name"]+",";return prodString}else if(typeof product.name=="string")return product.name}else return""}catch(err){return""}}.call(this);s.prop44=function anon(){try{var filterList="";filterList=digitalData.page.pageInfo.filter;if(typeof filterList=="string"&&filterList!="")return filterList;else return""}catch(err){return""}}.call(this);s.pageName=function anon(){var pageName="";try{if(s_parseDataLayer("pageName")!=
"unknown pageName")return s_parseDataLayer("pageName");if(typeof window.digitalData.page.pageInfo.pageName==="string")if(s_parseDataLayer("section")!="unknown section"){pageName=window.digitalData.page.pageInfo.pageName+":"+s_parseDataLayer("section");return pageName}else if(s_parseDataLayer("name")!="unknown name"){pageName=window.digitalData.page.pageInfo.pageName+":"+s_parseDataLayer("name");return pageName}else{pageName=window.digitalData.page.pageInfo.pageName;return pageName}}catch(err){return""}}.call(this);
s.prop66="D\x3dl3";s.eVar59=function anon(){try{var errorCode="";errorCode=digitalData.page.error.errorCode;if(typeof errorCode=="string"&&errorCode!="")return errorCode;else return""}catch(err){return""}}.call(this);s.prop59="D\x3dv59";s.list2=function anon(){try{var errorText="";errorText=typeof digitalData.page.error!="undefined"&&typeof digitalData.page.error.errorText!="undefined"?digitalData.page.error.errorText:"";var errorCode="";errorCode=typeof digitalData.page.error!="undefined"&&typeof digitalData.page.error.errorCode!=
"undefined"?digitalData.page.error.errorCode:"";var errorFieldId="";if(typeof errorText=="string"&&errorText!=""){if(typeof errorCode=="string"&&errorCode!="")errorText+=" ["+errorCode+"]"}else if(typeof s_parseDataLayer=="function"){errorFieldId=s_parseDataLayer("fieldId");if(s_parseDataLayer("errorText")!="unknown errorText")errorText=errorFieldId+":"+s_parseDataLayer("errorText");else if(s_parseDataLayer("error")!="unknown error")errorText=errorFieldId+":"+s_parseDataLayer("error");errorText=errorText.replace(/,/g,
"")}return errorText}catch(err){return""}}.call(this);s.prop19="D\x3dl2";s.eVar49=function anon(){try{if(typeof digitalData!="undefined"&&typeof digitalData.user!="undefined"&&digitalData.user.ssc!="undefined")return digitalData.user.ssc}catch(e){}}.call(this);s.eVar67=function anon(){try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined")if(typeof digitalData.event[digitalData.event.length-1].data!="undefined"&&typeof digitalData.event[digitalData.event.length-1].data.selfServiceName!=
"undefined")return digitalData.event[digitalData.event.length-1].data.selfServiceName;else if(typeof digitalData.event[digitalData.event.length-1].data!="undefined"&&typeof digitalData.event[digitalData.event.length-1].data.name!="undefined")return digitalData.event[digitalData.event.length-1].data.name;return""}catch(e){}}.call(this);s.prop67="D\x3dv67";s.eVar15=function anon(){try{var gender=s_parseDataLayerUserObj("self-service-complete","gender","page-view");if(typeof gender=="string")return gender;
else if(typeof window.sc_applicant_gender!="undefined")return window.sc_applicant_gender;else return""}catch(err){return""}}.call(this);s.eVar16=function anon(){try{var age=s_parseDataLayerUserObj("self-service-complete","age","page-view");var dob=s_parseDataLayerUserObj("self-service-complete","dob","page-view");if(typeof age!="undefined"&&age!==false)return age;else if(typeof dob!="undefined"&&dob!==false)return dob;else if(typeof window.sc_applicant_age!="undefined")return window.sc_applicant_age;
else return""}catch(err){return""}}.call(this);s.eVar17=function anon(){try{var state=s_parseDataLayerUserObj("self-service-complete","state","page-view");if(typeof state!="undefined")return state;else if(typeof window.sc_applicant_state!="undefined")return window.sc_applicant_state;else return""}catch(err){return""}}.call(this);s.eVar18=function anon(){try{var postcode=s_parseDataLayerUserObj("self-service-complete","postcode","page-view");if(typeof postcode!="undefined")return postcode;else if(typeof window.sc_applicant_postcode!=
"undefined")return window.sc_applicant_postcode;else return""}catch(err){return""}}.call(this);s.eVar19=function anon(){try{var type=s_parseDataLayerUserObj("self-service-complete","type","page-view");if(typeof type=="string")return type.charAt(0).toUpperCase()+type.slice(1);else if(typeof window.sc_customer_type!="undefined")return window.sc_customer_type;else return""}catch(err){return""}}.call(this);s.eVar20=function anon(){try{var applicantLiability=s_parseDataLayerUserObj("self-service-complete",
"applicantLiability","page-view");var applicantLiabilityDesc=s_parseDataLayerUserObj("self-service-complete","applicantLiabilityDescription","page-view");if(typeof applicantLiability=="string")return applicantLiability.charAt(0).toUpperCase()+applicantLiability.slice(1);else if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined"){var lastEventObject=window.digitalData.event[window.digitalData.event.length-1];if(lastEventObject.data["user"].applicantLiability)return lastEventObject.data["user"].applicantLiability;
else if(typeof applicantLiabilityDesc=="string")return applicantLiabilityDesc;else return""}else if(typeof window.sc_applicant_liability!="undefined")return window.sc_applicant_liability;else return""}catch(err){return""}}.call(this);s.eVar56=function anon(){try{var refNumber=s_parseDataLayer("application_id");if(typeof refNumber=="string"&&refNumber!="unknown application_id")return refNumber;else return""}catch(err){return""}}.call(this);s.eVar71=function anon(){try{if(typeof s_parseDataLayer=="function"&&
s_parseDataLayer("toAccountType")!="unknown toAccountType")return s_parseDataLayer("toAccountType");else return""}catch(err){return""}}.call(this);s.prop71="D\x3dv71";s.eVar70=function anon(){try{if(typeof s_parseDataLayer=="function"&&s_parseDataLayer("fromAccountType")!="unknown fromAccountType")return s_parseDataLayer("fromAccountType");else return""}catch(err){return""}}.call(this);s.prop70="D\x3dv70";s.eVar68=function anon(){try{if(typeof s_parseDataLayer=="function"&&s_parseDataLayer("paymentDetailsName")!=
"unknown paymentDetailsName")return s_parseDataLayer("paymentDetailsName");else return""}catch(err){return""}}.call(this);s.prop68="D\x3dv68";s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="prop9,eVar9,list3,prop44,pageName,prop66,eVar59,prop59,list2,prop19,eVar49,events,eVar67,prop67,eVar15,eVar16,eVar17,eVar18,eVar19,eVar20,eVar56,eVar71,prop71,eVar70,prop70,eVar68,prop68";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+
",":"";s.linkTrackEvents+="None";s.linkTrackEvents+=","+function anon(){try{var d=new Date;var serial_append=d.getDate().toString()+d.getMonth().toString()+1+d.getFullYear().toString();var serialised_id="";var transferAmount="";var eventString="event1,event47";serialised_id=s_parseDataLayer("selfServiceId");transferAmount=s_parseDataLayer("transferAmount");if(typeof transferAmount!="undefined"&&transferAmount!="unknown transferAmount"&&parseInt(transferAmount)>0)if(serialised_id!="unknown selfServiceId")eventString=
"event1,event47,event51\x3d"+parseInt(transferAmount)+":"+serial_append+serialised_id;if(typeof s_parseDataLayer=="function"&&(s_parseDataLayer("errorText")!="unknown errorText"||s_parseDataLayer("error")!="unknown error"))eventString+=",event54";return eventString}catch(err){return"event1,event47"}}.call(this).replace(/(=.*?,|=.*?$)/g,",").replace(/,+$/,"");s.t();s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},4001415,[4093388,4093331],697855,[385284,639227]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - internal-ad-load",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event19";s.list1=function anon(){try{var internalPromo=s.parseDataLayerByEventType("internalPromo","internal-ad-load");var list="";if(internalPromo===false||internalPromo=="unknown internalPromo"){console.log("Have to get internalPromo via old method");
internalPromo=s.parseDataLayer("internalPromo")}if(typeof internalPromo=="string"&&internalPromo.toLowerCase().indexOf("-p")==internalPromo.length-2)list=list+","+internalPromo;else if(typeof internalPromo!="undefined"&&internalPromo!="unknown internalPromo")list=list+","+internalPromo.toString();var internalAd=s_parseDataLayer("internalAd");var internalAd_arr=[];if(s_parseDataLayer("internalAd")!=="unknown internalAd"){for(var i=0;i<internalAd.length;i++)if(typeof internalAd[i].internalPromo!=="undefined"&&
typeof internalAd[i].internalPromo=="string"&&internalAd[i].internalPromo!=="")internalAd_arr.push(internalAd[i].internalPromo);if(internalAd_arr.length>0)list=list+","+internalAd_arr.slice()}return list.replace(/^,+/,"")}catch(err){return"unknown internalPromo"}}.call(this);s.prop9=function anon(){if(typeof digitalData.page.pageInfo.pageName!="undefined")return digitalData.page.pageInfo.pageName}.call(this);s.eVar9="D\x3dc9";s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+
",":"";s.linkTrackVars+="list1,events,prop9,eVar9";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event19";s.tl(this,"o",function anon(){try{var mastheadCustomLinkVal="";mastheadCustomLinkVal=s.parseDataLayerByEventType("heading","internal-ad-load");if(mastheadCustomLinkVal===false||mastheadCustomLinkVal=="")mastheadCustomLinkVal=s.parseDataLayer("heading");return mastheadCustomLinkVal}catch(err){return"unknown heading"}}.call(this));s.linkTrackVars=
s.origLTV;s.linkTrackEvents=s.origLTE})},3804593,716549);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{if(typeof digitalData!="undefined"&&typeof digitalData.form!="undefined"&&typeof digitalData.form.name!="undefined"&&typeof digitalData.form.name!="undefined")return digitalData.form.name;else return""}catch(err){return""}},transform:function(val){return val},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,
dataDefName:"DDL - form name",collection:"Digital Data Layer",source:"Manage",priv:"false"},{id:"26291"})},26291)},-1,-1);
Bootstrapper.bindImmediate(function(){var ddConditions={"not":[null],"caseInsensitive":["ignore case"],"compareTo":["enabled"],"requiredData":["24887"],"comparators":["is"]};Bootstrapper.data.resolve(ddConditions.requiredData,function(){ddConditions.values=Array.prototype.slice.call(arguments,0);var Bootstrapper=window["Bootstrapper"];if(Bootstrapper.data.checkConditions(ddConditions))Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;
function initialiseDetailedFormTracking(){if(_NABTags.ciaDebug=="true")console.log("Start initialiseDetailedFormTracking()");try{s_formInteracted=false;var currentTime=Math.round((new Date).getTime()/1E3);if(currentTime)s_parseDataLayerSetCustomValue("formStartTime",currentTime);var formAbandonFormName=s_parseDataLayer("name");if(formAbandonFormName.toLowerCase()=="unknown name")if(typeof digitalData!="undefined"&&typeof digitalData.form!="undefined"&&typeof digitalData.form.name!="undefined"&&digitalData.form.name)formAbandonFormName=
digitalData.form.name;if(formAbandonFormName.toLowerCase()!="unknown name")s_parseDataLayerSetCustomValue("formAbandonStartedFormName",formAbandonFormName);s_parseDataLayerSetCustomValue("fieldSequence",["No fields entered"]);s_parseDataLayerSetCustomValue("fieldSequenceFull",["No fields entered"]);var fieldSequenceSectionName=s_parseDataLayer("pageId");if(fieldSequenceSectionName.toLowerCase()=="unknown pageid")fieldSequenceSectionName=s_parseDataLayer("sectionId");if(fieldSequenceSectionName.toLowerCase()==
"unknown sectionid")fieldSequenceSectionName=s_parseDataLayer("section");s_parseDataLayerSetCustomValue("fieldSequenceSection",fieldSequenceSectionName);Bootstrapper.unobtrusiveAddEvent(window,"onbeforeunload",function(){var formAbandonStartedFormName=s_parseDataLayerCustomValue("formAbandonStartedFormName");if(formAbandonStartedFormName!==false){var formAbandonCompletedFormName=s_parseDataLayerCustomValue("formAbandonCompletedFormName");if(formAbandonCompletedFormName===false||formAbandonStartedFormName!=
formAbandonCompletedFormName){var fieldSequenceFormName=s_parseDataLayer("name");if(typeof fieldSequenceFormName!="undefined"&&fieldSequenceFormName=="unknown name")fieldSequenceFormName=formAbandonStartedFormName;var fieldSequenceSection=s_parseDataLayerCustomValue("fieldSequenceSection");if(fieldSequenceSection===false)fieldSequenceSection="unknown section";var fieldSequenceArray=s_parseDataLayerCustomValue("fieldSequence");var formAbandonFieldSequence="unknown field sequence";var lastFieldUsed=
"No fields entered";if(fieldSequenceArray!==false&&fieldSequenceArray!==""){formAbandonFieldSequence=fieldSequenceArray.join("\x3e");if(typeof fieldSequenceArray=="object"&&fieldSequenceArray.length!="undefined")lastFieldUsed=fieldSequenceArray[fieldSequenceArray.length-1]}var s=s_gi(s_account);s.linkTrackVars="prop9,prop34,eVar7,eVar9,eVar23,eVar42,eVar51,events";s.linkTrackEvents="event7";s.events="event7";s.eVar7=lastFieldUsed+" ["+fieldSequenceSection+"|"+fieldSequenceFormName+"]";s.eVar42=formAbandonFieldSequence+
" ["+fieldSequenceSection+"|"+fieldSequenceFormName+"]";s.prop34="D\x3dv42";s.tl(this,"o","Form Abandon");s.prop34=s.eVar7=s.eVar42=""}}})}catch(err){if(_NABTags.ciaDebug=="true")console.log("initialiseDetailedFormTracking() error:"+err);return""}}Bootstrapper.ensEvent.add("ensEvent - application-form2-start",function(){initialiseDetailedFormTracking()});Bootstrapper.ensEvent.add("ensEvent - prospect-form-start",function(){initialiseDetailedFormTracking()});var digitalDataFormName="";try{if(typeof digitalData!=
"undefined"&&typeof digitalData.form!="undefined"&&typeof digitalData.form.name!="undefined"&&digitalData.form.name)digitalDataFormName=digitalData.form.name;if(/Online Credit Card Application/i.test(digitalDataFormName))initialiseDetailedFormTracking()}catch(err){digitalDataFormName=""}Bootstrapper.ensEvent.add("ensEvent - form - field-started",function(){try{s_formInteracted=true;var fieldLabel=s_parseDataLayer("fieldId");if(fieldLabel.toLowerCase()=="unknown fieldid")fieldLabel=s_parseDataLayer("field");
fieldLabel=fieldLabel.replace(/^income/i,"inc");var fieldLabelShort=fieldLabel.substring(0,5).toLowerCase();if(s_parseDataLayerCustomValue("formFieldLength")){var field_length=s_parseDataLayerCustomValue("formFieldLength");fieldLabelShort=fieldLabel.substring(0,field_length).toLowerCase()}fieldLabelShort=fieldLabelShort.replace(/[^\w\s]|_/g,"").trim();if(/upgrade(.*)visa/i.test(s_parseDataLayer("name"))||/cc application|online credit card application/i.test(s_parseDataLayer("name"))){var iteration=
s_parseDataLayer("iteration");if(typeof iteration!="undefined"&&parseInt(iteration)>1){fieldLabel=fieldLabel+"-"+iteration;fieldLabelShort=fieldLabelShort+"-"+iteration}}var fieldSequenceArray=s_parseDataLayerCustomValue("fieldSequence");var fieldSequenceArrayFull=s_parseDataLayerCustomValue("fieldSequenceFull");if(typeof fieldSequenceArray=="undefined"||fieldSequenceArray===false||fieldSequenceArray===""||typeof fieldSequenceArray=="object"&&typeof fieldSequenceArray[0]!="undefined"&&fieldSequenceArray[0].toLowerCase()==
"no fields entered")fieldSequenceArray=[];if(typeof fieldSequenceArrayFull=="undefined"||fieldSequenceArrayFull===false||fieldSequenceArrayFull===""||typeof fieldSequenceArrayFull=="object"&&typeof fieldSequenceArrayFull[0]!="undefined"&&fieldSequenceArrayFull[0].toLowerCase()=="no fields entered")fieldSequenceArrayFull=[];if(fieldLabelShort!==""){var addNewFormElement=true;if(typeof fieldSequenceArrayFull=="object"&&fieldSequenceArrayFull.length>0&&fieldSequenceArrayFull[fieldSequenceArrayFull.length-
1]==fieldLabel)addNewFormElement=false;if(typeof addNewFormElement!="undefined"&&addNewFormElement===true){fieldSequenceArray.push(fieldLabelShort);fieldSequenceArrayFull.push(fieldLabel);if(typeof s_parseDataLayerSetCustomValue!="undefined")s_parseDataLayerSetCustomValue("fieldSequence",fieldSequenceArray);if(typeof s_parseDataLayerSetCustomValue!="undefined")s_parseDataLayerSetCustomValue("fieldSequenceFull",fieldSequenceArrayFull)}}var fieldLabelSection=s_parseDataLayer("pageId");if(fieldLabelSection.toLowerCase()==
"unknown pageid")fieldLabelSection=s_parseDataLayer("sectionId");if(fieldLabelSection.toLowerCase()=="unknown sectionid")fieldLabelSection=s_parseDataLayer("section");if(fieldLabelSection!=="")if(typeof s_parseDataLayerSetCustomValue!="undefined")s_parseDataLayerSetCustomValue("fieldSequenceSection",fieldLabelSection);var formFieldPathing=s_parseDataLayerCustomValue("formFieldPathing");var digitalDataFormName="";if(typeof digitalData!="undefined"&&typeof digitalData.form!="undefined"&&typeof digitalData.form.name!=
"undefined"&&digitalData.form.name)digitalDataFormName=digitalData.form.name;if(/true|yes|enabled|1/i.test(formFieldPathing)||/ciatesting/i.test(document.location.href)||/Online Credit Card Application/i.test(digitalDataFormName))if(fieldLabelShort!==""&&typeof addNewFormElement!="undefined"&&addNewFormElement===true){var fieldSequenceFormName=s_parseDataLayer("name");var fieldSequenceSection=s_parseDataLayerCustomValue("fieldSequenceSection");if(fieldSequenceSection===false)fieldSequenceSection=
"unknown section";var s=s_gi(s_account);s.linkTrackVars="prop9,prop35,eVar9,eVar23,eVar51,events";s.linkTrackEvents="";s.events="";s.prop35=fieldLabelShort+" ["+fieldSequenceSection+"|"+fieldSequenceFormName+"]";s.tl(this,"o","Form Field Used");s.prop35=""}}catch(err){return""}});function processFormSectionStep(){try{var fieldSequenceArray=s_parseDataLayerCustomValue("fieldSequence");var fieldSequenceFormName=s_parseDataLayer("name");var fieldSequenceSectionName=s_parseDataLayer("pageId");if(fieldSequenceSectionName.toLowerCase()==
"unknown pageid")fieldSequenceSectionName=s_parseDataLayer("sectionId");if(fieldSequenceSectionName.toLowerCase()=="unknown sectionid")fieldSequenceSectionName=s_parseDataLayer("section");var fieldSequenceString="";if(fieldSequenceArray!==false&&fieldSequenceArray!==""){fieldSequenceString=fieldSequenceArray.join("\x3e");var fieldSequenceSection=s_parseDataLayerCustomValue("fieldSequenceSection");if(fieldSequenceArray===false)fieldSequenceSection="unknown section";if(typeof s_formInteracted!="undefined"&&
s_formInteracted===true){var s=s_gi(s_account);s.linkTrackVars="prop9,prop34,eVar9,eVar23,eVar42,eVar51,events";s.linkTrackEvents="event59";s.events="event59";s.eVar42=fieldSequenceString+" ["+fieldSequenceSection+"|"+fieldSequenceFormName+"]";s.prop34="D\x3dv42";s.tl(this,"o","Form Field Sequence");s.prop34=s.eVar42=""}}s_parseDataLayerSetCustomValue("fieldSequence",["No fields entered"]);s_parseDataLayerSetCustomValue("fieldSequenceFull",["No fields entered"]);s_parseDataLayerSetCustomValue("fieldSequenceSection",
fieldSequenceSectionName)}catch(err){return""}}Bootstrapper.ensEvent.add("ensEvent - form - form-progressed",function(){var runFormSectionProcessing=true;try{var formNameCheck=s_parseDataLayer("name");var formActionCheck=s_parseDataLayer("action");if(/(business|financial) snapshot|migrant banking|REA Home Loan Conditional Approval|NAB Home Loan Conditional Approval/i.test(formNameCheck)){runFormSectionProcessing=false;if(/form-page-loaded/i.test(formActionCheck))runFormSectionProcessing=true}}catch(err){runFormSectionProcessing=
true}if(runFormSectionProcessing===true)setTimeout(processFormSectionStep,2E3)});Bootstrapper.ensEvent.add("ensEvent - form - form-page-loaded",function(){var waitTime=500;if(typeof s_formInteracted!="undefined"&&s_formInteracted===true)waitTime=2E3;setTimeout(processFormSectionStep,waitTime)});function processFormCompletedStep(){try{processFormSectionStep();var formAbandonFormName=s_parseDataLayer("name");if(formAbandonFormName.toLowerCase()!="unknown name")s_parseDataLayerSetCustomValue("formAbandonCompletedFormName",
formAbandonFormName)}catch(err){return""}}Bootstrapper.ensEvent.add("ensEvent - application-form2-complete",function(){processFormCompletedStep()});Bootstrapper.ensEvent.add("ensEvent - prospect-form-complete",function(){processFormCompletedStep()});Bootstrapper.ensEvent.add("ensEvent - lead-submitted",function(){processFormCompletedStep()})},3801376,419388)})},-1,-1);
Bootstrapper.bindImmediate(function(){var ddConditions={"not":[null],"caseInsensitive":["ignore case"],"compareTo":["enabled"],"requiredData":["66129"],"comparators":["is"]};Bootstrapper.data.resolve(ddConditions.requiredData,function(){ddConditions.values=Array.prototype.slice.call(arguments,0);var Bootstrapper=window["Bootstrapper"];if(Bootstrapper.data.checkConditions(ddConditions))Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;
function initialiseDetailedFormTracking(){if(_NABTags.ciaDebug=="true")console.log("Start initialiseDetailedFormTracking()");try{s_formInteracted=false;var currentTime=Math.round((new Date).getTime()/1E3);if(currentTime)s_parseDataLayerSetCustomValue("formStartTime",currentTime);var formAbandonFormName=s_parseDataLayer("name");if(formAbandonFormName.toLowerCase()=="unknown name")if(typeof digitalData!="undefined"&&typeof digitalData.form!="undefined"&&typeof digitalData.form.name!="undefined"&&digitalData.form.name)formAbandonFormName=
digitalData.form.name;if(formAbandonFormName.toLowerCase()!="unknown name")s_parseDataLayerSetCustomValue("formAbandonStartedFormName",formAbandonFormName);s_parseDataLayerSetCustomValue("fieldSequence",["No fields entered"]);s_parseDataLayerSetCustomValue("fieldSequenceFull",["No fields entered"]);var fieldSequenceSectionName=s_parseDataLayer("pageId");if(fieldSequenceSectionName.toLowerCase()=="unknown pageid")fieldSequenceSectionName=s_parseDataLayer("sectionId");if(fieldSequenceSectionName.toLowerCase()==
"unknown sectionid")fieldSequenceSectionName=s_parseDataLayer("section");s_parseDataLayerSetCustomValue("fieldSequenceSection",fieldSequenceSectionName);Bootstrapper.unobtrusiveAddEvent(window,"onbeforeunload",function(){var formAbandonStartedFormName=s_parseDataLayerCustomValue("formAbandonStartedFormName");if(formAbandonStartedFormName!==false){var formAbandonCompletedFormName=s_parseDataLayerCustomValue("formAbandonCompletedFormName");if(formAbandonCompletedFormName===false||formAbandonStartedFormName!=
formAbandonCompletedFormName){var fieldSequenceFormName=s_parseDataLayer("name");if(typeof fieldSequenceFormName!="undefined"&&fieldSequenceFormName=="unknown name")fieldSequenceFormName=formAbandonStartedFormName;var fieldSequenceSection=s_parseDataLayerCustomValue("fieldSequenceSection");if(fieldSequenceSection===false)fieldSequenceSection="unknown section";var fieldSequenceArray=s_parseDataLayerCustomValue("fieldSequence");var formAbandonFieldSequence="unknown field sequence";var lastFieldUsed=
"No fields entered";if(fieldSequenceArray!==false&&fieldSequenceArray!==""){formAbandonFieldSequence=fieldSequenceArray.join("\x3e");if(typeof fieldSequenceArray=="object"&&fieldSequenceArray.length!="undefined")lastFieldUsed=fieldSequenceArray[fieldSequenceArray.length-1]}var s=s_gi(s_account);s.linkTrackVars="prop9,prop34,eVar7,eVar9,eVar23,eVar42,eVar51,events";s.linkTrackEvents="event7";s.events="event7";s.eVar7=lastFieldUsed+" ["+fieldSequenceSection+"|"+fieldSequenceFormName+"]";s.eVar42=formAbandonFieldSequence+
" ["+fieldSequenceSection+"|"+fieldSequenceFormName+"]";s.prop34="D\x3dv42";s.tl(this,"o","Form Abandon");s.prop34=s.eVar7=s.eVar42=""}}})}catch(err){if(_NABTags.ciaDebug=="true")console.log("initialiseDetailedFormTracking() error:"+err);return""}}Bootstrapper.ensEvent.add("ensEvent - application-form2-start",function(){initialiseDetailedFormTracking()});Bootstrapper.ensEvent.add("ensEvent - prospect-form-start",function(){initialiseDetailedFormTracking()});var digitalDataFormName="";try{if(typeof digitalData!=
"undefined"&&typeof digitalData.form!="undefined"&&typeof digitalData.form.name!="undefined"&&digitalData.form.name)digitalDataFormName=digitalData.form.name;if(/Online Credit Card Application/i.test(digitalDataFormName))initialiseDetailedFormTracking()}catch(err){digitalDataFormName=""}Bootstrapper.ensEvent.add("ensEvent - form - field-started",function(){try{s_formInteracted=true;var fieldLabel=s_parseDataLayer("fieldId");if(fieldLabel.toLowerCase()=="unknown fieldid")fieldLabel=s_parseDataLayer("field");
fieldLabel=fieldLabel.replace(/^income/i,"inc");var fieldLabelShort=fieldLabel.substring(0,5).toLowerCase();if(s_parseDataLayerCustomValue("formFieldLength")){var field_length=s_parseDataLayerCustomValue("formFieldLength");fieldLabelShort=fieldLabel.substring(0,field_length).toLowerCase()}fieldLabelShort=fieldLabelShort.replace(/[^\w\s]|_/g,"").trim();if(/upgrade(.*)visa/i.test(s_parseDataLayer("name"))||/cc application|online credit card application/i.test(s_parseDataLayer("name"))){var iteration=
s_parseDataLayer("iteration");if(typeof iteration!="undefined"&&parseInt(iteration)>1){fieldLabel=fieldLabel+"-"+iteration;fieldLabelShort=fieldLabelShort+"-"+iteration}}var fieldSequenceArray=s_parseDataLayerCustomValue("fieldSequence");var fieldSequenceArrayFull=s_parseDataLayerCustomValue("fieldSequenceFull");if(typeof fieldSequenceArray=="undefined"||fieldSequenceArray===false||fieldSequenceArray===""||typeof fieldSequenceArray=="object"&&typeof fieldSequenceArray[0]!="undefined"&&fieldSequenceArray[0].toLowerCase()==
"no fields entered")fieldSequenceArray=[];if(typeof fieldSequenceArrayFull=="undefined"||fieldSequenceArrayFull===false||fieldSequenceArrayFull===""||typeof fieldSequenceArrayFull=="object"&&typeof fieldSequenceArrayFull[0]!="undefined"&&fieldSequenceArrayFull[0].toLowerCase()=="no fields entered")fieldSequenceArrayFull=[];if(fieldLabelShort!==""){var addNewFormElement=true;if(typeof fieldSequenceArrayFull=="object"&&fieldSequenceArrayFull.length>0&&fieldSequenceArrayFull[fieldSequenceArrayFull.length-
1]==fieldLabel)addNewFormElement=false;if(typeof addNewFormElement!="undefined"&&addNewFormElement===true){fieldSequenceArray.push(fieldLabelShort);fieldSequenceArrayFull.push(fieldLabel);if(typeof s_parseDataLayerSetCustomValue!="undefined")s_parseDataLayerSetCustomValue("fieldSequence",fieldSequenceArray);if(typeof s_parseDataLayerSetCustomValue!="undefined")s_parseDataLayerSetCustomValue("fieldSequenceFull",fieldSequenceArrayFull)}}var fieldLabelSection=s_parseDataLayer("pageId");if(fieldLabelSection.toLowerCase()==
"unknown pageid")fieldLabelSection=s_parseDataLayer("sectionId");if(fieldLabelSection.toLowerCase()=="unknown sectionid")fieldLabelSection=s_parseDataLayer("section");if(fieldLabelSection!=="")if(typeof s_parseDataLayerSetCustomValue!="undefined")s_parseDataLayerSetCustomValue("fieldSequenceSection",fieldLabelSection);var formFieldPathing=s_parseDataLayerCustomValue("formFieldPathing");var digitalDataFormName="";if(typeof digitalData!="undefined"&&typeof digitalData.form!="undefined"&&typeof digitalData.form.name!=
"undefined"&&digitalData.form.name)digitalDataFormName=digitalData.form.name;if(/true|yes|enabled|1/i.test(formFieldPathing)||/ciatesting/i.test(document.location.href)||/Online Credit Card Application/i.test(digitalDataFormName))if(fieldLabelShort!==""&&typeof addNewFormElement!="undefined"&&addNewFormElement===true){var fieldSequenceFormName=s_parseDataLayer("name");var fieldSequenceSection=s_parseDataLayerCustomValue("fieldSequenceSection");if(fieldSequenceSection===false)fieldSequenceSection=
"unknown section";var s=s_gi(s_account);s.linkTrackVars="prop9,prop35,eVar9,eVar23,eVar51,events";s.linkTrackEvents="";s.events="";s.prop35=fieldLabelShort+" ["+fieldSequenceSection+"|"+fieldSequenceFormName+"]";s.tl(this,"o","Form Field Used");s.prop35=""}}catch(err){return""}});function processFormSectionStep(){try{var fieldSequenceArray=s_parseDataLayerCustomValue("fieldSequence");var fieldSequenceFormName=s_parseDataLayer("name");var fieldSequenceSectionName=s_parseDataLayer("pageId");if(fieldSequenceSectionName.toLowerCase()==
"unknown pageid")fieldSequenceSectionName=s_parseDataLayer("sectionId");if(fieldSequenceSectionName.toLowerCase()=="unknown sectionid")fieldSequenceSectionName=s_parseDataLayer("section");var fieldSequenceString="";if(fieldSequenceArray!==false&&fieldSequenceArray!==""){fieldSequenceString=fieldSequenceArray.join("\x3e");var fieldSequenceSection=s_parseDataLayerCustomValue("fieldSequenceSection");if(fieldSequenceArray===false)fieldSequenceSection="unknown section";if(typeof s_formInteracted!="undefined"&&
s_formInteracted===true){var s=s_gi(s_account);s.linkTrackVars="prop9,prop34,eVar9,eVar23,eVar42,eVar51,events";s.linkTrackEvents="event59";s.events="event59";s.eVar42=fieldSequenceString+" ["+fieldSequenceSection+"|"+fieldSequenceFormName+"]";s.prop34="D\x3dv42";s.tl(this,"o","Form Field Sequence");s.prop34=s.eVar42=""}}s_parseDataLayerSetCustomValue("fieldSequence",["No fields entered"]);s_parseDataLayerSetCustomValue("fieldSequenceFull",["No fields entered"]);s_parseDataLayerSetCustomValue("fieldSequenceSection",
fieldSequenceSectionName)}catch(err){return""}}Bootstrapper.ensEvent.add("ensEvent - form - form-progressed",function(){var runFormSectionProcessing=true;try{var formNameCheck=s_parseDataLayer("name");var formActionCheck=s_parseDataLayer("action");if(/(business|financial) snapshot|migrant banking|REA Home Loan Conditional Approval|NAB Home Loan Conditional Approval/i.test(formNameCheck)){runFormSectionProcessing=false;if(/form-page-loaded/i.test(formActionCheck))runFormSectionProcessing=true}}catch(err){runFormSectionProcessing=
true}if(runFormSectionProcessing===true)setTimeout(processFormSectionStep,2E3)});Bootstrapper.ensEvent.add("ensEvent - form - form-page-loaded",function(){var waitTime=500;if(typeof s_formInteracted!="undefined"&&s_formInteracted===true)waitTime=2E3;setTimeout(processFormSectionStep,waitTime)});function processFormCompletedStep(){try{processFormSectionStep();var formAbandonFormName=s_parseDataLayer("name");if(formAbandonFormName.toLowerCase()!="unknown name")s_parseDataLayerSetCustomValue("formAbandonCompletedFormName",
formAbandonFormName)}catch(err){return""}}Bootstrapper.ensEvent.add("ensEvent - application-form2-complete",function(){processFormCompletedStep()});Bootstrapper.ensEvent.add("ensEvent - prospect-form-complete",function(){processFormCompletedStep()});Bootstrapper.ensEvent.add("ensEvent - lead-submitted",function(){processFormCompletedStep()})},3801376,419388)})},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - form - form-page-loaded",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event1";s.pageName=function anon(){try{if(typeof s.parseDataLayer("section")=="string"&&s.parseDataLayer("section")!="unknown section"){var section=s.parseDataLayer("section").replace(/\s+/g,"-");return digitalData.page.pageInfo.pageName.replace(/:start$/,
"").replace(/:privacy$/,"")+":"+section}else if(s.parseDataLayer("page")!="unknown page")return digitalData.page.pageInfo.pageName.replace(/:start$/,"")+":"+s.parseDataLayer("page").replace(/\s+/g,"-");else if(s.parseDataLayer("pageId")!="unknown pageId")return digitalData.page.pageInfo.pageName.replace(/:start$/,"")+":"+s.parseDataLayer("pageId").replace(/\s+/g,"-");else return digitalData.page.pageInfo.pageName.replace(/:start$/,"")+":unknown-page"}catch(err){return""}}.call(this);s.eVar19=function anon(){if(typeof window.sc_customer_type!=
"undefined")return window.sc_customer_type;else return""}.call(this);s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="pageName,events,eVar19";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event1";s.t();s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},2735114,411843);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - view-module",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event1";s.prop9="D\x3dpageName";s.eVar9="D\x3dpageName";s.pageName=function anon(){var module="";var pageName="";try{if(typeof window.digitalData.page.pageInfo.pageName==="string")pageName=window.digitalData.page.pageInfo.pageName;if(typeof s_parseDataLayer===
"function")if(s_parseDataLayer("name")!="unknown name"){module=s_parseDataLayer("name");pageName=pageName+":"+module}return pageName}catch(err){return""}}.call(this);s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="prop9,eVar9,events,pageName";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event1";s.t();s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},2980204,604635);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var formErrorTracking="";try{if(typeof window.digitalData!="undefined"&&typeof window.digitalData.page!="undefined"&&typeof window.digitalData.page.pageInfo!="undefined"&&typeof window.digitalData.page.pageInfo.customValues!="undefined"&&typeof window.digitalData.page.pageInfo.customValues.formErrorTracking!=
"undefined"){formErrorTracking=window.digitalData.page.pageInfo.customValues.formErrorTracking;var formErrorTrackingValidValues=/true|yes|enabled|1/i;if(formErrorTrackingValidValues.test(formErrorTracking))return"enabled";else return""}else return""}catch(err){return""}},transform:function(val){return val},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"DDL - CV - Form Error Tracking",collection:"Digital Data Layer",source:"Manage",priv:"false"},{id:"24917"})},24917)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - expand-accordion",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event43";s.eVar65=function anon(){if(s.parseDataLayer("section")!="unknown section")return"expand-accordion:"+s.parseDataLayer("section")+":"+s.parseDataLayer("heading");else return"expand-accordion:"+s.parseDataLayer("heading")}.call(this);
s.prop65="D\x3dv65";s.prop9="D\x3dpageName";s.eVar9="D\x3dpageName";s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="eVar65,prop65,prop9,eVar9,events";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event43";s.tl(this,"o","expand-accordion");s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},3936065,334373);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;if(typeof Visitor!="undefined")window.Visitor=Visitor;var e=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n,e}function n(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,i=this;return function(){i.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=void 0===t?[]:t,t=t instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,
t){(t||e&&!j.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var n=void 0!==e[t]?e[t]:"";this.execute(t,n)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function i(e,t,n){var i=null==e?void 0:e[t];return void 0===i?n:i}function r(e){for(var t=/^\d+$/,n=0,i=e.length;n<i;n++)if(!t.test(e[n]))return!1;return!0}function a(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var n=0;n<e.length;n++){var i=
parseInt(e[n],10),r=parseInt(t[n],10);if(i>r)return 1;if(r>i)return-1}return 0}function s(e,t){if(e===t)return 0;var n=e.toString().split("."),i=t.toString().split(".");return r(n.concat(i))?(a(n,i),o(n,i)):NaN}function l(e){return e===Object(e)&&0===Object.keys(e).length}function c(e){return"function"==typeof e||e instanceof Array&&e.length}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=
_e("log",e,t),this.warn=_e("warn",e,t),this.error=_e("error",e,t)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isEnabled,n=e.cookieName,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.cookies;return t&&n&&r?{remove:function(){r.remove(n)},get:function(){var e=r.get(n),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{},r.set(n,JSON.stringify(e),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419E4,expires:!0})}}:
{get:Le,set:Le,remove:Le}}function f(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error(e)).stack}function p(){function e(e,t){var n=Se(e);return n.length?n.every(function(e){return!!t[e]}):De(t)}function t(){M(b),O(ce.COMPLETE),_(h.status,h.permissions),m.set(h.permissions,{optInCookieDomain:l,optInStorageExpiry:c}),C.execute(xe)}function n(e){return function(n,i){if(!Ae(n))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");
return O(ce.CHANGED),Object.assign(b,ye(Se(n),e)),i||t(),h}}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.doesOptInApply,a=i.previousPermissions,o=i.preOptInApprovals,s=i.isOptInStorageEnabled,l=i.optInCookieDomain,c=i.optInStorageExpiry,u=i.isIabContext,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=f.cookies,g=Pe(a);Re(g,"Invalid `previousPermissions`!"),Re(o,"Invalid `preOptInApprovals`!");var m=d({isEnabled:!!s,cookieName:"adobeujs-optin"},{cookies:p}),h=this,
_=le(h),C=ge(),I=Me(g),v=Me(o),S=m.get(),D={},A=function(e,t){return ke(e)||t&&ke(t)?ce.COMPLETE:ce.PENDING}(I,S),y=function(e,t,n){var i=ye(pe,!r);return r?Object.assign({},i,e,t,n):i}(v,I,S),b=be(y),O=function(e){return A=e},M=function(e){return y=e};h.deny=n(!1),h.approve=n(!0),h.denyAll=h.deny.bind(h,pe),h.approveAll=h.approve.bind(h,pe),h.isApproved=function(t){return e(t,h.permissions)},h.isPreApproved=function(t){return e(t,v)},h.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==
arguments[1]&&arguments[1],n=t?h.on(ce.COMPLETE,e):Le;return!r||r&&h.isComplete||!!o?e(h.permissions):t||C.add(xe,function(){return e(h.permissions)}),n},h.complete=function(){h.status===ce.CHANGED&&t()},h.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(je);D[e.name]||(D[e.name]=e,e.onRegister.call(e,h))},h.execute=Ne(D),Object.defineProperties(h,{permissions:{get:function(){return y}},status:{get:function(){return A}},Categories:{get:function(){return ue}},
doesOptInApply:{get:function(){return!!r}},isPending:{get:function(){return h.status===ce.PENDING}},isComplete:{get:function(){return h.status===ce.COMPLETE}},__plugins:{get:function(){return Object.keys(D)}},isIabContext:{get:function(){return u}}})}function g(e,t){function n(){r=null,e.call(e,new f("The call took longer than you wanted!"))}function i(){r&&(clearTimeout(r),e.apply(e,arguments))}if(void 0===t)return e;var r=setTimeout(n,t);return i}function m(){if(window.__cmp)return window.__cmp;
var e=window;if(e===window.top)return void Ie.error("__cmp not found");for(var t;!t;){e=e.parent;try{e.frames.__cmpLocator&&(t=e)}catch(e){}if(e===window.top)break}if(!t)return void Ie.error("__cmp not found");var n={};return window.__cmp=function(e,i,r){var a=Math.random()+"",o={__cmpCall:{command:e,parameter:i,callId:a}};n[a]=r,t.postMessage(o,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__cmpReturn){var i=t.__cmpReturn;
n[i.callId]&&(n[i.callId](i.returnValue,i.success),delete n[i.callId])}},!1),window.__cmp}function h(){var e=this;e.name="iabPlugin",e.version="0.0.1";var t=ge(),n={allConsentData:null},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n[e]=t};e.fetchConsentData=function(e){var t=e.callback,n=e.timeout,i=g(t,n);r({callback:i})},e.isApproved=function(e){var t=e.callback,i=e.category,a=e.timeout;if(n.allConsentData)return t(null,s(i,n.allConsentData.vendorConsents,
n.allConsentData.purposeConsents));var o=g(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.vendorConsents,a=n.purposeConsents;t(e,s(i,r,a))},a);r({category:i,callback:o})},e.onRegister=function(t){var n=Object.keys(de),i=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.purposeConsents,a=i.gdprApplies,o=i.vendorConsents;!e&&a&&o&&r&&(n.forEach(function(e){var n=s(e,o,r);t[n?"approve":"deny"](e,!0)}),t.complete())};e.fetchConsentData({callback:i})};
var r=function(e){var r=e.callback;if(n.allConsentData)return r(null,n.allConsentData);t.add("FETCH_CONSENT_DATA",r);var s={};o(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.purposeConsents,o=e.gdprApplies,l=e.vendorConsents;(arguments.length>1?arguments[1]:void 0)&&(s={purposeConsents:r,gdprApplies:o,vendorConsents:l},i("allConsentData",s)),a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(arguments.length>1?arguments[1]:void 0)&&(s.consentString=
e.consentData,i("allConsentData",s)),t.execute("FETCH_CONSENT_DATA",[null,n.allConsentData])})})},a=function(e){var t=m();t&&t("getConsentData",null,e)},o=function(e){var t=Fe(de),n=m();n&&n("getVendorConsents",t,e)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!!t[de[e]];return i&&function(){return fe[e].every(function(e){return n[e]})}()}}var _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?
window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,i=1;i<arguments.length;++i){n=arguments[i];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e};var C,I,v={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},S={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},D={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",
MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},A={CUSTOMERIDS:"getCustomerIDs"},y={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},b={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},O={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},
M={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},k={GLOBAL:"global"},E={MESSAGES:v,STATE_KEYS_MAP:S,ASYNC_API_MAP:D,SYNC_API_MAP:A,ALL_APIS:y,FIELDGROUP_TO_FIELD:b,FIELDS:O,AUTH_STATE:M,OPT_OUT:k},T=E.STATE_KEYS_MAP,L=function(e){function t(){}function n(t,n){var i=this;return function(){var r=e(0,t),a={};return a[t]=r,i.setStateAndPublish(a),n(r),r}}this.getMarketingCloudVisitorID=function(e){e=e||t;var i=this.findField(T.MCMID,e),r=n.call(this,T.MCMID,e);return void 0!==i?i:r()},this.getVisitorValues=
function(e){this.getMarketingCloudVisitorID(function(t){e({MCMID:t})})}},P=E.MESSAGES,R=E.ASYNC_API_MAP,w=E.SYNC_API_MAP,F=function(){function e(){}function t(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(P.GETSTATE),""}}function n(n){this[R[n]]=function(i){i=i||e;var r=this.findField(n,i),a=t.call(this,n,i);return void 0!==r?r:a()}}function i(t){this[w[t]]=function(){return this.findField(t,e)||{}}}Object.keys(R).forEach(n,this),Object.keys(w).forEach(i,this)},
N=E.ASYNC_API_MAP,x=function(){Object.keys(N).forEach(function(e){this[N[e]]=function(t){this.callbackRegistry.add(e,t)}},this)},j=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(t,n){n.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},n.isValueEmpty=function(e){return""===e||n.isObjectEmpty(e)},n.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;e>4;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+
e+"]\x3e\x3cspan\x3e\x3c/span\x3e\x3c![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e;t=null}return null},n.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},n.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},n.defineGlobalNamespace=function(){return window.adobe=n.isObject(window.adobe)?window.adobe:{},window.adobe},n.pluck=function(e,t){return t.reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},Object.create(null))},n.parseOptOut=
function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var i=parseInt(e.d_ottl,10);return isNaN(i)&&(i=7200),{optOut:t,d_ottl:i}},n.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}}),V=(j.isObjectEmpty,j.isValueEmpty,j.getIeVersion,j.encodeAndBuildRequest,j.isObject,j.defineGlobalNamespace,j.pluck,j.parseOptOut,j.normalizeBoolean,n),H=E.MESSAGES,U={0:"prefix",1:"orgID",2:"state"},B=function(e,t){this.parse=function(e){try{var t=
{};return e.data.split("|").forEach(function(e,n){if(void 0!==e)t[U[n]]=2!==n?e:JSON.parse(e)}),t}catch(e){}},this.isInvalid=function(n){var i=this.parse(n);if(!i||Object.keys(i).length<2)return!0;var r=e!==i.orgID,a=!t||n.origin!==t,o=-1===Object.keys(H).indexOf(i.prefix);return r||a||o},this.send=function(n,i,r){var a=i+"|"+e;r&&r===Object(r)&&(a+="|"+JSON.stringify(r));try{n.postMessage(a,t)}catch(e){}}},G=E.MESSAGES,Y=function(e,t,n,i){function r(e){Object.assign(p,e)}function a(e){Object.assign(p.state,
e),Object.assign(p.state.ALLFIELDS,e),p.callbackRegistry.executeAll(p.state)}function o(e){if(!h.isInvalid(e)){m=!1;var t=h.parse(e);p.setStateAndPublish(t.state)}}function s(e){!m&&g&&(m=!0,h.send(i,e))}function l(){r(new L(n._generateID)),p.getMarketingCloudVisitorID(),p.callbackRegistry.executeAll(p.state,!0),_.removeEventListener("message",c)}function c(e){if(!h.isInvalid(e)){var t=h.parse(e);m=!1,_.clearTimeout(p._handshakeTimeout),_.removeEventListener("message",c),r(new F(p)),_.addEventListener("message",
o),p.setStateAndPublish(t.state),p.callbackRegistry.hasCallbacks()&&s(G.GETSTATE)}}function u(){g&&postMessage?(_.addEventListener("message",c),s(G.HANDSHAKE),p._handshakeTimeout=setTimeout(l,250)):l()}function d(){_.s_c_in||(_.s_c_il=[],_.s_c_in=0),p._c="Visitor",p._il=_.s_c_il,p._in=_.s_c_in,p._il[p._in]=p,_.s_c_in++}function f(){function e(e){0!==e.indexOf("_")&&"function"==typeof n[e]&&(p[e]=function(){})}Object.keys(n).forEach(e),p.getSupplementalDataID=n.getSupplementalDataID,p.isAllowed=function(){return!0}}
var p=this,g=t.whitelistParentDomain;p.state={ALLFIELDS:{}},p.version=n.version,p.marketingCloudOrgID=e,p.cookieDomain=n.cookieDomain||"",p._instanceType="child";var m=!1,h=new B(e,g);p.callbackRegistry=V(),p.init=function(){d(),f(),r(new x(p)),u()},p.findField=function(e,t){if(void 0!==p.state[e])return t(p.state[e]),p.state[e]},p.messageParent=s,p.setStateAndPublish=a},q=E.MESSAGES,X=E.ALL_APIS,W=E.ASYNC_API_MAP,J=E.FIELDGROUP_TO_FIELD,K=function(e,t){function n(){var t={};return Object.keys(X).forEach(function(n){var i=
X[n],r=e[i]();j.isValueEmpty(r)||(t[n]=r)}),t}function i(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(n){if(e._loading[n]){var i=J[n];t.push(i)}}),t.length?t:null}function r(t){return function n(r){var a=i();if(a){var o=W[a[0]];e[o](n,!0)}else t()}}function a(e,i){var r=n();t.send(e,i,r)}function o(e){l(e),a(e,q.HANDSHAKE)}function s(e){r(function(){a(e,q.PARENTSTATE)})()}function l(n){function i(i){r.call(e,i),t.send(n,q.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var r=
e.setCustomerIDs;e.setCustomerIDs=i}return function(e){if(!t.isInvalid(e))(t.parse(e).prefix===q.HANDSHAKE?o:s)(e.source)}},z=function(e,t){function n(e){return function(n){i[e]=n,r++,r===a&&t(i)}}var i={},r=0,a=Object.keys(e).length;Object.keys(e).forEach(function(t){var i=e[t];if(i.fn){var r=i.args||[];r.unshift(n(t)),i.fn.apply(i.context||null,r)}})},Q={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"\x3d"),i=n<0?n:t.indexOf(";",n+1);
return n<0?"":decodeURIComponent(t.substring(n+2+e.length,i<0?t.length:i))},set:function(e,t,n){var r=i(n,"cookieLifetime"),a=i(n,"expires"),o=i(n,"domain"),s=i(n,"secure"),l=s?"Secure":"";if(a&&"SESSION"!==r&&"NONE"!==r){var c=""!==t?parseInt(r||0,10):-60;if(c)a=new Date,a.setTime(a.getTime()+1E3*c);else if(1===a){a=new Date;var u=a.getYear();a.setYear(u+2+(u<1900?1900:0))}}else a=0;return e&&"NONE"!==r?(document.cookie=encodeURIComponent(e)+"\x3d"+encodeURIComponent(t)+"; path\x3d/;"+(a?" expires\x3d"+
a.toGMTString()+";":"")+(o?" domain\x3d"+o+";":"")+l,this.get(e)===t):0},remove:function(e,t){var n=i(t,"domain");n=n?" domain\x3d"+n+";":"",document.cookie=encodeURIComponent(e)+"\x3d; Path\x3d/; Expires\x3dThu, 01 Jan 1970 00:00:01 GMT;"+n}},$=function(e){var t;!e&&_.location&&(e=_.location.hostname),t=e;var n,i=t.split(".");for(n=i.length-2;n>=0;n--)if(t=i.slice(n).join("."),Q.set("test","cookie",{domain:t}))return Q.remove("test",{domain:t}),t;return""},Z={compare:s,isLessThan:function(e,t){return s(e,
t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}},ee=!!_.postMessage,te={postMessage:function(e,t,n){var i=1;t&&(ee?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+i++ +"\x26"+e))},receiveMessage:function(e,t){var n;try{ee&&(e&&(n=function(n){if("string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin))return!1;
e(n)}),_.addEventListener?_[e?"addEventListener":"removeEventListener"]("message",n):_[e?"attachEvent":"detachEvent"]("onmessage",n))}catch(e){}}},ne=function(e){var t,n,i="0123456789",r="",a="",o=8,s=10,l=10;if(1==e){for(i+="ABCDEF",t=0;16>t;t++)n=Math.floor(Math.random()*o),r+=i.substring(n,n+1),n=Math.floor(Math.random()*o),a+=i.substring(n,n+1),o=16;return r+"-"+a}for(t=0;19>t;t++)n=Math.floor(Math.random()*s),r+=i.substring(n,n+1),0===t&&9==n?s=3:(1==t||2==t)&&10!=s&&2>n?s=10:2<t&&(s=10),n=Math.floor(Math.random()*
l),a+=i.substring(n,n+1),0===t&&9==n?l=3:(1==t||2==t)&&10!=l&&2>n?l=10:2<t&&(l=10);return r+a},ie=function(e,t){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(_.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),
getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new _[this.corsMetadata.corsType]},fireCORS:function(t,n,i){function r(e){var n;try{if((n=JSON.parse(e))!==Object(n))return void a.handleCORSError(t,null,"Response is not JSON")}catch(e){return void a.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var i=t.callback,r=_,o=0;o<i.length;o++)r=r[i[o]];r(n)}catch(e){a.handleCORSError(t,e,"Error forming callback function")}}var a=this;n&&(t.loadErrorHandler=n);try{var o=
this.getCORSInstance();o.open("get",t.corsUrl+"\x26ts\x3d"+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(o.withCredentials=!0,o.timeout=e.loadTimeout,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===this.readyState&&200===this.status&&r(this.responseText)}),o.onerror=function(e){a.handleCORSError(t,e,"onerror")},o.ontimeout=function(e){a.handleCORSError(t,e,"ontimeout")},o.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,
e,"try-catch")}},handleCORSError:function(t,n,i){e.CORSErrors.push({corsData:t,error:n,description:i}),t.loadErrorHandler&&("ontimeout"===i?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},re={POST_MESSAGE_ENABLED:!!_.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864E5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},ae=function(e,
t){var n=_.document;return{THROTTLE_START:3E4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,i="http://fast.",r="?d_nsid\x3d"+e.idSyncContainerID+"#"+encodeURIComponent(n.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(i=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=i+this.subdomain+
".demdex.net/dest5.html"+r,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid\x3d"+e.idSyncContainerID+"#"+encodeURIComponent(n.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+
t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:re.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,
readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){r=n.createElement("iframe"),r.sandbox="allow-scripts allow-same-origin",
r.title="Adobe ID Syncing iFrame",r.id=i.id,r.name=i.id+"_name",r.style.cssText="display: none; width: 0; height: 0;",r.src=i.url,i.newIframeCreated=!0,t(),n.body.appendChild(r)}function t(e){r.addEventListener("load",function(){r.className="aamIframeLoaded",i.iframeHasLoaded=!0,i.fireIframeLoadedCallbacks(e),i.requestToProcess()})}this.startedAttachingIframe=!0;var i=this,r=n.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==
r.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=r,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=r},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach(function(t){"function"==
typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function n(){r.jsonForComparison.push(t),r.jsonWaiting.push(t),r.processSyncOnPage(t)}var i,r=this;if(t===Object(t)&&t.ibs)if(i=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var a,o,s,l=!1;for(a=0,o=this.jsonForComparison.length;a<o;a++)if(s=this.jsonForComparison[a],i===JSON.stringify(s.ibs||[])){l=!0;break}l?this.jsonDuplicates.push(t):
n()}else n();if((this.receivedThirdPartyCookiesNotification||!re.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){r.messageSendingInterval=re.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},
getRegionAndCheckIfChanged:function(t,n){var i=e._getField("MCAAMLH"),r=t.d_region||t.dcs_region;return i?r&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",r),parseInt(i,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),i=r)):(i=r)&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",i)),i||(i=""),i},processSyncOnPage:function(e){var t,n,i,r;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(i=0;i<n;i++)r=t[i],r.syncOnPage&&this.checkFirstPartyCookie(r,
"","syncOnPage")},process:function(e){var t,n,i,r,a,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,i=0;i<n;i++)r=t[i],a=[o("ibs"),o(r.id||""),o(r.tag||""),j.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(a.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,a.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,n,i){var r="syncOnPage"===i,
a=r?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,s,l=e._getField(a),c=!1,u=!1,d=Math.ceil((new Date).getTime()/re.MILLIS_PER_DAY);l?(o=l.split("*"),s=this.pruneSyncData(o,t.id,d),c=s.dataPresent,u=s.dataValid,c&&u||this.fireSync(r,t,n,o,a,d)):(o=[],this.fireSync(r,t,n,o,a,d))},pruneSyncData:function(e,t,n){var i,r,a,o=!1,s=!1;for(r=0;r<e.length;r++)i=e[r],a=parseInt(i.split("-")[1],10),i.match("^"+t+"-")?(o=!0,n<a?s=!0:(e.splice(r,1),r--)):n>=a&&(e.splice(r,1),r--);return{dataPresent:o,dataValid:s}},
manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,n,i,r,a,o){var s=this;if(t){if("img"===n.tag){var l,c,u,d,f=n.url,p=e.loadSSL?"https:":"http:";for(l=0,c=f.length;l<c;l++){u=f[l],d=/^\/\//.test(u);var g=new Image;g.addEventListener("load",function(t,n,i,r){return function(){s.onPagePixels[t]=null,e._readVisitor();
var o,l=e._getField(a),c=[];if(l){o=l.split("*");var u,d,f;for(u=0,d=o.length;u<d;u++)f=o[u],f.match("^"+n.id+"-")||c.push(f)}s.setSyncTrackingData(c,n,i,r)}}(this.onPagePixels.length,n,a,o)),g.src=(d?p:"")+u,this.onPagePixels.push(g)}}}else this.addMessage(i),this.setSyncTrackingData(r,n,a,o)},addMessage:function(t){var n=encodeURIComponent,i=n(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((re.POST_MESSAGE_ENABLED?"":i)+t)},setSyncTrackingData:function(t,n,i,r){t.push(n.id+
"-"+(r+Math.ceil(n.ttl/60/24))),this.manageSyncsSize(t),e._setField(i,t.join("*"))},sendMessages:function(){var e,t=this,n="",i=encodeURIComponent;this.regionChanged&&(n=i("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?re.POST_MESSAGE_ENABLED?(e=n+i("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):
this.sendingMessages=!1},postMessage:function(e){te.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&(t=e.replace(n,"").split("|"),"canSetThirdPartyCookies"===t[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(i){(null==this.url||i.subdomain&&"nosubdomainreturned"===
this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=i.subdomain||"",this.url=this.getUrl()),i.ibs instanceof Array&&i.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===n.readyState||"loaded"===n.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(i):this.requestToProcess(i),"function"==typeof e.idSyncAfterIDCallResult&&
e.idSyncAfterIDCallResult(i)},canMakeSyncIDCall:function(t,n){return e._forceSyncIDCall||!t||n-t>re.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(n.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},oe={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},discardTrackingServerECID:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},
idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},
trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},se={getConfigNames:function(){return Object.keys(oe)},getConfigs:function(){return oe},normalizeConfig:function(e){return"function"!=typeof e?e:e()}},le=function(e){var t={};return e.on=function(e,n,i){if(!n||"function"!=typeof n)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var r=t[e].push({callback:n,context:i})-1;return function(){t[e].splice(r,1),t[e].length||delete t[e]}},
e.off=function(e,n){t.hasOwnProperty(e)&&(t[e]=t[e].filter(function(e){if(e.callback!==n)return e}))},e.publish=function(e){if(t.hasOwnProperty(e)){var n=[].slice.call(arguments,1);t[e].slice(0).forEach(function(e){e.callback.apply(e.context,n)})}},e.publish},ce={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},ue={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",VIDEO_ANALYTICS:"videoaa"},de=(C={},t(C,ue.AAM,565),t(C,ue.ECID,565),
C),fe=(I={},t(I,ue.AAM,[1,2,5]),t(I,ue.ECID,[1,2,5]),I),pe=function(e){return Object.keys(e).map(function(t){return e[t]})}(ue),ge=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,n){if(!c(n))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var i=e.callbacks[t].push(n)-1;return function(){e.callbacks[t].splice(i,1)}},e.execute=function(t,n){if(e.callbacks[t]){n=void 0===n?[]:n,n=n instanceof
Array?n:[n];try{for(;e.callbacks[t].length;){var i=e.callbacks[t].shift();"function"==typeof i?i.apply(null,n):i instanceof Array&&i[1].apply(i[0],n)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,n){(n||t&&!l(t))&&Object.keys(e.callbacks).forEach(function(n){var i=void 0!==t[n]?t[n]:"";e.execute(n,i)},e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},me=function(){},he=function(e){var t=window,n=t.console;return!!n&&"function"==typeof n[e]},_e=function(e,
t,n){return n()?function(){if(he(e)){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];console[e].apply(console,[t].concat(i))}}:me},Ce=u,Ie=new Ce("[ADOBE OPT-IN]"),ve=function(t,n){return e(t)===n},Se=function(e,t){return e instanceof Array?e:ve(e,"string")?[e]:t||[]},De=function(e){var t=Object.keys(e);return!!t.length&&t.every(function(t){return!0===e[t]})},Ae=function(e){return!(!e||Oe(e))&&Se(e).every(function(e){return pe.indexOf(e)>-1})},ye=function(e,t){return e.reduce(function(e,
n){return e[n]=t,e},{})},be=function(e){return JSON.parse(JSON.stringify(e))},Oe=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},Me=function(e){if(Te(e))return e;try{return JSON.parse(e)}catch(e){return{}}},ke=function(e){return void 0===e||(Te(e)?Ae(Object.keys(e)):Ee(e))},Ee=function(e){try{var t=JSON.parse(e);return!!e&&ve(e,"string")&&Ae(Object.keys(t))}catch(e){return!1}},Te=function(e){return null!==e&&ve(e,"object")&&!1===Array.isArray(e)},Le=function(){},
Pe=function(e){return ve(e,"function")?e():e},Re=function(e,t){ke(e)||Ie.error("".concat(t))},we=function(e){return Object.keys(e).map(function(t){return e[t]})},Fe=function(e){return we(e).filter(function(e,t,n){return n.indexOf(e)===t})},Ne=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.command,i=t.params,r=void 0===i?{}:i,a=t.callback,o=void 0===a?Le:a;if(!n||-1===n.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");
try{var s=n.split("."),l=e[s[0]],c=s[1];if(!l||"function"!=typeof l[c])throw new Error("Make sure the plugin and API name exist.");var u=Object.assign(r,{callback:o});l[c].call(l,u)}catch(e){Ie.error("[execute] Something went wrong: "+e.message)}}};f.prototype=Object.create(Error.prototype),f.prototype.constructor=f;var xe="fetchPermissions",je="[OptIn#registerPlugin] Plugin is invalid.";p.Categories=ue,p.TimeoutError=f;var Ve=Object.freeze({OptIn:p,IabPlugin:h}),He=function(e,t){e.publishDestinations=
function(n){var i=arguments[1],r=arguments[2];try{r="function"==typeof r?r:n.callback}catch(e){r=function(){}}var a=t;if(!a.readyToAttachIframePreliminary())return void r({error:"The destination publishing iframe is disabled in the Visitor library."});if("string"==typeof n){if(!n.length)return void r({error:"subdomain is not a populated string."});if(!(i instanceof Array&&i.length))return void r({error:"messages is not a populated array."});var o=!1;if(i.forEach(function(e){"string"==typeof e&&e.length&&
(a.addMessage(e),o=!0)}),!o)return void r({error:"None of the messages are populated strings."})}else{if(!j.isObject(n))return void r({error:"Invalid parameters passed."});var s=n;if("string"!=typeof(n=s.subdomain)||!n.length)return void r({error:"config.subdomain is not a populated string."});var l=s.urlDestinations;if(!(l instanceof Array&&l.length))return void r({error:"config.urlDestinations is not a populated array."});var c=[];l.forEach(function(e){j.isObject(e)&&(e.hideReferrer?e.message&&
a.addMessage(e.message):c.push(e))});!function e(){c.length&&setTimeout(function(){var t=new Image,n=c.shift();t.src=n.url,a.onPageDestinationsFired.push(n),e()},100)}()}a.iframe?(r({message:"The destination publishing iframe is already attached and loaded."}),a.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(a.subdomain=n,a.doAttachIframe=!0,a.url=a.getUrl(),a.readyToAttachIframe()?(a.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+
(e.message||"no result")})}),a.attachIframe()):r({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):a.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}},Ue=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var i,r,a=Math.pow,o=a(2,32),s="",l=[],c=8*t.length,u=e.h=e.h||[],d=e.k=e.k||
[],f=d.length,p={},g=2;f<64;g++)if(!p[g]){for(i=0;i<313;i+=g)p[i]=g;u[f]=a(g,.5)*o|0,d[f++]=a(g,1/3)*o|0}for(t+="\u0080";t.length%64-56;)t+="\x00";for(i=0;i<t.length;i++){if((r=t.charCodeAt(i))>>8)return;l[i>>2]|=r<<(3-i)%4*8}for(l[l.length]=c/o|0,l[l.length]=c,r=0;r<l.length;){var m=l.slice(r,r+=16),h=u;for(u=u.slice(0,8),i=0;i<64;i++){var _=m[i-15],C=m[i-2],I=u[0],v=u[4],S=u[7]+(n(v,6)^n(v,11)^n(v,25))+(v&u[5]^~v&u[6])+d[i]+(m[i]=i<16?m[i]:m[i-16]+(n(_,7)^n(_,18)^_>>>3)+m[i-7]+(n(C,17)^n(C,19)^
C>>>10)|0);u=[S+((n(I,2)^n(I,13)^n(I,22))+(I&u[1]^I&u[2]^u[1]&u[2]))|0].concat(u),u[4]=u[4]+S|0}for(i=0;i<8;i++)u[i]=u[i]+h[i]|0}for(i=0;i<8;i++)for(r=3;r+1;r--){var D=u[i]>>8*r&255;s+=(D<16?0:"")+D.toString(16)}return s},Be=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Ue(e)),e},Ge=function(e){return String(e).trim().toLowerCase()},Ye=Ve.OptIn;j.defineGlobalNamespace(),window.adobe.OptInCategories=Ye.Categories;var qe=function(t,n,i){function r(e){var t=e;return function(e){var n=
e||v.location.href;try{var i=g._extractParamFromUri(n,t);if(i)return w.parsePipeDelimetedKeyValues(i)}catch(e){}}}function a(e){function t(e,t,n){e&&e.match(re.VALID_VISITOR_ID_REGEX)&&(n===A&&(I=!0),t(e))}t(e[A],g.setMarketingCloudVisitorID,A),g._setFieldExpire(k,-1),t(e[O],g.setAnalyticsVisitorID)}function o(e){e=e||{},g._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",g._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},g._supplementalDataIDLast=e.supplementalDataIDLast||
"",g._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function s(e){function t(e,t,n){return n=n?n+="|":n,n+=e+"\x3d"+encodeURIComponent(t)}function n(e,n){var i=n[0],r=n[1];return null!=r&&r!==T&&(e=t(i,r,e)),e}var i=e.reduce(n,"");return function(e){var t=w.getTimestampInSeconds();return e=e?e+="|":e,e+="TS\x3d"+t}(i)}function l(e){var t=e.minutesToLive,n="";return(g.idSyncDisableSyncs||g.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||
(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}function c(){return!!g.configs.doesOptInApply&&!(m.optIn.isComplete&&u())}function u(){return g.configs.isIabContext?m.optIn.isApproved(m.optIn.Categories.ECID)&&C:m.optIn.isApproved(m.optIn.Categories.ECID)}function d(e,t){if(C=!0,e)throw new Error("[IAB plugin] : "+
e);t.gdprApplies&&(h=t.consentString),g.init(),p()}function f(){m.optIn.isApproved(m.optIn.Categories.ECID)&&(g.configs.isIabContext?m.optIn.execute({command:"iabPlugin.fetchConsentData",callback:d}):(g.init(),p()))}function p(){m.optIn.off("complete",f)}if(!i||i.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var g=this,m=window.adobe,h="",C=!1,I=!1;g.version="4.4.0";var v=_,S=v.Visitor;S.version=g.version,S.AuthState=E.AUTH_STATE,S.OptOut=
E.OPT_OUT,v.s_c_in||(v.s_c_il=[],v.s_c_in=0),g._c="Visitor",g._il=v.s_c_il,g._in=v.s_c_in,g._il[g._in]=g,v.s_c_in++,g._instanceType="regular",g._log={requests:[]},g.marketingCloudOrgID=t,g.cookieName="AMCV_"+t,g.sessionCookieName="AMCVS_"+t,g.cookieDomain=$(),g.loadSSL=v.location.protocol.toLowerCase().indexOf("https")>=0,g.loadTimeout=3E4,g.CORSErrors=[],g.marketingCloudServer=g.audienceManagerServer="dpm.demdex.net",g.sdidParamExpiry=30;var D=null,A="MCMID",y="MCIDTS",b="A",O="MCAID",M="AAM",k=
"MCAAMB",T="NONE",L=function(e){return!Object.prototype[e]},P=ie(g);g.FIELDS=E.FIELDS,g.cookieRead=function(e){return Q.get(e)},g.cookieWrite=function(e,t,n){var i=g.cookieLifetime?(""+g.cookieLifetime).toUpperCase():"",r=!1;return g.configs&&g.configs.secureCookie&&"https:"===location.protocol&&(r=!0),Q.set(e,""+t,{expires:n,domain:g.cookieDomain,cookieLifetime:i,secure:r})},g.resetState=function(e){e?g._mergeServerState(e):o()},g._isAllowedDone=!1,g._isAllowedFlag=!1,g.isAllowed=function(){return g._isAllowedDone||
(g._isAllowedDone=!0,(g.cookieRead(g.cookieName)||g.cookieWrite(g.cookieName,"T",1))&&(g._isAllowedFlag=!0)),"T"===g.cookieRead(g.cookieName)&&g._helpers.removeCookie(g.cookieName),g._isAllowedFlag},g.setMarketingCloudVisitorID=function(e){g._setMarketingCloudFields(e)},g._use1stPartyMarketingCloudServer=!1,g.getMarketingCloudVisitorID=function(e,t){g.marketingCloudServer&&g.marketingCloudServer.indexOf(".demdex.net")<0&&(g._use1stPartyMarketingCloudServer=!0);var n=g._getAudienceManagerURLData("_setMarketingCloudFields"),
i=n.url;return g._getRemoteField(A,i,e,t,n)},g.getVisitorValues=function(e,t){var n={MCMID:{fn:g.getMarketingCloudVisitorID,args:[!0],context:g},MCOPTOUT:{fn:g.isOptedOut,args:[void 0,!0],context:g},MCAID:{fn:g.getAnalyticsVisitorID,args:[!0],context:g},MCAAMLH:{fn:g.getAudienceManagerLocationHint,args:[!0],context:g},MCAAMB:{fn:g.getAudienceManagerBlob,args:[!0],context:g}},i=t&&t.length?j.pluck(n,t):n;z(i,e)},g._currentCustomerIDs={},g._customerIDsHashChanged=!1,g._newCustomerIDsHash="",g.setCustomerIDs=
function(t,n){function i(){g._customerIDsHashChanged=!1}if(!g.isOptedOut()&&t){if(!j.isObject(t)||j.isObjectEmpty(t))return!1;g._readVisitor();var r,a,o;for(r in t)if(L(r)&&(a=t[r],n=a.hasOwnProperty("hashType")?a.hashType:n,a))if("object"===e(a)){var s={};if(a.id){if(n){if(!(o=Be(Ge(a.id),n)))return;a.id=o,s.hashType=n}s.id=a.id}void 0!=a.authState&&(s.authState=a.authState),g._currentCustomerIDs[r]=s}else if(n){if(!(o=Be(Ge(a),n)))return;g._currentCustomerIDs[r]={id:o,hashType:n}}else g._currentCustomerIDs[r]=
{id:a};var l=g.getCustomerIDs(),c=g._getField("MCCIDH"),u="";c||(c=0);for(r in l)L(r)&&(a=l[r],u+=(u?"|":"")+r+"|"+(a.id?a.id:"")+(a.authState?a.authState:""));g._newCustomerIDsHash=String(g._hash(u)),g._newCustomerIDsHash!==c&&(g._customerIDsHashChanged=!0,g._mapCustomerIDs(i))}},g.getCustomerIDs=function(){g._readVisitor();var e,t,n={};for(e in g._currentCustomerIDs)L(e)&&(t=g._currentCustomerIDs[e],n[e]||(n[e]={}),t.id&&(n[e].id=t.id),void 0!=t.authState?n[e].authState=t.authState:n[e].authState=
S.AuthState.UNKNOWN,t.hashType&&(n[e].hashType=t.hashType));return n},g.setAnalyticsVisitorID=function(e){g._setAnalyticsFields(e)},g.getAnalyticsVisitorID=function(e,t,n){if(!w.isTrackingServerPopulated()&&!n)return g._callCallback(e,[""]),"";var i="";if(n||(i=g.getMarketingCloudVisitorID(function(t){g.getAnalyticsVisitorID(e,!0)})),i||n){var r=n?g.marketingCloudServer:g.trackingServer,a="";g.loadSSL&&(n?g.marketingCloudServerSecure&&(r=g.marketingCloudServerSecure):g.trackingServerSecure&&(r=g.trackingServerSecure));
var o={};if(r){var s="http"+(g.loadSSL?"s":"")+"://"+r+"/id",l="d_visid_ver\x3d"+g.version+"\x26mcorgid\x3d"+encodeURIComponent(g.marketingCloudOrgID)+(i?"\x26mid\x3d"+encodeURIComponent(i):"")+(g.idSyncDisable3rdPartySyncing||g.disableThirdPartyCookies?"\x26d_coppa\x3dtrue":""),c=["s_c_il",g._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];a=s+"?"+l+"\x26callback\x3ds_c_il%5B"+g._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+l,o.callback=c}return o.url=a,g._getRemoteField(n?
A:O,a,e,t,o)}return""},g.getAudienceManagerLocationHint=function(e,t){if(g.getMarketingCloudVisitorID(function(t){g.getAudienceManagerLocationHint(e,!0)})){var n=g._getField(O);if(!n&&w.isTrackingServerPopulated()&&(n=g.getAnalyticsVisitorID(function(t){g.getAudienceManagerLocationHint(e,!0)})),n||!w.isTrackingServerPopulated()){var i=g._getAudienceManagerURLData(),r=i.url;return g._getRemoteField("MCAAMLH",r,e,t,i)}}return""},g.getLocationHint=g.getAudienceManagerLocationHint,g.getAudienceManagerBlob=
function(e,t){if(g.getMarketingCloudVisitorID(function(t){g.getAudienceManagerBlob(e,!0)})){var n=g._getField(O);if(!n&&w.isTrackingServerPopulated()&&(n=g.getAnalyticsVisitorID(function(t){g.getAudienceManagerBlob(e,!0)})),n||!w.isTrackingServerPopulated()){var i=g._getAudienceManagerURLData(),r=i.url;return g._customerIDsHashChanged&&g._setFieldExpire(k,-1),g._getRemoteField(k,r,e,t,i)}}return""},g._supplementalDataIDCurrent="",g._supplementalDataIDCurrentConsumed={},g._supplementalDataIDLast="",
g._supplementalDataIDLastConsumed={},g.getSupplementalDataID=function(e,t){g._supplementalDataIDCurrent||t||(g._supplementalDataIDCurrent=g._generateID(1));var n=g._supplementalDataIDCurrent;return g._supplementalDataIDLast&&!g._supplementalDataIDLastConsumed[e]?(n=g._supplementalDataIDLast,g._supplementalDataIDLastConsumed[e]=!0):n&&(g._supplementalDataIDCurrentConsumed[e]&&(g._supplementalDataIDLast=g._supplementalDataIDCurrent,g._supplementalDataIDLastConsumed=g._supplementalDataIDCurrentConsumed,
g._supplementalDataIDCurrent=n=t?"":g._generateID(1),g._supplementalDataIDCurrentConsumed={}),n&&(g._supplementalDataIDCurrentConsumed[e]=!0)),n};var R=!1;g._liberatedOptOut=null,g.getOptOut=function(e,t){var n=g._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;if(u())return g._getRemoteField("MCOPTOUT",i,e,t,n);if(g._registerCallback("liberatedOptOut",e),null!==g._liberatedOptOut)return g._callAllCallbacks("liberatedOptOut",[g._liberatedOptOut]),R=!1,g._liberatedOptOut;if(R)return null;
R=!0;var r="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/dpm\.demdex\.net\/id\?/,"dpm.demdex.net/optOutStatus?"),n.callback=[r],_[r]=function(e){if(e===Object(e)){var t,n,i=j.parseOptOut(e,t,T);t=i.optOut,n=1E3*i.d_ottl,g._liberatedOptOut=t,setTimeout(function(){g._liberatedOptOut=null},n)}g._callAllCallbacks("liberatedOptOut",[t]),R=!1},P.fireCORS(n),null},g.isOptedOut=function(e,t,n){t||(t=S.OptOut.GLOBAL);var i=g.getOptOut(function(n){var i=n===S.OptOut.GLOBAL||n.indexOf(t)>=0;g._callCallback(e,
[i])},n);return i?i===S.OptOut.GLOBAL||i.indexOf(t)>=0:null},g._fields=null,g._fieldsExpired=null,g._hash=function(e){var t,n,i=0;if(e)for(t=0;t<e.length;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i&=i;return i},g._generateID=ne,g._generateLocalMID=function(){var e=g._generateID(0);return N.isClientSideMarketingCloudVisitorID=!0,e},g._callbackList=null,g._callCallback=function(e,t){try{"function"==typeof e?e.apply(v,t):e[1].apply(e[0],t)}catch(e){}},g._registerCallback=function(e,t){t&&(null==g._callbackList&&
(g._callbackList={}),void 0==g._callbackList[e]&&(g._callbackList[e]=[]),g._callbackList[e].push(t))},g._callAllCallbacks=function(e,t){if(null!=g._callbackList){var n=g._callbackList[e];if(n)for(;n.length>0;)g._callCallback(n.shift(),t)}},g._addQuerystringParam=function(e,t,n,i){var r=encodeURIComponent(t)+"\x3d"+encodeURIComponent(n),a=w.parseHash(e),o=w.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+r+a;var s=o.split("?"),l=s[0]+"?",c=s[1];return l+w.addQueryParamAtLocation(c,r,i)+a},g._extractParamFromUri=
function(e,t){var n=new RegExp("[\\?\x26#]"+t+"\x3d([^\x26#]*)"),i=n.exec(e);if(i&&i.length)return decodeURIComponent(i[1])},g._parseAdobeMcFromUrl=r(re.ADOBE_MC),g._parseAdobeMcSdidFromUrl=r(re.ADOBE_MC_SDID),g._attemptToPopulateSdidFromUrl=function(e){var n=g._parseAdobeMcSdidFromUrl(e),i=1E9;n&&n.TS&&(i=w.getTimestampInSeconds()-n.TS),n&&n.SDID&&n.MCORGID===t&&i<g.sdidParamExpiry&&(g._supplementalDataIDCurrent=n.SDID,g._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},g._attemptToPopulateIdsFromUrl=
function(){var e=g._parseAdobeMcFromUrl();if(e&&e.TS){var n=w.getTimestampInSeconds(),i=n-e.TS;if(Math.floor(i/60)>re.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;a(e)}},g._mergeServerState=function(e){if(e)try{if(e=function(e){return w.isObject(e)?e:JSON.parse(e)}(e),e[g.marketingCloudOrgID]){var t=e[g.marketingCloudOrgID];!function(e){w.isObject(e)&&g.setCustomerIDs(e)}(t.customerIDs),o(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.");}},g._timeout=null,g._loadData=function(e,
t,n,i){t=g._addQuerystringParam(t,"d_fieldgroup",e,1),i.url=g._addQuerystringParam(i.url,"d_fieldgroup",e,1),i.corsUrl=g._addQuerystringParam(i.corsUrl,"d_fieldgroup",e,1),N.fieldGroupObj[e]=!0,i===Object(i)&&i.corsUrl&&"XMLHttpRequest"===P.corsMetadata.corsType&&P.fireCORS(i,n,e)},g._clearTimeout=function(e){null!=g._timeout&&g._timeout[e]&&(clearTimeout(g._timeout[e]),g._timeout[e]=0)},g._settingsDigest=0,g._getSettingsDigest=function(){if(!g._settingsDigest){var e=g.version;g.audienceManagerServer&&
(e+="|"+g.audienceManagerServer),g.audienceManagerServerSecure&&(e+="|"+g.audienceManagerServerSecure),g._settingsDigest=g._hash(e)}return g._settingsDigest},g._readVisitorDone=!1,g._readVisitor=function(){if(!g._readVisitorDone){g._readVisitorDone=!0;var e,t,n,i,r,a,o=g._getSettingsDigest(),s=!1,l=g.cookieRead(g.cookieName),c=new Date;if(l||I||g.discardTrackingServerECID||(l=g.cookieRead(re.FIRST_PARTY_SERVER_COOKIE)),null==g._fields&&(g._fields={}),l&&"T"!==l)for(l=l.split("|"),l[0].match(/^[\-0-9]+$/)&&
(parseInt(l[0],10)!==o&&(s=!0),l.shift()),l.length%2==1&&l.pop(),e=0;e<l.length;e+=2)t=l[e].split("-"),n=t[0],i=l[e+1],t.length>1?(r=parseInt(t[1],10),a=t[1].indexOf("s")>0):(r=0,a=!1),s&&("MCCIDH"===n&&(i=""),r>0&&(r=c.getTime()/1E3-60)),n&&i&&(g._setField(n,i,1),r>0&&(g._fields["expire"+n]=r+(a?"s":""),(c.getTime()>=1E3*r||a&&!g.cookieRead(g.sessionCookieName))&&(g._fieldsExpired||(g._fieldsExpired={}),g._fieldsExpired[n]=!0)));!g._getField(O)&&w.isTrackingServerPopulated()&&(l=g.cookieRead("s_vi"))&&
(l=l.split("|"),l.length>1&&l[0].indexOf("v1")>=0&&(i=l[1],e=i.indexOf("["),e>=0&&(i=i.substring(0,e)),i&&i.match(re.VALID_VISITOR_ID_REGEX)&&g._setField(O,i)))}},g._appendVersionTo=function(e){var t="vVersion|"+g.version,n=e?g._getCookieVersion(e):null;return n?Z.areVersionsDifferent(n,g.version)&&(e=e.replace(re.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},g._writeVisitor=function(){var e,t,n=g._getSettingsDigest();for(e in g._fields)L(e)&&g._fields[e]&&"expire"!==e.substring(0,6)&&(t=g._fields[e],n+=(n?
"|":"")+e+(g._fields["expire"+e]?"-"+g._fields["expire"+e]:"")+"|"+t);n=g._appendVersionTo(n),g.cookieWrite(g.cookieName,n,1)},g._getField=function(e,t){return null==g._fields||!t&&g._fieldsExpired&&g._fieldsExpired[e]?null:g._fields[e]},g._setField=function(e,t,n){null==g._fields&&(g._fields={}),g._fields[e]=t,n||g._writeVisitor()},g._getFieldList=function(e,t){var n=g._getField(e,t);return n?n.split("*"):null},g._setFieldList=function(e,t,n){g._setField(e,t?t.join("*"):"",n)},g._getFieldMap=function(e,
t){var n=g._getFieldList(e,t);if(n){var i,r={};for(i=0;i<n.length;i+=2)r[n[i]]=n[i+1];return r}return null},g._setFieldMap=function(e,t,n){var i,r=null;if(t){r=[];for(i in t)L(i)&&(r.push(i),r.push(t[i]))}g._setFieldList(e,r,n)},g._setFieldExpire=function(e,t,n){var i=new Date;i.setTime(i.getTime()+1E3*t),null==g._fields&&(g._fields={}),g._fields["expire"+e]=Math.floor(i.getTime()/1E3)+(n?"s":""),t<0?(g._fieldsExpired||(g._fieldsExpired={}),g._fieldsExpired[e]=!0):g._fieldsExpired&&(g._fieldsExpired[e]=
!1),n&&(g.cookieRead(g.sessionCookieName)||g.cookieWrite(g.sessionCookieName,"1"))},g._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=T),t&&(t===T||t.match(re.VALID_VISITOR_ID_REGEX))||(t="")),t},g._setFields=function(t,n){if(g._clearTimeout(t),null!=g._loading&&(g._loading[t]=!1),N.fieldGroupObj[t]&&N.setState(t,!1),"MC"===t){!0!==N.isClientSideMarketingCloudVisitorID&&(N.isClientSideMarketingCloudVisitorID=
!1);var i=g._getField(A);if(!i||g.overwriteCrossDomainMCIDAndAID){if(!(i="object"===e(n)&&n.mid?n.mid:g._findVisitorID(n))){if(g._use1stPartyMarketingCloudServer&&!g.tried1stPartyMarketingCloudServer)return g.tried1stPartyMarketingCloudServer=!0,void g.getAnalyticsVisitorID(null,!1,!0);i=g._generateLocalMID()}g._setField(A,i)}i&&i!==T||(i=""),"object"===e(n)&&((n.d_region||n.dcs_region||n.d_blob||n.blob)&&g._setFields(M,n),g._use1stPartyMarketingCloudServer&&n.mid&&g._setFields(b,{id:n.id})),g._callAllCallbacks(A,
[i])}if(t===M&&"object"===e(n)){var r=604800;void 0!=n.id_sync_ttl&&n.id_sync_ttl&&(r=parseInt(n.id_sync_ttl,10));var a=F.getRegionAndCheckIfChanged(n,r);g._callAllCallbacks("MCAAMLH",[a]);var o=g._getField(k);(n.d_blob||n.blob)&&(o=n.d_blob,o||(o=n.blob),g._setFieldExpire(k,r),g._setField(k,o)),o||(o=""),g._callAllCallbacks(k,[o]),!n.error_msg&&g._newCustomerIDsHash&&g._setField("MCCIDH",g._newCustomerIDsHash)}if(t===b){var s=g._getField(O);s&&!g.overwriteCrossDomainMCIDAndAID||(s=g._findVisitorID(n),
s?s!==T&&g._setFieldExpire(k,-1):s=T,g._setField(O,s)),s&&s!==T||(s=""),g._callAllCallbacks(O,[s])}if(g.idSyncDisableSyncs||g.disableIdSyncs)F.idCallNotProcesssed=!0;else{F.idCallNotProcesssed=!1;var l={};l.ibs=n.ibs,l.subdomain=n.subdomain,F.processIDCallData(l)}if(n===Object(n)){var c,d;u()&&g.isAllowed()&&(c=g._getField("MCOPTOUT"));var f=j.parseOptOut(n,c,T);c=f.optOut,d=f.d_ottl,g._setFieldExpire("MCOPTOUT",d,!0),g._setField("MCOPTOUT",c),g._callAllCallbacks("MCOPTOUT",[c])}},g._loading=null,
g._getRemoteField=function(e,t,n,i,r){var a,o="",s=w.isFirstPartyAnalyticsVisitorIDCall(e),l={MCAAMLH:!0,MCAAMB:!0};if(u()&&g.isAllowed()){g._readVisitor(),o=g._getField(e,!0===l[e]);if(function(){return(!o||g._fieldsExpired&&g._fieldsExpired[e])&&(!g.disableThirdPartyCalls||s)}()){if(e===A||"MCOPTOUT"===e?a="MC":"MCAAMLH"===e||e===k?a=M:e===O&&(a=b),a)return!t||null!=g._loading&&g._loading[a]||(null==g._loading&&(g._loading={}),g._loading[a]=!0,g._loadData(a,t,function(t){if(!g._getField(e)){t&&
N.setState(a,!0);var n="";e===A?n=g._generateLocalMID():a===M&&(n={error_msg:"timeout"}),g._setFields(a,n)}},r)),g._registerCallback(e,n),o||(t||g._setFields(a,{id:T}),"")}else o||(e===A?(g._registerCallback(e,n),o=g._generateLocalMID(),g.setMarketingCloudVisitorID(o)):e===O?(g._registerCallback(e,n),o="",g.setAnalyticsVisitorID(o)):(o="",i=!0))}return e!==A&&e!==O||o!==T||(o="",i=!0),n&&i&&g._callCallback(n,[o]),o},g._setMarketingCloudFields=function(e){g._readVisitor(),g._setFields("MC",e)},g._mapCustomerIDs=
function(e){g.getAudienceManagerBlob(e,!0)},g._setAnalyticsFields=function(e){g._readVisitor(),g._setFields(b,e)},g._setAudienceManagerFields=function(e){g._readVisitor(),g._setFields(M,e)},g._getAudienceManagerURLData=function(e){var t=g.audienceManagerServer,n="",i=g._getField(A),r=g._getField(k,!0),a=g._getField(O),o=a&&a!==T?"\x26d_cid_ic\x3dAVID%01"+encodeURIComponent(a):"";if(g.loadSSL&&g.audienceManagerServerSecure&&(t=g.audienceManagerServerSecure),t){var s,l,c=g.getCustomerIDs();if(c)for(s in c)L(s)&&
(l=c[s],o+="\x26d_cid_ic\x3d"+encodeURIComponent(s)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""));e||(e="_setAudienceManagerFields");var u="http"+(g.loadSSL?"s":"")+"://"+t+"/id",d="d_visid_ver\x3d"+g.version+(h&&-1!==u.indexOf("demdex.net")?"\x26gdpr\x3d1\x26gdpr_force\x3d1\x26gdpr_consent\x3d"+h:"")+"\x26d_rtbd\x3djson\x26d_ver\x3d2"+(!i&&g._use1stPartyMarketingCloudServer?"\x26d_verify\x3d1":"")+"\x26d_orgid\x3d"+encodeURIComponent(g.marketingCloudOrgID)+"\x26d_nsid\x3d"+
(g.idSyncContainerID||0)+(i?"\x26d_mid\x3d"+encodeURIComponent(i):"")+(g.idSyncDisable3rdPartySyncing||g.disableThirdPartyCookies?"\x26d_coppa\x3dtrue":"")+(!0===D?"\x26d_coop_safe\x3d1":!1===D?"\x26d_coop_unsafe\x3d1":"")+(r?"\x26d_blob\x3d"+encodeURIComponent(r):"")+o,f=["s_c_il",g._in,e];return n=u+"?"+d+"\x26d_cb\x3ds_c_il%5B"+g._in+"%5D."+e,{url:n,corsUrl:u+"?"+d,callback:f}}return{url:n}},g.appendVisitorIDsTo=function(e){try{var t=[[A,g._getField(A)],[O,g._getField(O)],["MCORGID",g.marketingCloudOrgID]];
return g._addQuerystringParam(e,re.ADOBE_MC,s(t))}catch(t){return e}},g.appendSupplementalDataIDTo=function(e,t){if(!(t=t||g.getSupplementalDataID(w.generateRandomString(),!0)))return e;try{var n=s([["SDID",t],["MCORGID",g.marketingCloudOrgID]]);return g._addQuerystringParam(e,re.ADOBE_MC_SDID,n)}catch(t){return e}};var w={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,
t,n){var i=e.split("\x26");return n=null!=n?n:i.length,i.splice(n,0,t),i.join("\x26")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){if(e!==O)return!1;var i;return t||(t=g.trackingServer),n||(n=g.trackingServerSecure),!("string"!=typeof(i=g.loadSSL?n:t)||!i.length)&&(i.indexOf("2o7.net")<0&&i.indexOf("omtrdc.net")<0)},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){Q.remove(e,{domain:g.cookieDomain})},isTrackingServerPopulated:function(){return!!g.trackingServer||
!!g.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1E3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var n=t.split("\x3d");return e[n[0]]=decodeURIComponent(n[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===
e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};g._helpers=w;var F=ae(g,S);g._destinationPublishing=F,g.timeoutMetricsLog=[];var N={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case "MC":!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case b:!1===
t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case M:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};g.isClientSideMarketingCloudVisitorID=function(){return N.isClientSideMarketingCloudVisitorID},g.MCIDCallTimedOut=function(){return N.MCIDCallTimedOut},g.AnalyticsIDCallTimedOut=function(){return N.AnalyticsIDCallTimedOut},g.AAMIDCallTimedOut=function(){return N.AAMIDCallTimedOut},g.idSyncGetOnPageSyncInfo=
function(){return g._readVisitor(),g._getField("MCSYNCSOP")},g.idSyncByURL=function(e){if(!g.isOptedOut()){var t=l(e||{});if(t.error)return t.error;var n,i,r=e.url,a=encodeURIComponent,o=F;return r=r.replace(/^https:/,"").replace(/^http:/,""),n=j.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),i=["ibs",a(e.dpid),"img",a(r),t.ttl,"",n],o.addMessage(i.join("|")),o.requestToProcess(),"Successfully queued"}},g.idSyncByDataSource=function(e){if(!g.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&
e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid\x3d"+e.dpid+"\x26dpuuid\x3d"+e.dpuuid,g.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},He(g,F),g._getCookieVersion=function(e){e=e||g.cookieRead(g.cookieName);var t=re.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},g._resetAmcvCookie=function(e){var t=g._getCookieVersion();t&&!Z.isLessThan(t,e)||w.removeCookie(g.cookieName)},g.setAsCoopSafe=function(){D=!0},g.setAsCoopUnsafe=function(){D=!1},function(){if(g.configs=Object.create(null),
w.isObject(n))for(var e in n)L(e)&&(g[e]=n[e],g.configs[e]=n[e])}(),function(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],n=2===e.length?e[1]:"",i=g[t];g[t]=function(e){return u()&&g.isAllowed()?i.apply(g,arguments):("function"==typeof e&&g._callCallback(e,[n]),n)}})}(),g.init=function(){if(c())return m.optIn.fetchPermissions(f,!0);!function(){if(w.isObject(n)){g.idSyncContainerID=
g.idSyncContainerID||0,D="boolean"==typeof g.isCoopSafe?g.isCoopSafe:w.parseBoolean(g.isCoopSafe),g.resetBeforeVersion&&g._resetAmcvCookie(g.resetBeforeVersion),g._attemptToPopulateIdsFromUrl(),g._attemptToPopulateSdidFromUrl(),g._readVisitor();var e=g._getField(y),t=Math.ceil((new Date).getTime()/re.MILLIS_PER_DAY);g.idSyncDisableSyncs||g.disableIdSyncs||!F.canMakeSyncIDCall(e,t)||(g._setFieldExpire(k,-1),g._setField(y,t)),g.getMarketingCloudVisitorID(),g.getAudienceManagerLocationHint(),g.getAudienceManagerBlob(),
g._mergeServerState(g.serverState)}else g._attemptToPopulateIdsFromUrl(),g._attemptToPopulateSdidFromUrl()}(),function(){if(!g.idSyncDisableSyncs&&!g.disableIdSyncs){F.checkDPIframeSrc();var e=function(){var e=F;e.readyToAttachIframe()&&e.attachIframe()};v.addEventListener("load",function(){S.windowLoaded=!0,e()});try{te.receiveMessage(function(e){F.receiveMessage(e.data)},F.iframeHost)}catch(e){}}}(),function(){g.whitelistIframeDomains&&re.POST_MESSAGE_ENABLED&&(g.whitelistIframeDomains=g.whitelistIframeDomains instanceof
Array?g.whitelistIframeDomains:[g.whitelistIframeDomains],g.whitelistIframeDomains.forEach(function(e){var n=new B(t,e),i=K(g,n);te.receiveMessage(i,e)}))}()}};qe.config=se,_.Visitor=qe;var Xe=qe,We=function(e){if(j.isObject(e))return Object.keys(e).filter(function(t){return""!==e[t]}).reduce(function(t,n){var i="doesOptInApply"!==n?e[n]:se.normalizeConfig(e[n]),r=j.normalizeBoolean(i);return t[n]=r,t},Object.create(null))},Je=Ve.OptIn,Ke=Ve.IabPlugin;return Xe.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");
e.indexOf("@")<0&&(e+="@AdobeOrg");var n=function(){var t=_.s_c_il;if(t)for(var n=0;n<t.length;n++){var i=t[n];if(i&&"Visitor"===i._c&&i.marketingCloudOrgID===e)return i}}();if(n)return n;var i=We(t);!function(e){_.adobe.optIn=_.adobe.optIn||function(){var t=j.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),n=e.optInCookieDomain||e.cookieDomain;n=n||$(),n=n===window.location.hostname?"":n,t.optInCookieDomain=n;var i=
new Je(t,{cookies:Q});if(t.isIabContext){var r=new Ke(window.__cmp);i.registerPlugin(r)}return i}()}(i||{});var r=e,a=r.split("").reverse().join(""),o=new Xe(e,null,a);j.isObject(i)&&i.cookieDomain&&(o.cookieDomain=i.cookieDomain),function(){_.s_c_il.splice(--_.s_c_in,1)}();var s=j.getIeVersion();if("number"==typeof s&&s<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var l=function(){try{return _.self!==_.parent}catch(e){return!0}}()&&!function(e){return e.cookieWrite("TEST_AMCV_COOKIE",
"T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e._helpers.removeCookie("TEST_AMCV_COOKIE"),!0)}(o)&&_.parent?new Y(e,i,o,_.parent):new Xe(e,i,a);return o=null,l.init(),l},function(){function e(){Xe.windowLoaded=!0}_.addEventListener?_.addEventListener("load",e):_.attachEvent&&_.attachEvent("onload",e),Xe.codeLoadEnd=(new Date).getTime()}(),Xe}();if(typeof Visitor!="undefined")window.Visitor=Visitor;var visitor=Visitor.getInstance("4986658252DDA4900A490D4D@AdobeOrg",{trackingServer:"metrics.nab.com.au",
trackingServerSecure:"smetrics.nab.com.au",marketingCloudServer:"metrics.nab.com.au",marketingCloudServerSecure:"smetrics.nab.com.au",loadTimeout:"5000",cookieDomain:/nabdev.com.au/.test(document.location.hostname)?"nabdev.com.au":/.thenational.com$/.test(document.location.hostname)?"thenational.com":/.national.com.au$/.test(document.location.hostname)?"national.com.au":"nab.com.au",idSyncDisable3rdPartySyncing:true});window.visitor=visitor},3134692,385283);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{var x=window.globalDataLayer.appDecision;return x?x:""}catch(e){return""}},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"GDL - App Decision",collection:"globalDataLayer",source:"Manage",priv:"false"},{id:"5758"})},5758)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - form - end-of-form",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="";s.events+=""+function anon(){try{var amountApproved="";amountApproved=s.parseDataLayer("transaction_amount_approved");var eventString="event1,event77";if(amountApproved!="unknown transaction_amount_approved"&&amountApproved!=""&&parseInt(amountApproved)>
0)eventString="event1,event77,event78\x3d"+amountApproved;return eventString}catch(err){return"event1,event77"}}.call(this);s.pageName=function anon(){if(typeof s.getPageNameFromDL()!="undefined")return s.getPageNameFromDL().replace(/:start$/,"").replace(/:privacy$/,"").replace(/\s+/g,"-")+":thankyou"}.call(this);s.eVar20=function anon(){try{var applicantLiability=s_parseDataLayerUserObj("form-interacted","applicantLiability","form-completed");if(typeof applicantLiability=="string")return applicantLiability;
else if(typeof window.sc_applicant_liability!="undefined")return window.sc_applicant_liability;else return""}catch(err){return""}}.call(this);s.eVar23=function anon(){if(typeof s.parseDataLayer("name")!="undefined"){var sBFP=s.parseDataLayer("name");var as=sBFP.split("-");for(var iT=0;iT<as.length;iT++)as[iT]=as[iT].substring(0,1).toUpperCase()+as[iT].substring(1);sBFP=as.join(" ");if(sBFP.lastIndexOf("Application")==-1)sBFP=sBFP+" Online Application";return sBFP}else""}.call(this);s.eVar52=function anon(){try{if(typeof digitalData!=
"undefined"&&typeof digitalData.event!="undefined")for(var i=digitalData.event.length-1;i>=0;i--){if(digitalData.event[i].eventType=="form-interacted")if(typeof digitalData.event[i].data!="undefined"&&typeof digitalData.event[i].data.action!="undefined")if(digitalData.event[i].data.action=="form-completed")if(typeof digitalData.event[i].data.transaction_result!="undefined")return digitalData.event[i].data.transaction_result;else return false}else return false}catch(err){return false}}.call(this);
s.purchaseID=function anon(){try{var d=new Date;var serial_append=d.getDate().toString()+d.getMonth().toString()+1+d.getFullYear().toString();var serialised_id="";serialised_id=s.parseDataLayer("serialised_id");if(serialised_id!="unknown serialised_id")serialised_id="e"+s.parseDataLayer("serialised_id");else serialised_id="";return serialised_id}catch(err){return""}}.call(this);s.eVar15=function anon(){try{var gender=s_parseDataLayerUserObj("form-interacted","gender","form-completed");if(typeof gender==
"string")return gender;else if(typeof window.sc_applicant_gender!="undefined")return window.sc_applicant_gender;else return""}catch(err){return""}}.call(this);s.eVar16=function anon(){try{var age=s_parseDataLayerUserObj("form-interacted","age","form-completed");var dob=s_parseDataLayerUserObj("form-interacted","dob","form-completed");if(typeof age!="undefined"&&age!==false)return age;else if(typeof dob!="undefined"&&dob!==false)return dob;else if(typeof window.sc_applicant_age!="undefined")return window.sc_applicant_age;
else return""}catch(err){return""}}.call(this);s.eVar17=function anon(){try{var state=s_parseDataLayerUserObj("form-interacted","state","form-completed");if(typeof state!="undefined")return state;else if(typeof window.sc_applicant_state!="undefined")return window.sc_applicant_state;else return""}catch(err){return""}}.call(this);s.eVar18=function anon(){try{var postcode=s_parseDataLayerUserObj("form-interacted","postcode","form-completed");if(typeof postcode!="undefined")return postcode;else if(typeof window.sc_applicant_postcode!=
"undefined")return window.sc_applicant_postcode;else return""}catch(err){return""}}.call(this);s.eVar19=function anon(){try{var type=s_parseDataLayerUserObj("form-interacted","type","form-completed");if(typeof type=="string")return type.charAt(0).toUpperCase()+type.slice(1);else if(typeof window.sc_customer_type!="undefined")return window.sc_customer_type;else return""}catch(err){return""}}.call(this);s.products=function anon(){try{var prodString="";var productArray=s.parseDataLayer("products");if(typeof productArray==
"object"&&typeof productArray[0]=="object")for(var j=0;j<productArray.length;j++)if(typeof productArray[j]!="undefined")if(typeof productArray[j]["product-id"]!="undefined"&&productArray[j]["product-id"]!==""){if(prodString!="")prodString+=",";prodString+=";"+productArray[j]["product-id"]}return prodString}catch(err){return""}}.call(this);s.prop50="D\x3devents";s.eVar56=function anon(){try{var refNumber=s.parseDataLayer("application_id");if(typeof refNumber=="string"&&refNumber!="unknown application_id")return refNumber;
else return""}catch(err){return""}}.call(this);s.eVar65=function anon(){try{var offerOutcome=s_parseDataLayer("offer_outcome");var dlFormName=s_parseDataLayer("name");if(typeof offerOutcome=="string"&&offerOutcome!="unknown offer_outcome"&&typeof dlFormName=="string"&&dlFormName!="unknown name")return dlFormName+":offer:"+offerOutcome;else return""}catch(err){return""}}.call(this);s.prop65="D\x3dv65";s.list3=function anon(){try{var product="";var prodString="";if(s_parseDataLayer("productsAndServices")!=
"unknown productsAndServices")product=s_parseDataLayer("productsAndServices");if(typeof product=="object"&&product.length>0)for(var i=0;i<product.length;i++)if(typeof product[i]["name"]!="undefined")prodString+=product[i]["name"]+",";return prodString}catch(err){return""}}.call(this);s.eVar87=function anon(){if(s_parseDataLayer("productOffer")!="unknown productOffer")return s_parseDataLayer("productOffer")}.call(this);s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";
s.linkTrackVars+="pageName,eVar20,eVar23,events,eVar52,purchaseID,eVar15,eVar16,eVar17,eVar18,eVar19,products,prop50,eVar56,eVar65,prop65,list3,eVar87";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="None";s.linkTrackEvents+=","+function anon(){try{var amountApproved="";amountApproved=s.parseDataLayer("transaction_amount_approved");var eventString="event1,event77";if(amountApproved!="unknown transaction_amount_approved"&&amountApproved!=
""&&parseInt(amountApproved)>0)eventString="event1,event77,event78\x3d"+amountApproved;return eventString}catch(err){return"event1,event77"}}.call(this).replace(/(=.*?,|=.*?$)/g,",").replace(/,+$/,"");s.t();s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},3694856,505613);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;window._NABTags={};window._NABTags.debug=[];window._NABTags.ciaDebug="";if(typeof window.digitalData=="undefined"){window.digitalData={};digitalData.page={};digitalData.page.pageInfo={};digitalData.page.pageInfo.pageName="IB - digitalData has not been initialised"}if(/ciatesting/i.test(document.location.href))_NABTags.ciaDebug="true";else try{_NABTags.ciaDebug=localStorage.getItem("ciaDebug")}catch(e){}if(_NABTags.ciaDebug===
"true")console.log("Loading digitalData event processor");if(_NABTags.ciaDebug==="true")console.log("digitalData:");if(_NABTags.ciaDebug==="true")console.log(JSON.stringify(digitalData));_NABTags.intialiseOverride=function(){if(typeof window.digitalData.page.pageInfo.customValues=="undefined")window.digitalData.page.pageInfo.customValues=[];window.digitalData.page.pageInfo.customValues["formErrorTracking"]="enabled";if(typeof window.digitalData!="undefined"){if(typeof window.digitalData.event=="undefined")window.digitalData.event=
[];window.digitalData.event.push=function(){if(/ciatesting/i.test(document.location.href)){var debug=[];debug["eventType"]=arguments[0].eventType;debug["raw_args"]=arguments;_NABTags.debug.push(debug)}var result=Array.prototype.push.apply(this,arguments);try{if(result>0&&arguments!=undefined&&arguments.length>0&&arguments[0].eventType){var eventType=arguments[0].eventType;var data="";var action=false;if(typeof arguments[0].data!="undefined"){data=arguments[0].data;if(typeof arguments[0].data.action!=
"undefined")action=arguments[0].data.action}if(data.processed){if(_NABTags.ciaDebug==="true")console.log("Event already process");return}switch(eventType){case "search-action":if(_NABTags.ciaDebug==="true")console.log("search-action initiated",{"event":arguments[0]});Bootstrapper.ensEvent.trigger("ensEvent - search-action",{"event":arguments[0]});break;case "form-interacted":var formName=arguments[0].data.name;var formType="prospect-form";var formStyle="section";if(typeof window.digitalData.page.pageInfo.customValues==
"undefined")window.digitalData.page.pageInfo.customValues=[];var applicationFormNameList=/IB Small Business Lending Application|Transaction and Savings IB Online Application|Financial Hardship Mini App|Financial Hardship Application/i;if(applicationFormNameList.test(formName))window.digitalData.page.pageInfo.customValues["formType"]="application-form2";if(window.digitalData.page.pageInfo.customValues["formType"]=="application-form2")formType="application-form";if(window.digitalData.page.pageInfo.customValues["formStyle"]==
"page")formStyle="page";window.digitalData.page.pageInfo.customValues["formErrorTracking"]="enabled";window.digitalData.page.pageInfo.customValues["formAnalysis"]="enabled";var blockFormFieldTracking=/IB(.*)Pay Anyone$/i;if(!blockFormFieldTracking.test(formName))window.digitalData.page.pageInfo.customValues["formFieldPathing"]="enabled";window.digitalData.page.pageInfo.customValues["formFieldLength"]="40";if(arguments[0].data.formType=="application-form2"||arguments[0].data.formType=="application-form")formType=
"application-form";if(arguments[0].data.formType=="prospect")formType="prospect-form";if(typeof window.digitalData.components!="undefined")window.digitalData.components.formName=formName;if(formName=="Transaction and Savings IB Online Application")if(action=="form-completed")action="end-of-form-reached";switch(action){case "form-started":if(formType=="application-form")Bootstrapper.ensEvent.trigger("ensEvent - application-form2-start");else Bootstrapper.ensEvent.trigger("ensEvent - prospect-form-start");
break;case "form-completed":if(formType=="application-form")Bootstrapper.ensEvent.trigger("ensEvent - application-form2-complete");else Bootstrapper.ensEvent.trigger("ensEvent - prospect-form-complete");break;case "ssc-authentication":Bootstrapper.ensEvent.trigger("ensEvent - form - ssc-authentication");break;case "form-checklist":Bootstrapper.ensEvent.trigger("ensEvent - form - form-checklist");break;case "form-progressed":if(typeof s!=="undefined"&&typeof s.clearVars!=="undefined"){s.events="";
s.products=""}Bootstrapper.ensEvent.trigger("ensEvent - form - form-progressed");break;case "form-page-loaded":if(formStyle=="page")if(s.parseDataLayer("pageId")=="processing"&&(/cc application|online credit card application/i.test(s.parseDataLayer("name"))||/credit card application/i.test(s.parseDataLayer("nameId")))&&!/pre-approved/i.test(s.parseDataLayer("name")));else Bootstrapper.ensEvent.trigger("ensEvent - form - form-page-loaded");break;case "submit-application":Bootstrapper.ensEvent.trigger("ensEvent - form - submit-application");
s_clearProductsVar();if(typeof s!="undefined"&&typeof s.clearVars=="function")s.clearVars("purchaseID");break;case "form-decision":Bootstrapper.ensEvent.trigger("ensEvent - form - form-decision");break;case "end-of-form-reached":digitalData.event[digitalData.event.length-1].data.pageId="thankyou";Bootstrapper.ensEvent.trigger("ensEvent - form - end-of-form");break;case "field-started":Bootstrapper.ensEvent.trigger("ensEvent - form - field-started");break;case "field-completed":if(s_parseDataLayer("name")==
"Term Deposit Online Application"){if(s_parseDataLayer("fieldId")=="loanAmount")s_parseDataLayerSetCustomValue("depositAmount",s_parseDataLayer("fieldValue"));if(s_parseDataLayer("fieldId")=="tdNtbTerm")s_parseDataLayerSetCustomValue("depositTerm",s_parseDataLayer("fieldValue"));if(s_parseDataLayer("fieldId")=="tdExistTerm")s_parseDataLayerSetCustomValue("depositTerm",s_parseDataLayer("fieldValue"))}var fieldId=s_parseDataLayer("fieldId");if(s_parseDataLayerCustomValueExists(fieldId)===true)Bootstrapper.ensEvent.trigger("ensEvent - form - field-capture");
break;case "error-displayed":var triggerError=true;if(s_parseDataLayerCustomValueExists("errorCounter")===false)s_parseDataLayerSetCustomValue("errorCounter",1);else{var currentErrorCount=s_parseDataLayerCustomValue("errorCounter");if(currentErrorCount){currentErrorCount++;s_parseDataLayerSetCustomValue("errorCounter",currentErrorCount)}if(currentErrorCount&&currentErrorCount>50)triggerError=false}if(triggerError===true){if(typeof s!=="undefined"&&typeof s.clearVars!=="undefined"){s.list2="";s.prop19=
"";s.prop60="";s.prop69="";s.eVar69="";s.eVar4=""}Bootstrapper.ensEvent.trigger("ensEvent - form - error-displayed")}break;case "product-added":var products=_NABTages.s_parseDataLayer("product");if(typeof digitalData!="undefined"&&typeof digitalData.product=="object"&&typeof digitalData.product[0]=="object"&&typeof products=="object")digitalData.product.push(products);break;case "lead-completed":Bootstrapper.ensEvent.trigger("ensEvent - lead-submitted");s_clearProductsVar();break;case "form-saved":Bootstrapper.ensEvent.trigger("ensEvent - form - saved");
break;case "form-retrieved":Bootstrapper.ensEvent.trigger("ensEvent - form - retrieved");break;case "form-resumed":Bootstrapper.ensEvent.trigger("ensEvent - form - form-resumed");break;case "form-cancelled":Bootstrapper.ensEvent.trigger("ensEvent - form - cancelled");break;case "form-cancelled":Bootstrapper.ensEvent.trigger("ensEvent - form - cancelled");break;case "documents-uploaded":_NABTags.fileUpload(data);break;case "form-handover-d1":if(typeof digitalData!="undefined"&&typeof digitalData.event!=
"undefined")window.digitalData.event[window.digitalData.event.length-1].data.name="Quick Biz: Handover Director 1";Bootstrapper.ensEvent.trigger("ensEvent - user_action",{"action":action});break;case "form-handover-d2":if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined")window.digitalData.event[window.digitalData.event.length-1].data.name="Quick Biz: Handover Director 2";Bootstrapper.ensEvent.trigger("ensEvent - user_action",{"action":action});break;case "entity-added":Bootstrapper.ensEvent.trigger("ensEvent - form - entity-added");
break;case "eidv-decision":Bootstrapper.ensEvent.trigger("ensEvent - eidv-decision");break}break;case "page-view":case "digitalData:page-view":if(document.location.pathname.includes("/login")&&s_parseDataLayer("name")=="login"&&!!s&&(!s.pageName||s.pageName=="nab:ib-platform:login"))break;if(typeof arguments[0].data!="undefined"){if(_NABTags.ciaDebug==="true")console.log("page-view:with arguments");Bootstrapper.ensEvent.trigger("ensEvent - ib-page-view",{"event":arguments[0]})}else{if(_NABTags.ciaDebug===
"true")console.log("page-view:no arguments");Bootstrapper.ensEvent.trigger("ensEvent - ib-page-view")}break;case "error-displayed":Bootstrapper.ensEvent.trigger("ensEvent - form - error-displayed");break;case "view-module":case "digitalDatview-module-module":case "digitalData.view-module":if(_NABTags.ciaDebug==="true")console.log("eventType: view-module");Bootstrapper.ensEvent.trigger("ensEvent - view-module");break;case "user-moment":case "digitalData:user-moment":Bootstrapper.ensEvent.trigger("ensEvent - user-moment");
break;case "miniapp-loaded":if(/ciatesting/i.test(document.location.href))console.log("miniapp-loaded initiated");var name=s_parseDataLayer("name");break;case "user-action":case "digitalData:user-action":if(/ciatesting/i.test(document.location.href))console.log("user-action initiated");if(action=="document-downloaded")Bootstrapper.ensEvent.trigger("ensEvent - document-downloaded");else Bootstrapper.ensEvent.trigger("ensEvent - user_action");break;case "self-service-start":Bootstrapper.ensEvent.trigger("ensEvent - self-service-start");
break;case "self-service-complete":Bootstrapper.ensEvent.trigger("ensEvent - self-service-complete");break;case "self-service":var selfServiceNameList=/Customer Data Refresh/i;if(selfServiceNameList.test(arguments[0].data.name)){window.digitalData.page.pageInfo.customValues["formErrorTracking"]="enabled";window.digitalData.page.pageInfo.customValues["formAnalysis"]="enabled";window.digitalData.page.pageInfo.customValues["formFieldPathing"]="enabled";window.digitalData.page.pageInfo.customValues["formFieldLength"]=
"40"}switch(action){case "self-service-start":Bootstrapper.ensEvent.trigger("ensEvent - self-service-start");break;case "self-service-progressed":Bootstrapper.ensEvent.trigger("ensEvent - self-service-progressed");break;case "self-service-complete":Bootstrapper.ensEvent.trigger("ensEvent - self-service-complete");break;case "field-started":Bootstrapper.ensEvent.trigger("ensEvent - form - field-started");break;case "error-displayed":var triggerError=true;if(s_parseDataLayerCustomValueExists("errorCounter")===
false)s_parseDataLayerSetCustomValue("errorCounter",1);else{var currentErrorCount=s_parseDataLayerCustomValue("errorCounter");if(currentErrorCount){currentErrorCount++;s_parseDataLayerSetCustomValue("errorCounter",currentErrorCount)}if(currentErrorCount&&currentErrorCount>50)triggerError=false}if(triggerError===true){if(typeof s!=="undefined"&&typeof s.clearVars!=="undefined"){s.list2="";s.prop19="";s.prop60="";s.prop69="";s.eVar69="";s.eVar4=""}Bootstrapper.ensEvent.trigger("ensEvent - form - error-displayed")}break}break;
case "internal-ad-load":Bootstrapper.ensEvent.trigger("ensEvent - internal-ad-load");break;case "internal-ad-click":Bootstrapper.ensEvent.trigger("ensEvent - internal-ad-click");break;case "internal-ad-dismissed":Bootstrapper.ensEvent.trigger("ensEvent - internal-ad-dismissed");break;case "internal-ad-managed":Bootstrapper.ensEvent.trigger("ensEvent - internal-ad-managed");break;case "internal-ad-postponed":Bootstrapper.ensEvent.trigger("ensEvent - internal-ad-postponed");break;case "expand-accordion":if(s_parseDataLayer("action")==
"open")Bootstrapper.ensEvent.trigger("ensEvent - expand-accordion");break;case "authentication":Bootstrapper.ensEvent.trigger("ensEvent - authentication");break;case "chatwidget-used":s_parseDataLayerSetCustomValue("chatwidgetUsedTriggered",true);var action=s_parseDataLayer("action");var widget_type=s_parseDataLayer("participantType");switch(action){case "chatwidget-available":if(typeof widget_type!="undefined"&&widget_type=="Agent")Bootstrapper.ensEvent.trigger("ensEvent - livechat-offered");else if(typeof widget_type!=
"undefined"&&widget_type=="Chatbot")Bootstrapper.ensEvent.trigger("ensEvent - virtual-assistant-offered");break;case "virtual-assistant-initiated":Bootstrapper.ensEvent.trigger("ensEvent - virtual-assistant-initiated");break;case "chatwidget-resumed":Bootstrapper.ensEvent.trigger("ensEvent - chatwidget-resumed");break;case "virtual-assistant-response":if(s_parseDataLayerCustomValue("virtual-assistant")===false){Bootstrapper.ensEvent.trigger("ensEvent - virtual-assistant-response");s_parseDataLayerSetCustomValue("virtual-assistant",
"true")}break;case "livechat-offered":Bootstrapper.ensEvent.trigger("ensEvent - livechat-offered");break;case "livechat-started":Bootstrapper.ensEvent.trigger("ensEvent - livechat-started");break;case "chatwidget-ended":Bootstrapper.ensEvent.trigger("ensEvent - chatwidget-ended");break;case "survey-presented":Bootstrapper.ensEvent.trigger("ensEvent - survey-presented");break;case "survey-completed":Bootstrapper.ensEvent.trigger("ensEvent - survey-completed");break}}var eventNumber=window.digitalData.event.length;
window.digitalData.event[eventNumber-1].data.processed=true;if(_NABTags.ciaDebug==="true")console.log(" eventNumber:"+eventNumber+"data.processed:"+window.digitalData.event[eventNumber-1].data.processed)}else;window.digitalData.event.intitialisePushOverride=true;if(_NABTags.ciaDebug==="true")console.log("digitalData.event.intitialisePushOverride:"+window.digitalData.event.intitialisePushOverride)}catch(e){}}}};if(_NABTags.ciaDebug==="true")console.log("call intialiseOverride()");_NABTags.intialiseOverride();
Bootstrapper.bindDOMLoaded(function(){_NABTags.intialiseOverride()});if(/applicationTracker/.test(document.location.href)||/transactionHistoryGetSettings.ctl/.test(document.location.href))window.setTimeout(function(){if(typeof digitalData.event[0]!="undefined"&&typeof digitalData.event[0].eventType!="undefined"&&typeof window.digitalData.event.intitialisePushOverride!=true)if(_NABTags.ciaDebug==="true")console.log("Timeout 3 seconds: call intialiseOverride()");_NABTags.intialiseOverride();if(_NABTags.ciaDebug===
"true")console.log("Timeout 3 seconds: call intialiseOverride()");_NABTags.processServerSideEvents()},3E3);window.document.addEventListener("digitalData:page-view",function(e){if(!/payment_support.ctl/.test(document.location.href)&&!/hardship.ctl/.test(document.location.href)&&!/applicationTracker/.test(document.location.href)&&!/money_tracker/.test(document.location.href)&&!/diy\/lending-details/.test(document.location.href)&!/data_sharing_permissions.ctl/.test(document.location.href)&&!/homebase_origination.ctl/.test(document.location.href)&&
!/transactionHistoryGetSettings.ctl/.test(document.location.href)&&!/saving_isaver_acct_apply_new.ctl/.test(document.location.href)&&!/saving_rewards_acct_apply_new.ctl/.test(document.location.href)&&!/tran_classicbanking_acct_apply_new.ctl/.test(document.location.href)&&!/nabib\/transactionHistorySelectAccount.ctl/.test(document.location.href))Bootstrapper.ensEvent.trigger("ensEvent - ib-page-view")});_NABTags.s_parseDataLayer=function(obj_name){if(typeof obj_name=="undefined")return false;try{if(typeof digitalData!=
"undefined"&&typeof digitalData.event!="undefined"){var lastEventObject=window.digitalData.event[window.digitalData.event.length-1];if(lastEventObject.data[obj_name])return lastEventObject.data[obj_name];else return"unknown "+obj_name}else return"unknown "+obj_name}catch(err){return"unknown "+obj_name}};_NABTags.processServerSideEvents=function(){try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined"){var serverSideEvents=[];var pageViewSent=false;for(var i=0;i<digitalData.event.length;i++){if(pageViewSent==
false)serverSideEvents.push(digitalData.event[i]);if(digitalData.event[i].eventType=="page-view")pageViewSent=true}if(/ciatesting/i.test(document.location.href))console.log("serverside events:",serverSideEvents);for(var j=0;j<serverSideEvents.length;j++)digitalData.event.push(serverSideEvents[j])}}catch(e){}};if(/payment_support.ctl/.test(document.location.href)||/hardship.ctl/.test(document.location.href)||/applicationTracker/.test(document.location.href)||/money_tracker/.test(document.location.href)||
/diy\/lending-details/.test(document.location.href)||/data_sharing_permissions.ctl/.test(document.location.href)||/homebase_origination.ctl/.test(document.location.href)||/transactionHistoryGetSettings.ctl/.test(document.location.href)||/tran_classicbanking_acct_apply_new.ctl/.test(document.location.href)||/nabib\/pay-to-agreements.ctl/.test(document.location.href)||/transactionHistorySelectAccount.ctl/.test(document.location.href))_NABTags.processServerSideEvents();window._NABTags.loadScriptAsync=
function(src,callback){if(/ciatesting/i.test(document.location.href))console.log("window._NABTags.loadScriptAsync fired");var s,r,t;r=false;s=document.createElement("script");s.type="text/javascript";s.async=true;s.src=src;s.onload=s.onreadystatechange=function(){if(!r&&(!this.readyState||this.readyState=="complete")){r=true;callback()}};document.getElementsByTagName("body")[0].appendChild(s)};window._NABTags.loadImgPixelAsync=function(src,callback){if(/ciatesting/i.test(document.location.href))console.log("window._NABTags.loadImgPixelAsync fired");
var s,r,t;r=false;s=document.createElement("img");s.src=src;s.style.display="none";s.onload=s.onreadystatechange=function(){if(!r&&(!this.readyState||this.readyState=="complete")){r=true;if(typeof callback!="undefined")callback()}};document.getElementsByTagName("body")[0].appendChild(s)};window._NABTags.loadIFrameAsync=function(src,callback){if(/ciatesting/i.test(document.location.href))console.log("window._NABTags.loadIFrameAsync fired");var r,t;r=false;var frame=document.createElement("iframe");
frame.style.display="none";frame.style.width="1px";frame.style.height="1px";frame.src=src;frame.onload=frame.onreadystatechange=function(){if(!r&&(!this.readyState||this.readyState=="complete")){r=true;callback()}};document.getElementsByTagName("body")[0].appendChild(frame)};_NABTags.fileUpload=function(data){try{if(typeof data=="undefined")return false;if(typeof data.documents=="undefined")return false;for(var i=0;i<data.documents.length;i++)if(documents[i].status=="Success"){Bootstrapper.ensEvent.trigger("ensEvent - form - file-upload-success");
s.clearVars("eVar55")}else if(documents[i].status=="Fail"){Bootstrapper.ensEvent.trigger("ensEvent - form - file-upload-error");s.clearVars("eVar55");s.clearVars("prop19")}}catch(e){}};Bootstrapper.bindPageSpecificCompletion(function(){eventDebug=false;if(typeof s_parseDataLayerCustomValueExists=="function"&&s_parseDataLayerCustomValueExists("chatwidgetUsedTriggered")===false)try{if(digitalData.event.length>0&&digitalData.event.length<=2){if(eventDebug===true){console.log("Potential issue where events have fired without a listener present");
console.log("digitalData object length:");console.log(digitalData.event.length);console.log("digitalData object:");console.log(digitalData.event)}if(/ib-chat-widget-frame/i.test(digitalData.page.pageInfo.siteType)){var localEventHistory=digitalData.event;digitalData.event=[];for(var j=0;j<localEventHistory.length;j++){if(eventDebug===true){console.log("About to push in object ("+j+"):");console.log(localEventHistory[j])}digitalData.event.push(localEventHistory[j]);$(document).trigger("chatwidget-used");
if(j===0)s_parseDataLayerSetCustomValue("chatwidgetUsedTriggered",true)}}}}catch(err){if(eventDebug===true)console.log("There was an error trying to re-process pre-existing events")}else if(eventDebug===true)console.log("Form interacted has already been triggered and processed")});s_parseDataLayer=function(obj_name){if(typeof obj_name=="undefined")return false;try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined"){var lastEventObject=window.digitalData.event[window.digitalData.event.length-
1];if(lastEventObject.data[obj_name])return lastEventObject.data[obj_name];else return"unknown "+obj_name}else return"unknown "+obj_name}catch(err){return"unknown "+obj_name}};s_parseDataLayerCustomValueExists=function(customValue){try{if(typeof digitalData!="undefined"&&typeof digitalData.page!="undefined"&&typeof digitalData.page.pageInfo!="undefined"&&typeof digitalData.page.pageInfo.customValues!="undefined"&&typeof digitalData.page.pageInfo.customValues[customValue]!="undefined")return true;
else return false}catch(err){return false}};s_parseDataLayerFieldCompletedValue=function(fieldId){if(typeof fieldId=="undefined")return false;try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined"){for(var i=digitalData.event.length-1;i>=0;i--)if(typeof digitalData.event[i].data!="undefined"&&typeof digitalData.event[i].data.action!="undefined"&&digitalData.event[i].data.action=="field-completed")if(typeof digitalData.event[i].data.fieldId!="undefined"&&digitalData.event[i].data.fieldId==
fieldId)if(typeof digitalData.event[i].data.fieldValue!="undefined")return digitalData.event[i].data.fieldValue;return false}else return false}catch(err){return false}};s_parseDataLayerCustomValue=function(key){if(typeof digitalData!="undefined"&&typeof digitalData.page!="undefined"&&typeof digitalData.page.pageInfo!="undefined"&&typeof digitalData.page.pageInfo.customValues!="undefined")if(typeof digitalData.page.pageInfo.customValues[key]!="undefined")return digitalData.page.pageInfo.customValues[key];
else return false};s_parseDataLayerSetCustomValue=function(key,value){try{if(typeof digitalData!="undefined"&&typeof digitalData.page!="undefined"&&typeof digitalData.page.pageInfo!="undefined"){if(typeof digitalData.page.pageInfo.customValues=="undefined")digitalData.page.pageInfo.customValues={};digitalData.page.pageInfo.customValues[key]=value;return true}else return false}catch(err){return false}};s_parseDataLayerUserObj=function(eventType,objName,action){if(typeof objName=="undefined"||typeof eventType==
"undefined")return false;try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined"){for(var i=digitalData.event.length-1;i>=0;i--)if(eventType==digitalData.event[i].eventType)if(typeof digitalData.event[i].data!="undefined"&&typeof digitalData.event[i].data.action!="undefined")if(action==digitalData.event[i].data.action)if(typeof digitalData.event[i].data.user!="undefined")return digitalData.event[i].data.user[objName];else return false;return false}else return false}catch(err){return false}};
s_parseDataLayerProductId=function(eventType,action,getMultipleProducts){try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined"){for(var i=digitalData.event.length-1;i>=0;i--)if(eventType==digitalData.event[i].eventType)if(typeof digitalData.event[i].data!="undefined"&&typeof digitalData.event[i].data.action!="undefined")if(action==digitalData.event[i].data.action)if(typeof digitalData.event[i].data.products!="undefined")if(typeof digitalData.event[i].data.products[0]["product-id"]!=
"undefined")if(typeof getMultipleProducts!="undefined"){var multipleProductsString="";for(var j=0;j<digitalData.event[i].data.products.length;j++)if(typeof digitalData.event[i].data.products[j]["product-id"]!="undefined")multipleProductsString+=",;"+digitalData.event[i].data.products[j]["product-id"];return multipleProductsString.substring(2)}else return digitalData.event[i].data.products[0]["product-id"];else if(typeof digitalData.event[i].data.products[0]["subProduct"]!="undefined")return digitalData.event[i].data.products[0]["subProduct"];
else return false;else return false;return false}else return false}catch(err){console.log(err);return false}};s_parseDataLayerAmountAppliedFor=function(eventType,action){try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined"){for(var i=digitalData.event.length-1;i>=0;i--)if(eventType==digitalData.event[i].eventType)if(typeof digitalData.event[i].data!="undefined"&&typeof digitalData.event[i].data.action!="undefined")if(action==digitalData.event[i].data.action)if(typeof digitalData.event[i].data.transaction_amount_applied_for!=
"undefined")return digitalData.event[i].data.transaction_amount_applied_for;else return false;return false}else return false}catch(err){return false}};s_clearProductsVar=function(){if(typeof s!="undefined"&&typeof s.products!="undefined")s.products=""};s_parseDataLayerCustomValueStartsWith=function(customValue){try{if(typeof digitalData!="undefined"&&typeof digitalData.page!="undefined"&&typeof digitalData.page.pageInfo!="undefined"&&typeof digitalData.page.pageInfo.customValues!="undefined"){for(var obj in digitalData.page.pageInfo.customValues)if(obj.indexOf(customValue)>
-1)return obj;return false}else return false}catch(err){return false}};s_runComponentClickEvent=function(ensEvent){try{var runClickEvent=false;if(typeof s.parseDataLayer("internalPromo")!="undefined"&&s.parseDataLayer("internalPromo")!="unknown internalPromo")runClickEvent=true;if(runClickEvent===true)Bootstrapper.ensEvent.trigger(ensEvent)}catch(err){}};s_parseDataLayerActionExists=function(eventType,action){try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined"){for(var i=
digitalData.event.length-1;i>=0;i--)if(eventType==digitalData.event[i].eventType)if(typeof digitalData.event[i].data!="undefined"&&typeof digitalData.event[i].data.action!="undefined")if(action==digitalData.event[i].data.action)return true;return false}else return false}catch(err){return false}};s_pageOverrideUtil=function(pageName){if(pageName.indexOf("nab-kiosk:personal:")>-1)digitalData.event[digitalData.event.length-1].data.page=pageName.replace("nab-kiosk:personal:","nab-kiosk:personal-banking:");
else if(pageName.indexOf("nab-kiosk:business:")>-1)digitalData.event[digitalData.event.length-1].data.page=pageName.replace("nab-kiosk:business:","nab-kiosk:business-banking:")}},4093331,639227);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - prospect-form-start",function(){var temp_s={};temp_s.events="event41";temp_s.eVar51=function anon(){var formName=s.parseDataLayer("name");if(formName=="unknown name"){try{formName=digitalData.event[digitalData.event.length-2].data.name}catch(e){}if(/ciatesting/i.test(document.location.href))console.log("Fix trigerred - in tag")}return formName}.call(this);
temp_s.eVar24="Website";temp_s.eVar72=function anon(){if(typeof window.scFormDebugOverride!="undefined")return window.scFormDebugOverride;else return""}.call(this);temp_s.eVar47=function anon(){return s_parseDataLayerCustomValue("version")}.call(this);temp_s.pageName=function anon(){try{return digitalData.page.pageInfo.pageName+":"+s_parseDataLayer("section").replace(/\s+/g,"-").toLowerCase()}catch(e){}}.call(this);temp_s.eVar9="D\x3dpageName";s.t(temp_s)})},3665108,354199);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - internal-ad-postponed",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event131";s.prop9=function anon(){if(typeof digitalData.page.pageInfo.pageName!="undefined")return digitalData.page.pageInfo.pageName}.call(this);s.eVar9="D\x3dc9";s.list1=function anon(){try{var internalPromo=s.parseDataLayerByEventType("internalPromo",
"internal-ad-postponed");if(internalPromo===false||internalPromo=="unknown internalPromo"){console.log("Have to get internalPromo via old method");internalPromo=s.parseDataLayer("internalPromo")}if(typeof internalPromo=="string"&&internalPromo.toLowerCase().indexOf("-p")==internalPromo.length-2)return internalPromo;else if(typeof internalPromo!="undefined")return internalPromo.toString();return internalPromo}catch(err){return"unknown internalPromo"}}.call(this);s.eVar6=function anon(){try{var internalPromo=
s.parseDataLayerByEventType("internalPromo","internal-ad-postponed");if(internalPromo===false||internalPromo=="unknown internalPromo"){console.log("Have to get internalPromo via old method");internalPromo=s.parseDataLayer("internalPromo")}if(typeof internalPromo=="string"&&internalPromo.toLowerCase().indexOf("-p")==internalPromo.length-2)return internalPromo;else if(typeof internalPromo!="undefined")return internalPromo.toString();return internalPromo}catch(err){return"unknown internalPromo"}}.call(this);
s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="events,prop9,eVar9,list1,eVar6";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event131";s.tl(this,"o",function anon(){try{var mastheadCustomLinkVal="";mastheadCustomLinkVal=s.parseDataLayerByEventType("heading","internal-ad-postponed");if(mastheadCustomLinkVal===false||mastheadCustomLinkVal=="")mastheadCustomLinkVal=s.parseDataLayer("heading");
return mastheadCustomLinkVal}catch(err){return"unknown heading"}}.call(this));s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},3863833,732365);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - form - form-decision",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="";s.events+=""+function anon(){try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined"){var eventId="";if(/small business lending|cc application|online credit card application|home loan conditional approval/i.test(s.parseDataLayer("name"))){var application_id=
s.parseDataLayer("application_id");var serialised_id=s.parseDataLayer("serialised_id");if(/small business lending/i.test(s.parseDataLayer("name"))&&typeof application_id=="string"&&application_id!="unknown application_id"&&application_id!="")eventId="d"+application_id;else if(typeof serialised_id=="string"&&serialised_id!="unknown serialised_id"&&serialised_id!="")eventId="d"+serialised_id}for(var i=digitalData.event.length-1;i>=0;i--)if(digitalData.event[i].eventType=="form-interacted")if(typeof digitalData.event[i].data!=
"undefined"&&typeof digitalData.event[i].data.action!="undefined")if(digitalData.event[i].data.action=="form-decision"){var eventString="";if(typeof digitalData.event[i].transaction_amount_approved!="undefined")eventString="event1,event52,event44";else if(typeof digitalData.event[i].data.transaction_amount_approved!="undefined")if(/small business lending/i.test(s.parseDataLayer("name"))&&typeof digitalData.event[i].data.transaction_amount_applied_for!="undefined"&&digitalData.event[i].data.transaction_amount_applied_for!=
"maximum")eventString="event1,event52,event44,event14";else eventString="event1,event52,event44";else eventString="event1,event52";var balanceTransferAmount=s.parseDataLayer("balance_transfer_amount");if(typeof balanceTransferAmount!="undefined"&&balanceTransferAmount!=""&&balanceTransferAmount!="unknown balance_transfer_amount")eventString+=",event74";if(eventId){eventString=eventString.replace("event14","event14:"+eventId);eventString=eventString.replace("event44","event44:"+eventId);eventString=
eventString.replace("event52","event52:"+eventId);eventString=eventString.replace("event74","event74:"+eventId)}return eventString}}else return"event1"}catch(err){return false}}.call(this);s.eVar52=function anon(){try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined")for(var i=digitalData.event.length-1;i>=0;i--){if(digitalData.event[i].eventType=="form-interacted")if(typeof digitalData.event[i].data!="undefined"&&typeof digitalData.event[i].data.action!="undefined")if(digitalData.event[i].data.action==
"form-decision")if(typeof digitalData.event[i].transaction_result!="undefined")return digitalData.event[i].transaction_result;else if(typeof digitalData.event[i].data.transaction_result!="undefined")return digitalData.event[i].data.transaction_result;else if(typeof digitalData.event[i].data.initial_assessment_result!="undefined")return digitalData.event[i].data.initial_assessment_result;else return"unknown decision"}else return"unknown decision"}catch(err){return"unknown decision"}}.call(this);s.pageName=
function anon(){try{if(s.parseDataLayer("name")=="Small Business Loan Online Application"||s.parseDataLayer("name")=="Small Business Lending Online Application"||s.parseDataLayer("name")=="Small Business Lending Broker Online Application")if(s.parseDataLayer("formCompletionStage")=="completed")return s.parseDataLayer("pageName")+":submission:"+s.parseDataLayer("section");else return s.parseDataLayer("pageName")+":"+s.parseDataLayer("section");else if(s.parseDataLayer("pageName")!="unknown pageName")return s.parseDataLayer("pageName")+
":decision";else if(typeof digitalData.page.pageInfo.pageName!="undefined")return digitalData.page.pageInfo.pageName+":decision"}catch(err){return""}}.call(this);s.eVar56=function anon(){try{var refNumber=s.parseDataLayer("application_id");if(typeof refNumber=="string"&&refNumber!="unknown application_id")return refNumber;else if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined")for(var i=digitalData.event.length-1;i>=0;i--)if(digitalData.event[i].eventType=="form-interacted")if(typeof digitalData.event[i].data!=
"undefined"&&typeof digitalData.event[i].data.action!="undefined")if(digitalData.event[i].data.action=="form-decision")if(typeof digitalData.event[i].transaction_id!="undefined")return digitalData.event[i].transaction_id;else if(digitalData.event[i].data.transaction_id!="undefined")return digitalData.event[i].data.transaction_id;else return""}catch(err){return""}}.call(this);s.products=function anon(){try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined"){var productText="";
for(var i=digitalData.event.length-1;i>=0;i--)if(digitalData.event[i].eventType=="form-interacted")if(typeof digitalData.event[i].data!="undefined"&&typeof digitalData.event[i].data.action!="undefined")if(digitalData.event[i].data.action=="form-decision"){if(s_parseDataLayerProductId("form-interacted","form-completed")!==false)productText=";"+s_parseDataLayerProductId("form-interacted","form-completed");else if(/REA Home Loan Conditional Approval|NAB Home Loan Conditional Approval/i.test(s.parseDataLayer("name"))&&
s_parseDataLayerProductId("form-interacted","form-decision",true)!==false)productText=";"+s_parseDataLayerProductId("form-interacted","form-decision",true);else if(typeof digitalData.event[i].data.products!="undefined"&&typeof digitalData.event[i].data.products[0]!="undefined"&&typeof digitalData.event[i].data.products[0]["product-id"]!="undefined")productText=";"+digitalData.event[i].data.products[0]["product-id"];else if(typeof digitalData.event[i].data.products!="undefined"&&typeof digitalData.event[i].data.products[0]!=
"undefined"&&typeof digitalData.event[i].data.products[0]["product-name"]!="undefined")productText=";"+digitalData.event[i].data.products[0]["product-name"];else if(typeof digitalData.event[i].data.products!="undefined"&&typeof digitalData.event[i].data.products[0]!="undefined"&&typeof digitalData.event[i].data.products[0]["subProduct"]!="undefined")productText=";"+digitalData.event[i].data.products[0]["subProduct"];else if(productText==""&&typeof s_parseDataLayerCustomValue("productName")=="string")productText=
";"+s_parseDataLayerCustomValue("productName");if(typeof digitalData.event[i].transaction_amount_approved!="undefined")productText=productText+";;;event44\x3d"+digitalData.event[i].transaction_amount_approved;else if(typeof digitalData.event[i].data.transaction_amount_approved!="undefined"){productText=productText+";;;event44\x3d"+digitalData.event[i].data.transaction_amount_approved;var amount_approved=true}if(/small business lending|home loan conditional approval increase/i.test(s.parseDataLayer("name"))&&
typeof digitalData.event[i].data.transaction_amount_applied_for!="undefined"&&digitalData.event[i].data.transaction_amount_applied_for!="maximum")if(typeof amount_approved!="undefined")productText=productText+"|event14\x3d"+digitalData.event[i].data.transaction_amount_applied_for;else productText=productText+";;;event14\x3d"+digitalData.event[i].data.transaction_amount_applied_for;var productArray=s.parseDataLayer("products");if(typeof productArray=="object"&&typeof productArray[1]=="object"&&productText!=
"")for(var j=1;j<productArray.length;j++)if(typeof productArray[j]!="undefined")if(typeof productArray[j]["subProduct"]!="undefined"&&productArray[j]["subProduct"]!=="")productText+=",;"+productArray[j]["subProduct"];else if(typeof productArray[j]["product"]!="undefined"&&productArray[j]["product"]!=="")productText+=",;"+productArray[j]["product"];else if(typeof productArray[j]["product-id"]!="undefined"&&productArray[j]["product-id"]!=="")productText+=",;"+productArray[j]["product-id"];var balanceTransferAmount=
s.parseDataLayer("balance_transfer_amount");if(typeof balanceTransferAmount!="undefined"&&balanceTransferAmount!=""&&balanceTransferAmount!="unknown balance_transfer_amount"&&parseInt(balanceTransferAmount)>0)productText+=",;balanceTransfer"+";;;event74\x3d"+balanceTransferAmount;return productText}}else return false}catch(err){return false}}.call(this);s.prop26=function anon(){try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined"){for(var i=digitalData.event.length-1;i>=0;i--)if(digitalData.event[i].eventType==
"form-interacted")if(typeof digitalData.event[i].data!="undefined"&&typeof digitalData.event[i].data.action!="undefined")if(digitalData.event[i].data.action=="form-decision")if(typeof digitalData.event[i].data.transaction_amount_applied_for!="undefined")if(digitalData.event[i].data.transaction_amount_applied_for=="maximum")return"maximum";else if(s_parseDataLayerCustomValue("creditLimitDefault")=="maximum")return"maximum";else return"specific amount";else return"";return""}else return""}catch(err){return""}}.call(this);
s.prop27=function anon(){try{if(typeof digitalData!="undefined"&&typeof digitalData.event!="undefined"){for(var i=digitalData.event.length-1;i>=0;i--)if(digitalData.event[i].eventType=="form-interacted")if(typeof digitalData.event[i].data!="undefined"&&typeof digitalData.event[i].data.action!="undefined")if(digitalData.event[i].data.action=="form-decision")if(typeof digitalData.event[i].data.transaction_result_code!="undefined")return digitalData.event[i].data.transaction_result_code;else if(typeof digitalData.event[i].data.initial_assessment_result_code!=
"undefined")return digitalData.event[i].data.initial_assessment_result_code;else return"";return""}else return""}catch(err){return""}}.call(this);s.eVar20=function anon(){if(s.parseDataLayer("name")=="Small Business Lending Online Application"||s.parseDataLayer("name")=="Small Business Lending Broker Online Application")if(typeof s_parseDataLayerUserObj("form-interacted","applicantLiabilityDescription","form-decision")!="undefined")return s_parseDataLayerUserObj("form-interacted","applicantLiabilityDescription",
"form-decision");else if(typeof s_parseDataLayerUserObj("form-interacted","applicantLiabilityCode","form-decision")!="undefined")if(typeof s_parseDataLayerUserObj("form-interacted","trusteeLiabilityCode","form-decision")!="undefined"){var applicantLiabilityCode=s_parseDataLayerUserObj("form-interacted","applicantLiabilityCode","form-decision"),trusteeLiabilityCode=s_parseDataLayerUserObj("form-interacted","trusteeLiabilityCode","form-decision");return applicantLiabilityCode+"|"+trusteeLiabilityCode}else return s_parseDataLayerUserObj("form-interacted",
"applicantLiabilityCode","form-decision");else if(typeof s_parseDataLayerUserObj("form-interacted","applicantLiability","form-decision")=="string")return s_parseDataLayerUserObj("form-interacted","applicantLiability","form-decision");else return"";else if(typeof s_parseDataLayer("applicantLiability")=="string"&&s_parseDataLayer("applicantLiability")!="unknown applicantLiability")return s_parseDataLayer("applicantLiability");else if(typeof s_parseDataLayerUserObj("form-interacted","applicantLiability",
"submit-application")=="string")return s_parseDataLayerUserObj("form-interacted","applicantLiability","submit-application");else return""}.call(this);s.purchaseID=function anon(){try{if(/small business lending|cc application|online credit card application|home loan conditional approval/i.test(s.parseDataLayer("name"))){var application_id=s.parseDataLayer("application_id");var serialised_id=s.parseDataLayer("serialised_id");if(/small business lending/i.test(s.parseDataLayer("name"))&&typeof application_id==
"string"&&application_id!="unknown application_id"&&application_id!="")return"d"+application_id;else if(typeof serialised_id=="string"&&serialised_id!="unknown serialised_id"&&serialised_id!="")return"d"+serialised_id;else return""}}catch(err){return""}}.call(this);s.eVar15=function anon(){try{var gender=s_parseDataLayerUserObj("form-interacted","gender","form-decision");if(typeof gender=="string")return gender;else if(typeof window.sc_applicant_gender!="undefined")return window.sc_applicant_gender;
else return""}catch(err){return""}}.call(this);s.eVar16=function anon(){try{var age=s_parseDataLayerUserObj("form-interacted","age","form-decision");var dob=s_parseDataLayerUserObj("form-interacted","dob","form-decision");if(typeof age!="undefined"&&age!==false)return age;else if(typeof dob!="undefined"&&dob!==false)return dob;else if(typeof window.sc_applicant_age!="undefined")return window.sc_applicant_age;else return""}catch(err){return""}}.call(this);s.eVar17=function anon(){try{var state=s_parseDataLayerUserObj("form-interacted",
"state","form-decision");if(typeof state!="undefined")return state;else if(typeof window.sc_applicant_state!="undefined")return window.sc_applicant_state;else return""}catch(err){return""}}.call(this);s.eVar18=function anon(){try{var postcode=s_parseDataLayerUserObj("form-interacted","postcode","form-decision");if(typeof postcode!="undefined")return postcode;else if(typeof window.sc_applicant_postcode!="undefined")return window.sc_applicant_postcode;else return""}catch(err){return""}}.call(this);
s.eVar19=function anon(){try{var type=s_parseDataLayerUserObj("form-interacted","type","form-decision");if(typeof type=="string")return type.charAt(0).toUpperCase()+type.slice(1);else if(typeof window.sc_customer_type!="undefined")return window.sc_customer_type;else return""}catch(err){return""}}.call(this);s.eVar43=function anon(){if(s_parseDataLayer("directorType")!="unknown directorType")return s_parseDataLayer("directorType")}.call(this);s.eVar96=function anon(){if(s_parseDataLayer("processType")!=
"unknown processType")return s_parseDataLayer("processType")}.call(this);s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!=="None"?s.linkTrackVars+",":"";s.linkTrackVars+="eVar52,pageName,events,eVar56,products,prop26,prop27,eVar20,purchaseID,eVar15,eVar16,eVar17,eVar18,eVar19,eVar43,eVar96";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="None";s.linkTrackEvents+=","+function anon(){try{if(typeof digitalData!="undefined"&&typeof digitalData.event!=
"undefined"){var eventId="";if(/small business lending|cc application|online credit card application|home loan conditional approval/i.test(s.parseDataLayer("name"))){var application_id=s.parseDataLayer("application_id");var serialised_id=s.parseDataLayer("serialised_id");if(/small business lending/i.test(s.parseDataLayer("name"))&&typeof application_id=="string"&&application_id!="unknown application_id"&&application_id!="")eventId="d"+application_id;else if(typeof serialised_id=="string"&&serialised_id!=
"unknown serialised_id"&&serialised_id!="")eventId="d"+serialised_id}for(var i=digitalData.event.length-1;i>=0;i--)if(digitalData.event[i].eventType=="form-interacted")if(typeof digitalData.event[i].data!="undefined"&&typeof digitalData.event[i].data.action!="undefined")if(digitalData.event[i].data.action=="form-decision"){var eventString="";if(typeof digitalData.event[i].transaction_amount_approved!="undefined")eventString="event1,event52,event44";else if(typeof digitalData.event[i].data.transaction_amount_approved!=
"undefined")if(/small business lending/i.test(s.parseDataLayer("name"))&&typeof digitalData.event[i].data.transaction_amount_applied_for!="undefined"&&digitalData.event[i].data.transaction_amount_applied_for!="maximum")eventString="event1,event52,event44,event14";else eventString="event1,event52,event44";else eventString="event1,event52";var balanceTransferAmount=s.parseDataLayer("balance_transfer_amount");if(typeof balanceTransferAmount!="undefined"&&balanceTransferAmount!=""&&balanceTransferAmount!=
"unknown balance_transfer_amount")eventString+=",event74";if(eventId){eventString=eventString.replace("event14","event14:"+eventId);eventString=eventString.replace("event44","event44:"+eventId);eventString=eventString.replace("event52","event52:"+eventId);eventString=eventString.replace("event74","event74:"+eventId)}return eventString}}else return"event1"}catch(err){return false}}.call(this).replace(/(=.*?,|=.*?$)/g,",").replace(/,+$/,"");s.t();s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},
3801381,416269);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("ensEvent - internal-ad-dismissed",function(){s.origLTV=s.linkTrackVars;s.origLTE=s.linkTrackEvents;s.events="event37";s.prop9=function anon(){if(typeof digitalData.page.pageInfo.pageName!="undefined")return digitalData.page.pageInfo.pageName}.call(this);s.eVar9="D\x3dc9";s.list1=function anon(){try{var internalPromo=s.parseDataLayerByEventType("internalPromo","internal-ad-dismissed");
if(internalPromo===false||internalPromo=="unknown internalPromo"){console.log("Have to get internalPromo via old method");internalPromo=s.parseDataLayer("internalPromo")}if(typeof internalPromo=="string"&&internalPromo.toLowerCase().indexOf("-p")==internalPromo.length-2)return internalPromo;else if(typeof internalPromo!="undefined")return internalPromo.toString();return internalPromo}catch(err){return"unknown internalPromo"}}.call(this);s.eVar6=function anon(){try{var internalPromo=s.parseDataLayerByEventType("internalPromo",
"internal-ad-dismissed");if(internalPromo===false||internalPromo=="unknown internalPromo"){console.log("Have to get internalPromo via old method");internalPromo=s.parseDataLayer("internalPromo")}if(typeof internalPromo=="string"&&internalPromo.toLowerCase().indexOf("-p")==internalPromo.length-2)return internalPromo;else if(typeof internalPromo!="undefined")return internalPromo.toString();return internalPromo}catch(err){return"unknown internalPromo"}}.call(this);s.linkTrackVars=s.linkTrackVars&&s.linkTrackVars!==
"None"?s.linkTrackVars+",":"";s.linkTrackVars+="events,prop9,eVar9,list1,eVar6";s.linkTrackEvents=s.linkTrackEvents&&s.linkTrackEvents!=="None"?s.linkTrackEvents+",":"";s.linkTrackEvents+="event37";s.tl(this,"o",function anon(){try{var mastheadCustomLinkVal="";mastheadCustomLinkVal=s.parseDataLayerByEventType("heading","internal-ad-dismissed");if(mastheadCustomLinkVal===false||mastheadCustomLinkVal=="")mastheadCustomLinkVal=s.parseDataLayer("heading");return mastheadCustomLinkVal}catch(err){return"unknown heading"}}.call(this));
s.linkTrackVars=s.origLTV;s.linkTrackEvents=s.origLTE})},3863835,708910);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{if(typeof digitalData!="undefined"&&typeof digitalData.page!="undefined"&&typeof digitalData.page.pageInfo!="undefined"&&typeof digitalData.page.pageInfo.siteType!="undefined")return digitalData.page.pageInfo.siteType;else return""}catch(err){return""}},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,
dataDefName:"DDL - siteType",collection:"Digital Data Layer",source:"Manage",priv:"false"},{id:"15364"})},15364)},-1,-1);Bootstrapper.getServerComponent(Bootstrapper.getExtraParams ? Bootstrapper.getExtraParams() : undefined);}})();